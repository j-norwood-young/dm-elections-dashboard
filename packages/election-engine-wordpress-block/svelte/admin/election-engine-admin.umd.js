(function(Y){typeof define=="function"&&define.amd?define(Y):Y()})(function(){"use strict";var xt=Object.defineProperty;var el=(Y,X,te)=>X in Y?xt(Y,X,{enumerable:!0,configurable:!0,writable:!0,value:te}):Y[X]=te;var we=(Y,X,te)=>(el(Y,typeof X!="symbol"?X+"":X,te),te);function Y(){}function X(t,e){for(const l in e)t[l]=e[l];return t}function te(t){return t()}function Ne(){return Object.create(null)}function le(t){t.forEach(te)}function Ee(t){return typeof t=="function"}function ne(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ot(t){return Object.keys(t).length===0}function _e(t,e,l,n){if(t){const o=Ce(t,e,l,n);return t[0](o)}}function Ce(t,e,l,n){return t[1]&&n?X(l.ctx.slice(),t[1](n(e))):l.ctx}function de(t,e,l,n){if(t[2]&&n){const o=t[2](n(l));if(e.dirty===void 0)return o;if(typeof o=="object"){const i=[],c=Math.max(e.dirty.length,o.length);for(let s=0;s<c;s+=1)i[s]=e.dirty[s]|o[s];return i}return e.dirty|o}return e.dirty}function ge(t,e,l,n,o,i){if(o){const c=Ce(e,l,n,i);t.p(c,o)}}function he(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function ct(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function Se(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}function j(t,e){t.appendChild(e)}function P(t,e,l){t.insertBefore(e,l||null)}function L(t){t.parentNode&&t.parentNode.removeChild(t)}function x(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function q(t){return document.createElement(t)}function Z(t){return document.createTextNode(t)}function T(){return Z(" ")}function Ae(){return Z("")}function J(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function S(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function st(t){return Array.from(t.childNodes)}function ee(t,e){e=""+e,t.data!==e&&(t.data=e)}function F(t,e,l){t.classList.toggle(e,!!l)}function rt(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}let ae;function ue(t){ae=t}function Le(){if(!ae)throw new Error("Function called outside component initialization");return ae}function ft(t){Le().$$.on_destroy.push(t)}function Be(){const t=Le();return(e,l,{cancelable:n=!1}={})=>{const o=t.$$.callbacks[e];if(o){const i=rt(e,l,{cancelable:n});return o.slice().forEach(c=>{c.call(t,i)}),!i.defaultPrevented}return!0}}function at(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(n=>n.call(this,e))}const se=[],O=[];let re=[];const be=[],ut=Promise.resolve();let ye=!1;function _t(){ye||(ye=!0,ut.then(Me))}function ke(t){re.push(t)}function Q(t){be.push(t)}const pe=new Set;let fe=0;function Me(){if(fe!==0)return;const t=ae;do{try{for(;fe<se.length;){const e=se[fe];fe++,ue(e),dt(e.$$)}}catch(e){throw se.length=0,fe=0,e}for(ue(null),se.length=0,fe=0;O.length;)O.pop()();for(let e=0;e<re.length;e+=1){const l=re[e];pe.has(l)||(pe.add(l),l())}re.length=0}while(se.length);for(;be.length;)be.pop()();ye=!1,pe.clear(),ue(t)}function dt(t){if(t.fragment!==null){t.update(),le(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ke)}}function gt(t){const e=[],l=[];re.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),re=e}const me=new Set;let ie;function K(){ie={r:0,c:[],p:ie}}function R(){ie.r||le(ie.c),ie=ie.p}function N(t,e){t&&t.i&&(me.delete(t),t.i(e))}function A(t,e,l,n){if(t&&t.o){if(me.has(t))return;me.add(t),ie.c.push(()=>{me.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function G(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function z(t,e,l){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=l,l(t.$$.ctx[n]))}function I(t){t&&t.c()}function V(t,e,l){const{fragment:n,after_update:o}=t.$$;n&&n.m(e,l),ke(()=>{const i=t.$$.on_mount.map(te).filter(Ee);t.$$.on_destroy?t.$$.on_destroy.push(...i):le(i),t.$$.on_mount=[]}),o.forEach(ke)}function W(t,e){const l=t.$$;l.fragment!==null&&(gt(l.after_update),le(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function ht(t,e){t.$$.dirty[0]===-1&&(se.push(t),_t(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function oe(t,e,l,n,o,i,c=null,s=[-1]){const u=ae;ue(t);const g=t.$$={fragment:null,ctx:[],props:i,update:Y,not_equal:o,bound:Ne(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Ne(),dirty:s,skip_bound:!1,root:e.target||u.$$.root};c&&c(g.root);let r=!1;if(g.ctx=l?l(t,e.props||{},(p,f,...k)=>{const y=k.length?k[0]:f;return g.ctx&&o(g.ctx[p],g.ctx[p]=y)&&(!g.skip_bound&&g.bound[p]&&g.bound[p](y),r&&ht(t,p)),f}):[],g.update(),r=!0,le(g.before_update),g.fragment=n?n(g.ctx):!1,e.target){if(e.hydrate){const p=st(e.target);g.fragment&&g.fragment.l(p),p.forEach(L)}else g.fragment&&g.fragment.c();e.intro&&N(t.$$.fragment),V(t,e.target,e.anchor),Me()}ue(u)}class ce{constructor(){we(this,"$$");we(this,"$$set")}$destroy(){W(this,1),this.$destroy=Y}$on(e,l){if(!Ee(l))return Y;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const o=n.indexOf(l);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!ot(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const mt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(mt);function bt(t){let e,l,n,o,i;const c=t[16].default,s=_e(c,t,t[15],null);return{c(){e=q("button"),s&&s.c(),S(e,"type",t[0]),S(e,"id",t[3]),S(e,"title",t[1]),e.disabled=t[2],S(e,"aria-label",t[9]),S(e,"aria-hidden",t[10]),S(e,"class",l="button "+t[11]+" "+(t[13].class||"")),S(e,"style",t[12]),F(e,"button-primary",t[4]),F(e,"button-large",t[5]),F(e,"button-small",t[6]),F(e,"delete",t[7]),F(e,"button-link",t[8])},m(u,g){P(u,e,g),s&&s.m(e,null),n=!0,o||(i=J(e,"click",t[17]),o=!0)},p(u,[g]){s&&s.p&&(!n||g&32768)&&ge(s,c,u,u[15],n?de(c,u[15],g,null):he(u[15]),null),(!n||g&1)&&S(e,"type",u[0]),(!n||g&8)&&S(e,"id",u[3]),(!n||g&2)&&S(e,"title",u[1]),(!n||g&4)&&(e.disabled=u[2]),(!n||g&512)&&S(e,"aria-label",u[9]),(!n||g&1024)&&S(e,"aria-hidden",u[10]),(!n||g&10240&&l!==(l="button "+u[11]+" "+(u[13].class||"")))&&S(e,"class",l),(!n||g&4096)&&S(e,"style",u[12]),(!n||g&10256)&&F(e,"button-primary",u[4]),(!n||g&10272)&&F(e,"button-large",u[5]),(!n||g&10304)&&F(e,"button-small",u[6]),(!n||g&10368)&&F(e,"delete",u[7]),(!n||g&10496)&&F(e,"button-link",u[8])},i(u){n||(N(s,u),n=!0)},o(u){A(s,u),n=!1},d(u){u&&L(e),s&&s.d(u),o=!1,i()}}}function yt(t,e,l){const n=["type","title","disabled","id","primary","large","small","warning","danger","link","aria_label","aria_hidden","btn_class"];let o=Se(e,n),{$$slots:i={},$$scope:c}=e,{type:s="button"}=e,{title:u=null}=e,{disabled:g=!1}=e,{id:r=null}=e,{primary:p=!1}=e,{large:f=!1}=e,{small:k=!1}=e,{warning:y=!1}=e,{danger:a=!1}=e,{link:v=!1}=e,{aria_label:C=null}=e,{aria_hidden:_=!1}=e,{btn_class:E="button"}=e,h="";function m(d){at.call(this,t,d)}return t.$$set=d=>{e=X(X({},e),ct(d)),l(13,o=Se(e,n)),"type"in d&&l(0,s=d.type),"title"in d&&l(1,u=d.title),"disabled"in d&&l(2,g=d.disabled),"id"in d&&l(3,r=d.id),"primary"in d&&l(4,p=d.primary),"large"in d&&l(5,f=d.large),"small"in d&&l(6,k=d.small),"warning"in d&&l(7,y=d.warning),"danger"in d&&l(14,a=d.danger),"link"in d&&l(8,v=d.link),"aria_label"in d&&l(9,C=d.aria_label),"aria_hidden"in d&&l(10,_=d.aria_hidden),"btn_class"in d&&l(11,E=d.btn_class),"$$scope"in d&&l(15,c=d.$$scope)},t.$$.update=()=>{t.$$.dirty&128&&y&&l(12,h="color: #a00; border-color: #a00;"),t.$$.dirty&16384&&a&&l(12,h="background-color: #a00; border-color: #a00; color: #fff;")},[s,u,g,r,p,f,k,y,v,C,_,E,h,o,a,c,i,m]}class $ extends ce{constructor(e){super(),oe(this,e,yt,bt,ne,{type:0,title:1,disabled:2,id:3,primary:4,large:5,small:6,warning:7,danger:14,link:8,aria_label:9,aria_hidden:10,btn_class:11})}}function Pe(t,e,l){const n=t.slice();return n[9]=e[l],n}function qe(t,e,l){const n=t.slice();return n[12]=e[l],n}function je(t,e,l){const n=t.slice();return n[15]=e[l],n}function kt(t){let e=t[15]+"",l;return{c(){l=Z(e)},m(n,o){P(n,l,o)},p(n,o){o&8&&e!==(e=n[15]+"")&&ee(l,e)},d(n){n&&L(l)}}}function Te(t){let e,l,n;function o(){return t[6](t[15])}return l=new $({props:{primary:t[0]===t[15],$$slots:{default:[kt]},$$scope:{ctx:t}}}),l.$on("click",o),{c(){e=q("div"),I(l.$$.fragment),S(e,"class","option svelte-1we73ve")},m(i,c){P(i,e,c),V(l,e,null),n=!0},p(i,c){t=i;const s={};c&9&&(s.primary=t[0]===t[15]),c&262152&&(s.$$scope={dirty:c,ctx:t}),l.$set(s)},i(i){n||(N(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&L(e),W(l)}}}function pt(t){let e=t[12]+"",l;return{c(){l=Z(e)},m(n,o){P(n,l,o)},p(n,o){o&16&&e!==(e=n[12]+"")&&ee(l,e)},d(n){n&&L(l)}}}function De(t){let e,l,n;function o(){return t[7](t[12])}return l=new $({props:{primary:t[1]===t[12],$$slots:{default:[pt]},$$scope:{ctx:t}}}),l.$on("click",o),{c(){e=q("div"),I(l.$$.fragment),S(e,"class","option svelte-1we73ve")},m(i,c){P(i,e,c),V(l,e,null),n=!0},p(i,c){t=i;const s={};c&18&&(s.primary=t[1]===t[12]),c&262160&&(s.$$scope={dirty:c,ctx:t}),l.$set(s)},i(i){n||(N(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&L(e),W(l)}}}function He(t){let e,l,n,o,i=G(t[5]),c=[];for(let u=0;u<i.length;u+=1)c[u]=Ge(Pe(t,i,u));const s=u=>A(c[u],1,1,()=>{c[u]=null});return{c(){e=q("h4"),e.textContent="Select Province",l=T();for(let u=0;u<c.length;u+=1)c[u].c();n=Ae()},m(u,g){P(u,e,g),P(u,l,g);for(let r=0;r<c.length;r+=1)c[r]&&c[r].m(u,g);P(u,n,g),o=!0},p(u,g){if(g&36){i=G(u[5]);let r;for(r=0;r<i.length;r+=1){const p=Pe(u,i,r);c[r]?(c[r].p(p,g),N(c[r],1)):(c[r]=Ge(p),c[r].c(),N(c[r],1),c[r].m(n.parentNode,n))}for(K(),r=i.length;r<c.length;r+=1)s(r);R()}},i(u){if(!o){for(let g=0;g<i.length;g+=1)N(c[g]);o=!0}},o(u){c=c.filter(Boolean);for(let g=0;g<c.length;g+=1)A(c[g]);o=!1},d(u){u&&(L(e),L(l),L(n)),x(c,u)}}}function vt(t){let e=t[9]+"",l;return{c(){l=Z(e)},m(n,o){P(n,l,o)},p(n,o){o&32&&e!==(e=n[9]+"")&&ee(l,e)},d(n){n&&L(l)}}}function Ge(t){let e,l,n;function o(){return t[8](t[9])}return l=new $({props:{primary:t[2]===t[9],$$slots:{default:[vt]},$$scope:{ctx:t}}}),l.$on("click",o),{c(){e=q("div"),I(l.$$.fragment),S(e,"class","option svelte-1we73ve")},m(i,c){P(i,e,c),V(l,e,null),n=!0},p(i,c){t=i;const s={};c&36&&(s.primary=t[2]===t[9]),c&262176&&(s.$$scope={dirty:c,ctx:t}),l.$set(s)},i(i){n||(N(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&L(e),W(l)}}}function wt(t){let e,l,n,o,i,c,s,u,g=G(t[3]),r=[];for(let v=0;v<g.length;v+=1)r[v]=Te(je(t,g,v));const p=v=>A(r[v],1,1,()=>{r[v]=null});let f=G(t[4]),k=[];for(let v=0;v<f.length;v+=1)k[v]=De(qe(t,f,v));const y=v=>A(k[v],1,1,()=>{k[v]=null});let a=t[1]==="Provincial Legislature"&&He(t);return{c(){e=q("div"),l=q("h4"),l.textContent="Select Year",n=T();for(let v=0;v<r.length;v+=1)r[v].c();o=T(),i=q("h4"),i.textContent="Select Election",c=T();for(let v=0;v<k.length;v+=1)k[v].c();s=T(),a&&a.c(),S(e,"class","election-engine-selection-container svelte-1we73ve")},m(v,C){P(v,e,C),j(e,l),j(e,n);for(let _=0;_<r.length;_+=1)r[_]&&r[_].m(e,null);j(e,o),j(e,i),j(e,c);for(let _=0;_<k.length;_+=1)k[_]&&k[_].m(e,null);j(e,s),a&&a.m(e,null),u=!0},p(v,[C]){if(C&9){g=G(v[3]);let _;for(_=0;_<g.length;_+=1){const E=je(v,g,_);r[_]?(r[_].p(E,C),N(r[_],1)):(r[_]=Te(E),r[_].c(),N(r[_],1),r[_].m(e,o))}for(K(),_=g.length;_<r.length;_+=1)p(_);R()}if(C&18){f=G(v[4]);let _;for(_=0;_<f.length;_+=1){const E=qe(v,f,_);k[_]?(k[_].p(E,C),N(k[_],1)):(k[_]=De(E),k[_].c(),N(k[_],1),k[_].m(e,s))}for(K(),_=f.length;_<k.length;_+=1)y(_);R()}v[1]==="Provincial Legislature"?a?(a.p(v,C),C&2&&N(a,1)):(a=He(v),a.c(),N(a,1),a.m(e,null)):a&&(K(),A(a,1,1,()=>{a=null}),R())},i(v){if(!u){for(let C=0;C<g.length;C+=1)N(r[C]);for(let C=0;C<f.length;C+=1)N(k[C]);N(a),u=!0}},o(v){r=r.filter(Boolean);for(let C=0;C<r.length;C+=1)A(r[C]);k=k.filter(Boolean);for(let C=0;C<k.length;C+=1)A(k[C]);A(a),u=!1},d(v){v&&L(e),x(r,v),x(k,v),a&&a.d()}}}function Nt(t,e,l){let{years:n=[2024,2019,2014]}=e,{selected_year:o=2024}=e,{elections:i=["National Assembly","Provincial Legislature"]}=e,{selected_election:c="National Assembly"}=e,{regions:s=["Gauteng","Western Cape","KwaZulu-Natal","Eastern Cape","Free State","Limpopo","Mpumalanga","North West","Northern Cape"]}=e,{selected_region:u="Gauteng"}=e;const g=f=>l(0,o=f),r=f=>l(1,c=f),p=f=>l(2,u=f);return t.$$set=f=>{"years"in f&&l(3,n=f.years),"selected_year"in f&&l(0,o=f.selected_year),"elections"in f&&l(4,i=f.elections),"selected_election"in f&&l(1,c=f.selected_election),"regions"in f&&l(5,s=f.regions),"selected_region"in f&&l(2,u=f.selected_region)},[o,c,u,n,i,s,g,r,p]}class Et extends ce{constructor(e){super(),oe(this,e,Nt,wt,ne,{years:3,selected_year:0,elections:4,selected_election:1,regions:5,selected_region:2})}}function Oe(t,e,l){const n=t.slice();return n[9]=e[l],n}function Ve(t,e,l){const n=t.slice();return n[12]=e[l],n}function We(t,e,l){const n=t.slice();return n[15]=e[l],n}function Ct(t){let e=t[15]+"",l;return{c(){l=Z(e)},m(n,o){P(n,l,o)},p(n,o){o&8&&e!==(e=n[15]+"")&&ee(l,e)},d(n){n&&L(l)}}}function Fe(t){let e,l,n;function o(){return t[6](t[15])}return l=new $({props:{primary:t[0]===t[15],$$slots:{default:[Ct]},$$scope:{ctx:t}}}),l.$on("click",o),{c(){e=q("div"),I(l.$$.fragment),S(e,"class","option svelte-1we73ve")},m(i,c){P(i,e,c),V(l,e,null),n=!0},p(i,c){t=i;const s={};c&9&&(s.primary=t[0]===t[15]),c&262152&&(s.$$scope={dirty:c,ctx:t}),l.$set(s)},i(i){n||(N(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&L(e),W(l)}}}function St(t){let e=t[12]+"",l;return{c(){l=Z(e)},m(n,o){P(n,l,o)},p(n,o){o&16&&e!==(e=n[12]+"")&&ee(l,e)},d(n){n&&L(l)}}}function Ie(t){let e,l,n;function o(){return t[7](t[12])}return l=new $({props:{primary:t[1]===t[12],$$slots:{default:[St]},$$scope:{ctx:t}}}),l.$on("click",o),{c(){e=q("div"),I(l.$$.fragment),S(e,"class","option svelte-1we73ve")},m(i,c){P(i,e,c),V(l,e,null),n=!0},p(i,c){t=i;const s={};c&18&&(s.primary=t[1]===t[12]),c&262160&&(s.$$scope={dirty:c,ctx:t}),l.$set(s)},i(i){n||(N(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&L(e),W(l)}}}function At(t){let e=t[9]+"",l;return{c(){l=Z(e)},m(n,o){P(n,l,o)},p(n,o){o&32&&e!==(e=n[9]+"")&&ee(l,e)},d(n){n&&L(l)}}}function Ke(t){let e,l,n;function o(){return t[8](t[9])}return l=new $({props:{primary:t[2]===t[9],$$slots:{default:[At]},$$scope:{ctx:t}}}),l.$on("click",o),{c(){e=q("div"),I(l.$$.fragment),S(e,"class","option svelte-1we73ve")},m(i,c){P(i,e,c),V(l,e,null),n=!0},p(i,c){t=i;const s={};c&36&&(s.primary=t[2]===t[9]),c&262176&&(s.$$scope={dirty:c,ctx:t}),l.$set(s)},i(i){n||(N(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&L(e),W(l)}}}function Lt(t){let e,l,n,o,i,c,s,u,g,r,p=G(t[3]),f=[];for(let h=0;h<p.length;h+=1)f[h]=Fe(We(t,p,h));const k=h=>A(f[h],1,1,()=>{f[h]=null});let y=G(t[4]),a=[];for(let h=0;h<y.length;h+=1)a[h]=Ie(Ve(t,y,h));const v=h=>A(a[h],1,1,()=>{a[h]=null});let C=G(t[5]),_=[];for(let h=0;h<C.length;h+=1)_[h]=Ke(Oe(t,C,h));const E=h=>A(_[h],1,1,()=>{_[h]=null});return{c(){e=q("div"),l=q("h4"),l.textContent="Select Year",n=T();for(let h=0;h<f.length;h+=1)f[h].c();o=T(),i=q("h4"),i.textContent="Select Election",c=T();for(let h=0;h<a.length;h+=1)a[h].c();s=T(),u=q("h4"),u.textContent="Select Region",g=T();for(let h=0;h<_.length;h+=1)_[h].c();S(e,"class","election-engine-selection-container svelte-1we73ve")},m(h,m){P(h,e,m),j(e,l),j(e,n);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);j(e,o),j(e,i),j(e,c);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(e,null);j(e,s),j(e,u),j(e,g);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(e,null);r=!0},p(h,[m]){if(m&9){p=G(h[3]);let d;for(d=0;d<p.length;d+=1){const H=We(h,p,d);f[d]?(f[d].p(H,m),N(f[d],1)):(f[d]=Fe(H),f[d].c(),N(f[d],1),f[d].m(e,o))}for(K(),d=p.length;d<f.length;d+=1)k(d);R()}if(m&18){y=G(h[4]);let d;for(d=0;d<y.length;d+=1){const H=Ve(h,y,d);a[d]?(a[d].p(H,m),N(a[d],1)):(a[d]=Ie(H),a[d].c(),N(a[d],1),a[d].m(e,s))}for(K(),d=y.length;d<a.length;d+=1)v(d);R()}if(m&36){C=G(h[5]);let d;for(d=0;d<C.length;d+=1){const H=Oe(h,C,d);_[d]?(_[d].p(H,m),N(_[d],1)):(_[d]=Ke(H),_[d].c(),N(_[d],1),_[d].m(e,null))}for(K(),d=C.length;d<_.length;d+=1)E(d);R()}},i(h){if(!r){for(let m=0;m<p.length;m+=1)N(f[m]);for(let m=0;m<y.length;m+=1)N(a[m]);for(let m=0;m<C.length;m+=1)N(_[m]);r=!0}},o(h){f=f.filter(Boolean);for(let m=0;m<f.length;m+=1)A(f[m]);a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)A(a[m]);_=_.filter(Boolean);for(let m=0;m<_.length;m+=1)A(_[m]);r=!1},d(h){h&&L(e),x(f,h),x(a,h),x(_,h)}}}function Bt(t,e,l){let{years:n=[2024,2019,2014]}=e,{selected_year:o=2024}=e,{elections:i=["National Assembly","Provincial Legislature"]}=e,{selected_election:c="National Assembly"}=e,{regions:s=["National","Gauteng","Western Cape","KwaZulu-Natal","Eastern Cape","Free State","Limpopo","Mpumalanga","North West","Northern Cape"]}=e,{selected_region:u="National"}=e;const g=f=>l(0,o=f),r=f=>l(1,c=f),p=f=>l(2,u=f);return t.$$set=f=>{"years"in f&&l(3,n=f.years),"selected_year"in f&&l(0,o=f.selected_year),"elections"in f&&l(4,i=f.elections),"selected_election"in f&&l(1,c=f.selected_election),"regions"in f&&l(5,s=f.regions),"selected_region"in f&&l(2,u=f.selected_region)},[o,c,u,n,i,s,g,r,p]}class Mt extends ce{constructor(e){super(),oe(this,e,Bt,Lt,ne,{years:3,selected_year:0,elections:4,selected_election:1,regions:5,selected_region:2})}}function Re(t,e,l){const n=t.slice();return n[12]=e[l],n}function Ye(t,e,l){const n=t.slice();return n[15]=e[l],n}function Ze(t,e,l){const n=t.slice();return n[18]=e[l],n}function Qe(t,e,l){const n=t.slice();return n[21]=e[l],n}function Pt(t){let e=t[21]+"",l;return{c(){l=Z(e)},m(n,o){P(n,l,o)},p(n,o){o&16&&e!==(e=n[21]+"")&&ee(l,e)},d(n){n&&L(l)}}}function ze(t){let e,l,n;function o(){return t[8](t[21])}return l=new $({props:{primary:t[0]===t[21],$$slots:{default:[Pt]},$$scope:{ctx:t}}}),l.$on("click",o),{c(){e=q("div"),I(l.$$.fragment),S(e,"class","option svelte-1we73ve")},m(i,c){P(i,e,c),V(l,e,null),n=!0},p(i,c){t=i;const s={};c&17&&(s.primary=t[0]===t[21]),c&16777232&&(s.$$scope={dirty:c,ctx:t}),l.$set(s)},i(i){n||(N(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&L(e),W(l)}}}function qt(t){let e=t[18]+"",l;return{c(){l=Z(e)},m(n,o){P(n,l,o)},p(n,o){o&32&&e!==(e=n[18]+"")&&ee(l,e)},d(n){n&&L(l)}}}function Ue(t){let e,l,n;function o(){return t[9](t[18])}return l=new $({props:{primary:t[1]===t[18],$$slots:{default:[qt]},$$scope:{ctx:t}}}),l.$on("click",o),{c(){e=q("div"),I(l.$$.fragment),S(e,"class","option svelte-1we73ve")},m(i,c){P(i,e,c),V(l,e,null),n=!0},p(i,c){t=i;const s={};c&34&&(s.primary=t[1]===t[18]),c&16777248&&(s.$$scope={dirty:c,ctx:t}),l.$set(s)},i(i){n||(N(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&L(e),W(l)}}}function jt(t){let e=t[15]+"",l;return{c(){l=Z(e)},m(n,o){P(n,l,o)},p(n,o){o&64&&e!==(e=n[15]+"")&&ee(l,e)},d(n){n&&L(l)}}}function Je(t){let e,l,n;function o(){return t[10](t[15])}return l=new $({props:{primary:t[2]===t[15],$$slots:{default:[jt]},$$scope:{ctx:t}}}),l.$on("click",o),{c(){e=q("div"),I(l.$$.fragment),S(e,"class","option svelte-1we73ve")},m(i,c){P(i,e,c),V(l,e,null),n=!0},p(i,c){t=i;const s={};c&68&&(s.primary=t[2]===t[15]),c&16777280&&(s.$$scope={dirty:c,ctx:t}),l.$set(s)},i(i){n||(N(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&L(e),W(l)}}}function Tt(t){let e=t[12]+"",l;return{c(){l=Z(e)},m(n,o){P(n,l,o)},p(n,o){o&128&&e!==(e=n[12]+"")&&ee(l,e)},d(n){n&&L(l)}}}function Xe(t){let e,l,n;function o(){return t[11](t[12])}return l=new $({props:{primary:t[3].includes(t[12]),$$slots:{default:[Tt]},$$scope:{ctx:t}}}),l.$on("click",o),{c(){e=q("div"),I(l.$$.fragment),S(e,"class","option svelte-1we73ve")},m(i,c){P(i,e,c),V(l,e,null),n=!0},p(i,c){t=i;const s={};c&136&&(s.primary=t[3].includes(t[12])),c&16777344&&(s.$$scope={dirty:c,ctx:t}),l.$set(s)},i(i){n||(N(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&L(e),W(l)}}}function Dt(t){let e,l,n,o,i,c,s,u,g,r,p,f,k,y=G(t[4]),a=[];for(let w=0;w<y.length;w+=1)a[w]=ze(Qe(t,y,w));const v=w=>A(a[w],1,1,()=>{a[w]=null});let C=G(t[5]),_=[];for(let w=0;w<C.length;w+=1)_[w]=Ue(Ze(t,C,w));const E=w=>A(_[w],1,1,()=>{_[w]=null});let h=G(t[6]),m=[];for(let w=0;w<h.length;w+=1)m[w]=Je(Ye(t,h,w));const d=w=>A(m[w],1,1,()=>{m[w]=null});let H=G(t[7]),D=[];for(let w=0;w<H.length;w+=1)D[w]=Xe(Re(t,H,w));const ve=w=>A(D[w],1,1,()=>{D[w]=null});return{c(){e=q("div"),l=q("h4"),l.textContent="Select Year",n=T();for(let w=0;w<a.length;w+=1)a[w].c();o=T(),i=q("h4"),i.textContent="Select Election",c=T();for(let w=0;w<_.length;w+=1)_[w].c();s=T(),u=q("h4"),u.textContent="Select Region",g=T();for(let w=0;w<m.length;w+=1)m[w].c();r=T(),p=q("h4"),p.textContent="Select Fields",f=T();for(let w=0;w<D.length;w+=1)D[w].c();S(e,"class","election-engine-selection-container svelte-1we73ve")},m(w,B){P(w,e,B),j(e,l),j(e,n);for(let b=0;b<a.length;b+=1)a[b]&&a[b].m(e,null);j(e,o),j(e,i),j(e,c);for(let b=0;b<_.length;b+=1)_[b]&&_[b].m(e,null);j(e,s),j(e,u),j(e,g);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(e,null);j(e,r),j(e,p),j(e,f);for(let b=0;b<D.length;b+=1)D[b]&&D[b].m(e,null);k=!0},p(w,[B]){if(B&17){y=G(w[4]);let b;for(b=0;b<y.length;b+=1){const U=Qe(w,y,b);a[b]?(a[b].p(U,B),N(a[b],1)):(a[b]=ze(U),a[b].c(),N(a[b],1),a[b].m(e,o))}for(K(),b=y.length;b<a.length;b+=1)v(b);R()}if(B&34){C=G(w[5]);let b;for(b=0;b<C.length;b+=1){const U=Ze(w,C,b);_[b]?(_[b].p(U,B),N(_[b],1)):(_[b]=Ue(U),_[b].c(),N(_[b],1),_[b].m(e,s))}for(K(),b=C.length;b<_.length;b+=1)E(b);R()}if(B&68){h=G(w[6]);let b;for(b=0;b<h.length;b+=1){const U=Ye(w,h,b);m[b]?(m[b].p(U,B),N(m[b],1)):(m[b]=Je(U),m[b].c(),N(m[b],1),m[b].m(e,r))}for(K(),b=h.length;b<m.length;b+=1)d(b);R()}if(B&136){H=G(w[7]);let b;for(b=0;b<H.length;b+=1){const U=Re(w,H,b);D[b]?(D[b].p(U,B),N(D[b],1)):(D[b]=Xe(U),D[b].c(),N(D[b],1),D[b].m(e,null))}for(K(),b=H.length;b<D.length;b+=1)ve(b);R()}},i(w){if(!k){for(let B=0;B<y.length;B+=1)N(a[B]);for(let B=0;B<C.length;B+=1)N(_[B]);for(let B=0;B<h.length;B+=1)N(m[B]);for(let B=0;B<H.length;B+=1)N(D[B]);k=!0}},o(w){a=a.filter(Boolean);for(let B=0;B<a.length;B+=1)A(a[B]);_=_.filter(Boolean);for(let B=0;B<_.length;B+=1)A(_[B]);m=m.filter(Boolean);for(let B=0;B<m.length;B+=1)A(m[B]);D=D.filter(Boolean);for(let B=0;B<D.length;B+=1)A(D[B]);k=!1},d(w){w&&L(e),x(a,w),x(_,w),x(m,w),x(D,w)}}}function Ht(t,e,l){let{years:n=[2024,2019,2014]}=e,{selected_year:o=2024}=e,{elections:i=["National Assembly","Provincial Legislature"]}=e,{selected_election:c="National Assembly"}=e,{regions:s=["National","Gauteng","Western Cape","KwaZulu-Natal","Eastern Cape","Free State","Limpopo","Mpumalanga","North West","Northern Cape"]}=e,{selected_region:u="National"}=e,{fields:g=["Party","Votes","Seats"]}=e,{selected_fields:r=["Party","Votes","Seats"]}=e;const p=a=>l(0,o=a),f=a=>l(1,c=a),k=a=>l(2,u=a),y=a=>{r.includes(a)?l(3,r=r.filter(v=>v!==a)):l(3,r=[...r,a]),l(3,r)};return t.$$set=a=>{"years"in a&&l(4,n=a.years),"selected_year"in a&&l(0,o=a.selected_year),"elections"in a&&l(5,i=a.elections),"selected_election"in a&&l(1,c=a.selected_election),"regions"in a&&l(6,s=a.regions),"selected_region"in a&&l(2,u=a.selected_region),"fields"in a&&l(7,g=a.fields),"selected_fields"in a&&l(3,r=a.selected_fields)},[o,c,u,r,n,i,s,g,p,f,k,y]}class Gt extends ce{constructor(e){super(),oe(this,e,Ht,Dt,ne,{years:4,selected_year:0,elections:5,selected_election:1,regions:6,selected_region:2,fields:7,selected_fields:3})}}const Ot=t=>({}),$e=t=>({}),Vt=t=>({}),xe=t=>({});function Wt(t){let e,l,n,o,i,c,s,u,g,r,p,f;const k=t[5].title,y=_e(k,t,t[4],xe),a=t[5].default,v=_e(a,t,t[4],null),C=t[5].footer,_=_e(C,t,t[4],$e);return{c(){e=q("div"),l=T(),n=q("div"),o=q("div"),i=q("h3"),y&&y.c(),c=T(),s=q("div"),v&&v.c(),u=T(),g=q("div"),_&&_.c(),S(e,"role","button"),S(e,"tabindex","-1"),S(e,"class","modal-background svelte-uku0eo"),S(o,"class","election-engine-modal-title svelte-uku0eo"),S(s,"class","election-engine-modal-content"),S(g,"class","election-engine-modal-footer svelte-uku0eo"),S(n,"class","modal svelte-uku0eo"),S(n,"role","dialog"),S(n,"aria-modal","true")},m(E,h){P(E,e,h),t[6](e),P(E,l,h),P(E,n,h),j(n,o),j(o,i),y&&y.m(i,null),j(n,c),j(n,s),v&&v.m(s,null),j(n,u),j(n,g),_&&_.m(g,null),t[7](n),r=!0,p||(f=[J(window,"keydown",t[3]),J(e,"click",t[2]),J(e,"keypress",t[3]),J(n,"close",t[2])],p=!0)},p(E,[h]){y&&y.p&&(!r||h&16)&&ge(y,k,E,E[4],r?de(k,E[4],h,Vt):he(E[4]),xe),v&&v.p&&(!r||h&16)&&ge(v,a,E,E[4],r?de(a,E[4],h,null):he(E[4]),null),_&&_.p&&(!r||h&16)&&ge(_,C,E,E[4],r?de(C,E[4],h,Ot):he(E[4]),$e)},i(E){r||(N(y,E),N(v,E),N(_,E),r=!0)},o(E){A(y,E),A(v,E),A(_,E),r=!1},d(E){E&&(L(e),L(l),L(n)),t[6](null),y&&y.d(E),v&&v.d(E),_&&_.d(E),t[7](null),p=!1,le(f)}}}function Ft(t,e,l){let{$$slots:n={},$$scope:o}=e;const i=Be(),c=()=>i("close");let s,u;const g=k=>{if(k.key==="Escape"){c();return}if(k.key==="Tab"){const y=s.querySelectorAll("*"),a=Array.from(y).filter(C=>C.tabIndex>=0);let v=a.indexOf(document.activeElement);v===-1&&k.shiftKey&&(v=0),v+=a.length+(k.shiftKey?-1:1),v%=a.length,a[v].focus(),k.preventDefault()}},r=typeof document<"u"&&document.activeElement;r&&ft(()=>{r.focus()});function p(k){O[k?"unshift":"push"](()=>{u=k,l(1,u)})}function f(k){O[k?"unshift":"push"](()=>{s=k,l(0,s)})}return t.$$set=k=>{"$$scope"in k&&l(4,o=k.$$scope)},[s,u,c,g,o,n,p,f]}class It extends ce{constructor(e){super(),oe(this,e,Ft,Wt,ne,{})}}function et(t){let e,l;return e=new It({props:{$$slots:{title:[Yt],default:[Rt]},$$scope:{ctx:t}}}),e.$on("close",t[25]),e.$on("close",t[4]),{c(){I(e.$$.fragment)},m(n,o){V(e,n,o),l=!0},p(n,o){const i={};o&268435463&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){l||(N(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){W(e,n)}}}function tt(t){let e,l,n,o,i;function c(r){t[14](r)}function s(r){t[15](r)}function u(r){t[16](r)}let g={};return t[1].hemicycle.selected_year!==void 0&&(g.selected_year=t[1].hemicycle.selected_year),t[1].hemicycle.selected_election!==void 0&&(g.selected_election=t[1].hemicycle.selected_election),t[1].hemicycle.selected_region!==void 0&&(g.selected_region=t[1].hemicycle.selected_region),e=new Et({props:g}),O.push(()=>z(e,"selected_year",c)),O.push(()=>z(e,"selected_election",s)),O.push(()=>z(e,"selected_region",u)),{c(){I(e.$$.fragment)},m(r,p){V(e,r,p),i=!0},p(r,p){const f={};!l&&p&2&&(l=!0,f.selected_year=r[1].hemicycle.selected_year,Q(()=>l=!1)),!n&&p&2&&(n=!0,f.selected_election=r[1].hemicycle.selected_election,Q(()=>n=!1)),!o&&p&2&&(o=!0,f.selected_region=r[1].hemicycle.selected_region,Q(()=>o=!1)),e.$set(f)},i(r){i||(N(e.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function lt(t){let e,l,n,o,i;function c(r){t[17](r)}function s(r){t[18](r)}function u(r){t[19](r)}let g={};return t[1].carto.selected_year!==void 0&&(g.selected_year=t[1].carto.selected_year),t[1].carto.selected_election!==void 0&&(g.selected_election=t[1].carto.selected_election),t[1].carto.selected_region!==void 0&&(g.selected_region=t[1].carto.selected_region),e=new Mt({props:g}),O.push(()=>z(e,"selected_year",c)),O.push(()=>z(e,"selected_election",s)),O.push(()=>z(e,"selected_region",u)),{c(){I(e.$$.fragment)},m(r,p){V(e,r,p),i=!0},p(r,p){const f={};!l&&p&2&&(l=!0,f.selected_year=r[1].carto.selected_year,Q(()=>l=!1)),!n&&p&2&&(n=!0,f.selected_election=r[1].carto.selected_election,Q(()=>n=!1)),!o&&p&2&&(o=!0,f.selected_region=r[1].carto.selected_region,Q(()=>o=!1)),e.$set(f)},i(r){i||(N(e.$$.fragment,r),i=!0)},o(r){A(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function nt(t){let e,l,n,o,i,c;function s(f){t[20](f)}function u(f){t[21](f)}function g(f){t[22](f)}function r(f){t[23](f)}let p={};return t[1].table.selected_year!==void 0&&(p.selected_year=t[1].table.selected_year),t[1].table.selected_election!==void 0&&(p.selected_election=t[1].table.selected_election),t[1].table.selected_region!==void 0&&(p.selected_region=t[1].table.selected_region),t[1].table.selected_fields!==void 0&&(p.selected_fields=t[1].table.selected_fields),e=new Gt({props:p}),O.push(()=>z(e,"selected_year",s)),O.push(()=>z(e,"selected_election",u)),O.push(()=>z(e,"selected_region",g)),O.push(()=>z(e,"selected_fields",r)),{c(){I(e.$$.fragment)},m(f,k){V(e,f,k),c=!0},p(f,k){const y={};!l&&k&2&&(l=!0,y.selected_year=f[1].table.selected_year,Q(()=>l=!1)),!n&&k&2&&(n=!0,y.selected_election=f[1].table.selected_election,Q(()=>n=!1)),!o&&k&2&&(o=!0,y.selected_region=f[1].table.selected_region,Q(()=>o=!1)),!i&&k&2&&(i=!0,y.selected_fields=f[1].table.selected_fields,Q(()=>i=!1)),e.$set(y)},i(f){c||(N(e.$$.fragment,f),c=!0)},o(f){A(e.$$.fragment,f),c=!1},d(f){W(e,f)}}}function Kt(t){let e;return{c(){e=Z("Done")},m(l,n){P(l,e,n)},d(l){l&&L(e)}}}function Rt(t){let e,l,n,o,i,c,s,u,g,r,p,f,k,y,a,v,C,_=t[0]==="hemicycle"&&tt(t),E=t[0]==="carto"&&lt(t),h=t[0]==="table"&&nt(t);return y=new $({props:{secondary:!0,$$slots:{default:[Kt]},$$scope:{ctx:t}}}),y.$on("click",t[24]),y.$on("click",t[4]),{c(){e=q("div"),l=q("div"),l.innerHTML="<p>Hemicycle</p>",n=T(),o=q("div"),o.innerHTML="<p>Map</p>",i=T(),c=q("div"),c.innerHTML="<p>Table</p>",s=T(),_&&_.c(),u=T(),E&&E.c(),g=T(),h&&h.c(),r=T(),p=q("hr"),f=T(),k=q("div"),I(y.$$.fragment),S(l,"class","election-engine-visualisation-item svelte-48878w"),S(l,"role","button"),S(l,"tabindex","0"),F(l,"selected",t[0]==="hemicycle"),S(o,"class","election-engine-visualisation-item svelte-48878w"),S(o,"role","button"),S(o,"tabindex","0"),F(o,"selected",t[0]==="carto"),S(c,"class","election-engine-visualisation-item svelte-48878w"),S(c,"role","button"),S(c,"tabindex","0"),F(c,"selected",t[0]==="table"),S(e,"class","election-engine-visualisation-container svelte-48878w"),S(p,"class","mt-4 svelte-48878w"),S(k,"class","mt-4 svelte-48878w")},m(m,d){P(m,e,d),j(e,l),j(e,n),j(e,o),j(e,i),j(e,c),P(m,s,d),_&&_.m(m,d),P(m,u,d),E&&E.m(m,d),P(m,g,d),h&&h.m(m,d),P(m,r,d),P(m,p,d),P(m,f,d),P(m,k,d),V(y,k,null),a=!0,v||(C=[J(l,"click",t[8]),J(l,"keypress",t[9]),J(o,"click",t[10]),J(o,"keypress",t[11]),J(c,"click",t[12]),J(c,"keypress",t[13])],v=!0)},p(m,d){(!a||d&1)&&F(l,"selected",m[0]==="hemicycle"),(!a||d&1)&&F(o,"selected",m[0]==="carto"),(!a||d&1)&&F(c,"selected",m[0]==="table"),m[0]==="hemicycle"?_?(_.p(m,d),d&1&&N(_,1)):(_=tt(m),_.c(),N(_,1),_.m(u.parentNode,u)):_&&(K(),A(_,1,1,()=>{_=null}),R()),m[0]==="carto"?E?(E.p(m,d),d&1&&N(E,1)):(E=lt(m),E.c(),N(E,1),E.m(g.parentNode,g)):E&&(K(),A(E,1,1,()=>{E=null}),R()),m[0]==="table"?h?(h.p(m,d),d&1&&N(h,1)):(h=nt(m),h.c(),N(h,1),h.m(r.parentNode,r)):h&&(K(),A(h,1,1,()=>{h=null}),R());const H={};d&268435456&&(H.$$scope={dirty:d,ctx:m}),y.$set(H)},i(m){a||(N(_),N(E),N(h),N(y.$$.fragment,m),a=!0)},o(m){A(_),A(E),A(h),A(y.$$.fragment,m),a=!1},d(m){m&&(L(e),L(s),L(u),L(g),L(r),L(p),L(f),L(k)),_&&_.d(m),E&&E.d(m),h&&h.d(m),W(y),v=!1,le(C)}}}function Yt(t){let e;return{c(){e=q("div"),e.innerHTML="<h2>Elections Engine</h2>",S(e,"slot","title")},m(l,n){P(l,e,n)},p:Y,d(l){l&&L(e)}}}function Zt(t){let e,l,n=t[2]&&et(t);return{c(){n&&n.c(),e=Ae()},m(o,i){n&&n.m(o,i),P(o,e,i),l=!0},p(o,[i]){o[2]?n?(n.p(o,i),i&4&&N(n,1)):(n=et(o),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(K(),A(n,1,1,()=>{n=null}),R())},i(o){l||(N(n),l=!0)},o(o){A(n),l=!1},d(o){o&&L(e),n&&n.d(o)}}}function Qt(t,e,l){const n=Be();let{show_modal:o=!1}=e,{is_block:i=!0}=e,{visualisation:c="hemicycle"}=e,{visualisation_data:s={hemicycle:{selected_year:2024,selected_election:"National Assembly",selected_region:"Gauteng"},carto:{selected_year:2024,selected_election:"National Assembly",selected_region:"National"},table:{selected_year:2024,selected_election:"National Assembly",selected_region:"National",selected_fields:["Party","Votes","Seats"]}}}=e,u=null,g=null;i&&jQuery(document).on("election-engine-edit-block-click",(M,tl,Xt,$t)=>{l(6,u=Xt),l(7,g=$t),u.visualisation&&l(0,c=u.visualisation),l(1,s[c]={...u},s),l(2,o=!0)});function r(M){l(0,c=M),u&&l(6,u.visualisation=M,u)}function p(M){M.preventDefault(),n("close")}const f=()=>r("hemicycle"),k=()=>r("hemicycle"),y=()=>r("carto"),a=()=>r("carto"),v=()=>r("table"),C=()=>r("table");function _(M){t.$$.not_equal(s.hemicycle.selected_year,M)&&(s.hemicycle.selected_year=M,l(1,s))}function E(M){t.$$.not_equal(s.hemicycle.selected_election,M)&&(s.hemicycle.selected_election=M,l(1,s))}function h(M){t.$$.not_equal(s.hemicycle.selected_region,M)&&(s.hemicycle.selected_region=M,l(1,s))}function m(M){t.$$.not_equal(s.carto.selected_year,M)&&(s.carto.selected_year=M,l(1,s))}function d(M){t.$$.not_equal(s.carto.selected_election,M)&&(s.carto.selected_election=M,l(1,s))}function H(M){t.$$.not_equal(s.carto.selected_region,M)&&(s.carto.selected_region=M,l(1,s))}function D(M){t.$$.not_equal(s.table.selected_year,M)&&(s.table.selected_year=M,l(1,s))}function ve(M){t.$$.not_equal(s.table.selected_election,M)&&(s.table.selected_election=M,l(1,s))}function w(M){t.$$.not_equal(s.table.selected_region,M)&&(s.table.selected_region=M,l(1,s))}function B(M){t.$$.not_equal(s.table.selected_fields,M)&&(s.table.selected_fields=M,l(1,s))}const b=()=>l(2,o=!1),U=()=>l(2,o=!1);return t.$$set=M=>{"show_modal"in M&&l(2,o=M.show_modal),"is_block"in M&&l(5,i=M.is_block),"visualisation"in M&&l(0,c=M.visualisation),"visualisation_data"in M&&l(1,s=M.visualisation_data)},t.$$.update=()=>{t.$$.dirty&227&&u&&g&&i&&(c==="hemicycle"?g({...u,...s.hemicycle}):c==="carto"?g({...u,...s.carto}):c==="table"&&g({...u,...s.table}))},[c,s,o,r,p,i,u,g,f,k,y,a,v,C,_,E,h,m,d,H,D,ve,w,B,b,U]}class it extends ce{constructor(e){super(),oe(this,e,Qt,Zt,ne,{show_modal:2,is_block:5,visualisation:0,visualisation_data:1})}}function zt(t){let e,l,n,o,i,c,s,u,g;function r(y){t[5](y)}function p(y){t[6](y)}function f(y){t[7](y)}let k={is_block:!1};return t[1]!==void 0&&(k.visualisation=t[1]),t[2]!==void 0&&(k.visualisation_data=t[2]),t[0]!==void 0&&(k.show_modal=t[0]),n=new it({props:k}),O.push(()=>z(n,"visualisation",r)),O.push(()=>z(n,"visualisation_data",p)),O.push(()=>z(n,"show_modal",f)),n.$on("close",t[4]),{c(){e=q("a"),e.innerHTML='<span class="wp-media-buttons-icon dashicons dashicons-chart-bar"></span> Election Engine',l=T(),I(n.$$.fragment),S(e,"href","#"),S(e,"class","button"),S(e,"id","electionengine_insert_shortcode_button"),S(e,"data-editor","content")},m(y,a){P(y,e,a),P(y,l,a),V(n,y,a),s=!0,u||(g=J(e,"click",t[3]),u=!0)},p(y,[a]){const v={};!o&&a&2&&(o=!0,v.visualisation=y[1],Q(()=>o=!1)),!i&&a&4&&(i=!0,v.visualisation_data=y[2],Q(()=>i=!1)),!c&&a&1&&(c=!0,v.show_modal=y[0],Q(()=>c=!1)),n.$set(v)},i(y){s||(N(n.$$.fragment,y),s=!0)},o(y){A(n.$$.fragment,y),s=!1},d(y){y&&(L(e),L(l)),W(n,y),u=!1,g()}}}function Ut(t,e,l){let n=!1,o="hemicycle",i={hemicycle:{selected_year:2024,selected_election:"National Assembly",selected_region:"Gauteng"},carto:{selected_year:2024,selected_election:"National Assembly",selected_region:"National"},table:{selected_year:2024,selected_election:"National Assembly",selected_region:"National",selected_fields:["Party","Votes","Seats"]}};function c(p){p.preventDefault(),l(0,n=!0)}function s(p){p.preventDefault(),l(0,n=!1);const f={visualisation:o,selected_year:i[o].selected_year,selected_election:i[o].selected_election,selected_region:i[o].selected_region};o==="table"&&(f.selected_fields=i[o].selected_fields.join(","));let k=[];for(const a in f)k.push(`${a}="${f[a]}"`);const y=`[election-engine ${k.join(" ")}]`;wp.media.editor.insert(y)}function u(p){o=p,l(1,o)}function g(p){i=p,l(2,i)}function r(p){n=p,l(0,n)}return[n,o,i,c,s,u,g,r]}class Jt extends ce{constructor(e){super(),oe(this,e,Ut,zt,ne,{})}}jQuery(()=>{const t=document.getElementById("ElectionsEngineAdminModal");t&&new it({target:t});const e=document.getElementById("ElectionsEngineShortcodeModal");e&&new Jt({target:e})})});
