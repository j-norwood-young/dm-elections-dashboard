(function(T){typeof define=="function"&&define.amd?define(T):T()})(function(){"use strict";var fi=Object.defineProperty;var oi=(T,Q,$)=>Q in T?fi(T,Q,{enumerable:!0,configurable:!0,writable:!0,value:$}):T[Q]=$;var Ye=(T,Q,$)=>(oi(T,typeof Q!="symbol"?Q+"":Q,$),$);function T(){}function Q(i){return i()}function $(){return Object.create(null)}function fe(i){i.forEach(Q)}function Ke(i){return typeof i=="function"}function Ne(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}function Bt(i){return Object.keys(i).length===0}function b(i,e){i.appendChild(e)}function q(i,e,t){i.insertBefore(e,t||null)}function A(i){i.parentNode&&i.parentNode.removeChild(i)}function be(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function O(i){return document.createElement(i)}function V(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function x(i){return document.createTextNode(i)}function le(){return x(" ")}function Fe(){return x("")}function oe(i,e,t,l){return i.addEventListener(e,t,l),()=>i.removeEventListener(e,t,l)}function f(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function Ct(i){return Array.from(i.childNodes)}function K(i,e){e=""+e,i.data!==e&&(i.data=e)}function Z(i,e,t){i.classList.toggle(e,!!t)}let we;function ke(i){we=i}function Mt(){if(!we)throw new Error("Function called outside component initialization");return we}function Vt(i){Mt().$$.on_mount.push(i)}const ce=[],Xe=[];let he=[];const $e=[],St=Promise.resolve();let He=!1;function At(){He||(He=!0,St.then(et))}function je(i){he.push(i)}const Le=new Set;let ue=0;function et(){if(ue!==0)return;const i=we;do{try{for(;ue<ce.length;){const e=ce[ue];ue++,ke(e),qt(e.$$)}}catch(e){throw ce.length=0,ue=0,e}for(ke(null),ce.length=0,ue=0;Xe.length;)Xe.pop()();for(let e=0;e<he.length;e+=1){const t=he[e];Le.has(t)||(Le.add(t),t())}he.length=0}while(ce.length);for(;$e.length;)$e.pop()();He=!1,Le.clear(),ke(i)}function qt(i){if(i.fragment!==null){i.update(),fe(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(je)}}function Pt(i){const e=[],t=[];he.forEach(l=>i.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),he=e}const Me=new Set;let re;function tt(){re={r:0,c:[],p:re}}function it(){re.r||fe(re.c),re=re.p}function X(i,e){i&&i.i&&(Me.delete(i),i.i(e))}function de(i,e,t,l){if(i&&i.o){if(Me.has(i))return;Me.add(i),re.c.push(()=>{Me.delete(i),l&&(t&&i.d(1),l())}),i.o(e)}else l&&l()}function G(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function lt(i){i&&i.c()}function We(i,e,t){const{fragment:l,after_update:r}=i.$$;l&&l.m(e,t),je(()=>{const n=i.$$.on_mount.map(Q).filter(Ke);i.$$.on_destroy?i.$$.on_destroy.push(...n):fe(n),i.$$.on_mount=[]}),r.forEach(je)}function ze(i,e){const t=i.$$;t.fragment!==null&&(Pt(t.after_update),fe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Tt(i,e){i.$$.dirty[0]===-1&&(ce.push(i),At(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function Je(i,e,t,l,r,n,o=null,s=[-1]){const a=we;ke(i);const c=i.$$={fragment:null,ctx:[],props:n,update:T,not_equal:r,bound:$(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:$(),dirty:s,skip_bound:!1,root:e.target||a.$$.root};o&&o(c.root);let h=!1;if(c.ctx=t?t(i,e.props||{},(u,d,..._)=>{const y=_.length?_[0]:d;return c.ctx&&r(c.ctx[u],c.ctx[u]=y)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](y),h&&Tt(i,u)),d}):[],c.update(),h=!0,fe(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const u=Ct(e.target);c.fragment&&c.fragment.l(u),u.forEach(A)}else c.fragment&&c.fragment.c();e.intro&&X(i.$$.fragment),We(i,e.target,e.anchor),et()}ke(a)}class Ie{constructor(){Ye(this,"$$");Ye(this,"$$set")}$destroy(){ze(this,1),this.$destroy=T}$on(e,t){if(!Ke(t))return T;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const r=l.indexOf(t);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!Bt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const xt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(xt);var rt={},Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});var Rt=function(){function i(){this.root=null}return i.prototype.insertSuccessor=function(e,t){var l;if(e){if(t.prev=e,t.next=e.next,e.next&&(e.next.prev=t),e.next=t,e.right){for(e=e.right;e.left;)e=e.left;e.left=t}else e.right=t;l=e}else this.root?(e=this.first(this.root),t.prev=null,t.next=e,e.prev=t,e.left=t,l=e):(t.prev=t.next=null,this.root=t,l=null);t.left=t.right=null,t.parent=l,t.red=!0;var r,n;for(e=t;l&&l.red;)r=l.parent,l===r.left?(n=r.right,n&&n.red?(l.red=n.red=!1,r.red=!0,e=r):(e===l.right&&(this.rotateLeft(l),e=l,l=e.parent),l.red=!1,r.red=!0,this.rotateRight(r))):(n=r.left,n&&n.red?(l.red=n.red=!1,r.red=!0,e=r):(e===l.left&&(this.rotateRight(l),e=l,l=e.parent),l.red=!1,r.red=!0,this.rotateLeft(r))),l=e.parent;this.root.red=!1},i.prototype.removeNode=function(e){e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next),e.next=e.prev=null;var t=e.parent,l=e.left,r=e.right,n=null;l?r?n=this.first(r):n=l:n=r,t?t.left===e?t.left=n:t.right=n:this.root=n;var o;if(l&&r?(o=n.red,n.red=e.red,n.left=l,l.parent=n,n!==r?(t=n.parent,n.parent=e.parent,e=n.right,t.left=e,n.right=r,r.parent=n):(n.parent=t,t=n,e=n.right)):(o=e.red,e=n),e&&(e.parent=t),!o){if(e&&e.red){e.red=!1;return}var s;do{if(e===this.root)break;if(e===t.left){if(s=t.right,s.red&&(s.red=!1,t.red=!0,this.rotateLeft(t),s=t.right),s.left&&s.left.red||s.right&&s.right.red){(!s.right||!s.right.red)&&(s.left.red=!1,s.red=!0,this.rotateRight(s),s=t.right),s.red=t.red,t.red=s.right.red=!1,this.rotateLeft(t),e=this.root;break}}else if(s=t.left,s.red&&(s.red=!1,t.red=!0,this.rotateRight(t),s=t.left),s.left&&s.left.red||s.right&&s.right.red){(!s.left||!s.left.red)&&(s.right.red=!1,s.red=!0,this.rotateLeft(s),s=t.left),s.red=t.red,t.red=s.left.red=!1,this.rotateRight(t),e=this.root;break}s.red=!0,e=t,t=t.parent}while(!e.red);e&&(e.red=!1)}},i.prototype.rotateLeft=function(e){var t=e,l=e.right,r=t.parent;r?r.left===t?r.left=l:r.right=l:this.root=l,l.parent=r,t.parent=l,t.right=l.left,t.right&&(t.right.parent=t),l.left=t},i.prototype.rotateRight=function(e){var t=e,l=e.left,r=t.parent;r?r.left===t?r.left=l:r.right=l:this.root=l,l.parent=r,t.parent=l,t.left=l.right,t.left&&(t.left.parent=t),l.right=t},i.prototype.first=function(e){for(;e.left;)e=e.left;return e},i.prototype.last=function(e){for(;e.right;)e=e.right;return e},i}();Ve.RBTree=Rt;var Nt=function(){function i(){}return i}();Ve.RBTreeNode=Nt;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});var Ft=function(){function i(e,t){this.x=e,this.y=t}return i}();Oe.Vertex=Ft;var De={};Object.defineProperty(De,"__esModule",{value:!0});var Ht=function(){function i(e,t){this.lSite=e,this.rSite=t,this.va=this.vb=null}return i}();De.Edge=Ht;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});var jt=function(){function i(e){this.site=e,this.halfedges=[],this.closeMe=!1}return i.prototype.init=function(e){return this.site=e,this.halfedges=[],this.closeMe=!1,this},i.prototype.prepareHalfedges=function(){for(var e=this.halfedges,t=e.length,l;t--;)l=e[t].edge,(!l.vb||!l.va)&&e.splice(t,1);return e.sort(function(r,n){return n.angle-r.angle}),e.length},i.prototype.getNeighborIds=function(){for(var e=[],t=this.halfedges.length,l;t--;)l=this.halfedges[t].edge,l.lSite!==null&&l.lSite.id!=this.site.id?e.push(l.lSite.id):l.rSite!==null&&l.rSite.id!=this.site.id&&e.push(l.rSite.id);return e},i.prototype.getBbox=function(){for(var e=this.halfedges,t=e.length,l=1/0,r=1/0,n=-1/0,o=-1/0,s,a,c;t--;)s=e[t].getStartpoint(),a=s.x,c=s.y,a<l&&(l=a),c<r&&(r=c),a>n&&(n=a),c>o&&(o=c);return{x:l,y:r,width:n-l,height:o-r}},i.prototype.pointIntersection=function(e,t){for(var l=this.halfedges,r=l.length,n,o,s,a;r--;){if(n=l[r],o=n.getStartpoint(),s=n.getEndpoint(),a=(t-o.y)*(s.x-o.x)-(e-o.x)*(s.y-o.y),!a)return 0;if(a>0)return-1}return 1},i}();Qe.Cell=jt;var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});var Lt=function(){function i(e){this.site=e}return i}();Ze.Diagram=Lt;var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0});var Wt=function(){function i(e,t,l){if(this.site=t,this.edge=e,l)this.angle=Math.atan2(l.y-t.y,l.x-t.x);else{var r=e.va,n=e.vb;this.angle=e.lSite===t?Math.atan2(n.x-r.x,r.y-n.y):Math.atan2(r.x-n.x,n.y-r.y)}}return i.prototype.getStartpoint=function(){return this.edge.lSite===this.site?this.edge.va:this.edge.vb},i.prototype.getEndpoint=function(){return this.edge.lSite===this.site?this.edge.vb:this.edge.va},i}();Ge.Halfedge=Wt,Object.defineProperty(rt,"__esModule",{value:!0});var Se=Ve,zt=Oe,nt=De,Jt=Qe,st=Ze,It=Ge,Ot=function(){function i(){this.vertices=null,this.edges=null,this.cells=null,this.toRecycle=null,this.beachsectionJunkyard=[],this.circleEventJunkyard=[],this.vertexJunkyard=[],this.edgeJunkyard=[],this.cellJunkyard=[]}return i.prototype.compute=function(e,t){var l=new Date;this.reset(),this.toRecycle&&(this.vertexJunkyard=this.vertexJunkyard.concat(this.toRecycle.vertices),this.edgeJunkyard=this.edgeJunkyard.concat(this.toRecycle.edges),this.cellJunkyard=this.cellJunkyard.concat(this.toRecycle.cells),this.toRecycle=null);var r=e.slice(0);r.sort(function(_,y){var p=y.y-_.y;return p||y.x-_.x});for(var n=r.pop(),o=0,s,a,c=this.cells,h;;)if(h=this.firstCircleEvent,n&&(!h||n.y<h.y||n.y===h.y&&n.x<h.x))(n.x!==s||n.y!==a)&&(c[o]=this.createCell(n),n.id=o++,this.addBeachsection(n),a=n.y,s=n.x),n=r.pop();else if(h)this.removeBeachsection(h.arc);else break;this.clipEdges(t),this.closeCells(t);var u=new Date,d=new st.Diagram;return d.cells=this.cells,d.edges=this.edges,d.vertices=this.vertices,d.execTime=u.getTime()-l.getTime(),this.reset(),d},i.prototype.sqrt=function(e){return Math.sqrt(e)},i.prototype.abs=function(e){return Math.abs(e)},i.prototype.eps=function(){return 1e-9},i.prototype.inveps=function(){return 1/this.eps()},i.prototype.equalWithEpsilon=function(e,t){return this.abs(e-t)<this.eps()},i.prototype.greaterThanWithEpsilon=function(e,t){return e-t>this.eps()},i.prototype.greaterThanOrEqualWithEpsilon=function(e,t){return t-e<this.eps()},i.prototype.lessThanWithEpsilon=function(e,t){return t-e>this.eps()},i.prototype.lessThanOrEqualWithEpsilon=function(e,t){return e-t<this.eps()},i.prototype.quantizeSites=function(e){for(var t=this.eps(),l=e.length,r;l--;)r=e[l],r.x=Math.floor(r.x/t)*t,r.y=Math.floor(r.y/t)*t},i.prototype.recycle=function(e){if(e)if(e instanceof st.Diagram)this.toRecycle=e;else throw"Voronoi.recycleDiagram() > Need a Diagram object."},i.prototype.reset=function(){if(this.beachline||(this.beachline=new Se.RBTree),this.beachline.root)for(var e=this.beachline.first(this.beachline.root);e;)this.beachsectionJunkyard.push(e),e=e.next;this.beachline.root=null,this.circleEvents||(this.circleEvents=new Se.RBTree),this.circleEvents.root=this.firstCircleEvent=null,this.vertices=[],this.edges=[],this.cells=[]},i.prototype.createCell=function(e){var t=this.cellJunkyard.pop();return t?(t.init(e),t.init(e)):new Jt.Cell(e)},i.prototype.createHalfedge=function(e,t,l){return new It.Halfedge(e,t,l)},i.prototype.createVertex=function(e,t){var l=this.vertexJunkyard.pop();return l?(l.x=e,l.y=t):l=new zt.Vertex(e,t),this.vertices.push(l),l},i.prototype.createEdge=function(e,t,l,r){l===void 0&&(l=null),r===void 0&&(r=null);var n=this.edgeJunkyard.pop();return n?(n.lSite=e,n.rSite=t,n.va=n.vb=null):n=new nt.Edge(e,t),this.edges.push(n),l&&this.setEdgeStartpoint(n,e,t,l),r&&this.setEdgeEndpoint(n,e,t,r),this.cells[e.id].halfedges.push(this.createHalfedge(n,e,t)),this.cells[t.id].halfedges.push(this.createHalfedge(n,t,e)),n},i.prototype.createBorderEdge=function(e,t,l){var r=this.edgeJunkyard.pop();return r?(r.lSite=e,r.rSite=null):r=new nt.Edge(e,null),r.va=t,r.vb=l,this.edges.push(r),r},i.prototype.setEdgeStartpoint=function(e,t,l,r){!e.va&&!e.vb?(e.va=r,e.lSite=t,e.rSite=l):e.lSite===l?e.vb=r:e.va=r},i.prototype.setEdgeEndpoint=function(e,t,l,r){this.setEdgeStartpoint(e,l,t,r)},i.prototype.createBeachsection=function(e){var t=this.beachsectionJunkyard.pop();return t||(t=new Se.RBTreeNode),t.site=e,t},i.prototype.leftBreakPoint=function(e,t){var l=e.site,r=l.x,n=l.y,o=n-t;if(!o)return r;var s=e.prev;if(!s)return-1/0;l=s.site;var a=l.x,c=l.y,h=c-t;if(!h)return a;var u=a-r,d=1/o-1/h,_=u/h;return d?(-_+this.sqrt(_*_-2*d*(u*u/(-2*h)-c+h/2+n-o/2)))/d+r:(r+a)/2},i.prototype.rightBreakPoint=function(e,t){var l=e.next;if(l)return this.leftBreakPoint(l,t);var r=e.site;return r.y===t?r.x:1/0},i.prototype.detachBeachsection=function(e){this.detachCircleEvent(e),this.beachline.removeNode(e),this.beachsectionJunkyard.push(e)},i.prototype.removeBeachsection=function(e){var t=e.circleEvent,l=t.x,r=t.ycenter,n=this.createVertex(l,r),o=e.prev,s=e.next,a=[e],c=Math.abs;this.detachBeachsection(e);for(var h=o;h.circleEvent&&c(l-h.circleEvent.x)<this.eps()&&c(r-h.circleEvent.ycenter)<this.eps();)o=h.prev,a.unshift(h),this.detachBeachsection(h),h=o;a.unshift(h),this.detachCircleEvent(h);for(var u=s;u.circleEvent&&c(l-u.circleEvent.x)<this.eps()&&c(r-u.circleEvent.ycenter)<this.eps();)s=u.next,a.push(u),this.detachBeachsection(u),u=s;a.push(u),this.detachCircleEvent(u);var d=a.length,_;for(_=1;_<d;_++)u=a[_],h=a[_-1],this.setEdgeStartpoint(u.edge,h.site,u.site,n);h=a[0],u=a[d-1],u.edge=this.createEdge(h.site,u.site,void 0,n),this.attachCircleEvent(h),this.attachCircleEvent(u)},i.prototype.addBeachsection=function(e){for(var t=e.x,l=e.y,r,n,o,s,a=this.beachline.root;a;)if(o=this.leftBreakPoint(a,l)-t,o>this.eps())a=a.left;else if(s=t-this.rightBreakPoint(a,l),s>this.eps()){if(!a.right){r=a;break}a=a.right}else{o>-this.eps()?(r=a.prev,n=a):s>-this.eps()?(r=a,n=a.next):r=n=a;break}var c=this.createBeachsection(e);if(this.beachline.insertSuccessor(r,c),!(!r&&!n)){if(r===n){this.detachCircleEvent(r),n=this.createBeachsection(r.site),this.beachline.insertSuccessor(c,n),c.edge=n.edge=this.createEdge(r.site,c.site),this.attachCircleEvent(r),this.attachCircleEvent(n);return}if(r&&!n){c.edge=this.createEdge(r.site,c.site);return}if(r!==n){this.detachCircleEvent(r),this.detachCircleEvent(n);var h=r.site,u=h.x,d=h.y,_=e.x-u,y=e.y-d,p=n.site,v=p.x-u,B=p.y-d,M=2*(_*B-y*v),C=_*_+y*y,P=v*v+B*B,S=this.createVertex((B*C-y*P)/M+u,(_*P-v*C)/M+d);this.setEdgeStartpoint(n.edge,h,p,S),c.edge=this.createEdge(h,e,void 0,S),n.edge=this.createEdge(e,p,void 0,S),this.attachCircleEvent(r),this.attachCircleEvent(n);return}}},i.prototype.attachCircleEvent=function(e){var t=e.prev,l=e.next;if(!(!t||!l)){var r=t.site,n=e.site,o=l.site;if(r!==o){var s=n.x,a=n.y,c=r.x-s,h=r.y-a,u=o.x-s,d=o.y-a,_=2*(c*d-h*u);if(!(_>=-2e-12)){var y=c*c+h*h,p=u*u+d*d,v=(d*y-h*p)/_,B=(c*p-u*y)/_,M=B+a,C=this.circleEventJunkyard.pop();C||(C=new Se.RBTreeNode),C.arc=e,C.site=n,C.x=v+s,C.y=M+this.sqrt(v*v+B*B),C.ycenter=M,e.circleEvent=C;for(var P=null,S=this.circleEvents.root;S;)if(C.y<S.y||C.y===S.y&&C.x<=S.x)if(S.left)S=S.left;else{P=S.prev;break}else if(S.right)S=S.right;else{P=S;break}this.circleEvents.insertSuccessor(P,C),P||(this.firstCircleEvent=C)}}}},i.prototype.detachCircleEvent=function(e){var t=e.circleEvent;t&&(t.prev||(this.firstCircleEvent=t.next),this.circleEvents.removeNode(t),this.circleEventJunkyard.push(t),e.circleEvent=null)},i.prototype.connectEdge=function(e,t){var l=e.vb;if(l)return!0;var r=e.va,n=t.xl,o=t.xr,s=t.yt,a=t.yb,c=e.lSite,h=e.rSite,u=c.x,d=c.y,_=h.x,y=h.y,p=(u+_)/2,v=(d+y)/2,B,M;if(this.cells[c.id].closeMe=!0,this.cells[h.id].closeMe=!0,y!==d&&(B=(u-_)/(y-d),M=v-B*p),B===void 0){if(p<n||p>=o)return!1;if(u>_){if(!r||r.y<s)r=this.createVertex(p,s);else if(r.y>=a)return!1;l=this.createVertex(p,a)}else{if(!r||r.y>a)r=this.createVertex(p,a);else if(r.y<s)return!1;l=this.createVertex(p,s)}}else if(B<-1||B>1)if(u>_){if(!r||r.y<s)r=this.createVertex((s-M)/B,s);else if(r.y>=a)return!1;l=this.createVertex((a-M)/B,a)}else{if(!r||r.y>a)r=this.createVertex((a-M)/B,a);else if(r.y<s)return!1;l=this.createVertex((s-M)/B,s)}else if(d<y){if(!r||r.x<n)r=this.createVertex(n,B*n+M);else if(r.x>=o)return!1;l=this.createVertex(o,B*o+M)}else{if(!r||r.x>o)r=this.createVertex(o,B*o+M);else if(r.x<n)return!1;l=this.createVertex(n,B*n+M)}return e.va=r,e.vb=l,!0},i.prototype.clipEdge=function(e,t){var l=e.va.x,r=e.va.y,n=e.vb.x,o=e.vb.y,s=0,a=1,c=n-l,h=o-r,u=l-t.xl;if(c===0&&u<0)return!1;var d=-u/c;if(c<0){if(d<s)return!1;d<a&&(a=d)}else if(c>0){if(d>a)return!1;d>s&&(s=d)}if(u=t.xr-l,c===0&&u<0)return!1;if(d=u/c,c<0){if(d>a)return!1;d>s&&(s=d)}else if(c>0){if(d<s)return!1;d<a&&(a=d)}if(u=r-t.yt,h===0&&u<0)return!1;if(d=-u/h,h<0){if(d<s)return!1;d<a&&(a=d)}else if(h>0){if(d>a)return!1;d>s&&(s=d)}if(u=t.yb-r,h===0&&u<0)return!1;if(d=u/h,h<0){if(d>a)return!1;d>s&&(s=d)}else if(h>0){if(d<s)return!1;d<a&&(a=d)}return s>0&&(e.va=this.createVertex(l+s*c,r+s*h)),a<1&&(e.vb=this.createVertex(l+a*c,r+a*h)),(s>0||a<1)&&(this.cells[e.lSite.id].closeMe=!0,this.cells[e.rSite.id].closeMe=!0),!0},i.prototype.clipEdges=function(e){for(var t=this.edges,l=t.length,r,n=Math.abs;l--;)r=t[l],(!this.connectEdge(r,e)||!this.clipEdge(r,e)||n(r.va.x-r.vb.x)<this.eps()&&n(r.va.y-r.vb.y)<this.eps())&&(r.va=r.vb=null,t.splice(l,1))},i.prototype.closeCells=function(e){for(var t=e.xl,l=e.xr,r=e.yt,n=e.yb,o=this.cells,s=o.length,a,c,h,u,d,_,y,p,v,B=Math.abs;s--;)if(a=o[s],!!a.prepareHalfedges()&&a.closeMe){for(h=a.halfedges,u=h.length,c=0;c<u;){if(_=h[c].getEndpoint(),p=h[(c+1)%u].getStartpoint(),B(_.x-p.x)>=this.eps()||B(_.y-p.y)>=this.eps())switch(!0){case(this.equalWithEpsilon(_.x,t)&&this.lessThanWithEpsilon(_.y,n)):if(v=this.equalWithEpsilon(p.x,t),y=this.createVertex(t,v?p.y:n),d=this.createBorderEdge(a.site,_,y),c++,h.splice(c,0,this.createHalfedge(d,a.site,null)),u++,v)break;_=y;case(this.equalWithEpsilon(_.y,n)&&this.lessThanWithEpsilon(_.x,l)):if(v=this.equalWithEpsilon(p.y,n),y=this.createVertex(v?p.x:l,n),d=this.createBorderEdge(a.site,_,y),c++,h.splice(c,0,this.createHalfedge(d,a.site,null)),u++,v)break;_=y;case(this.equalWithEpsilon(_.x,l)&&this.greaterThanWithEpsilon(_.y,r)):if(v=this.equalWithEpsilon(p.x,l),y=this.createVertex(l,v?p.y:r),d=this.createBorderEdge(a.site,_,y),c++,h.splice(c,0,this.createHalfedge(d,a.site,null)),u++,v)break;_=y;case(this.equalWithEpsilon(_.y,r)&&this.greaterThanWithEpsilon(_.x,t)):if(v=this.equalWithEpsilon(p.y,r),y=this.createVertex(v?p.x:t,r),d=this.createBorderEdge(a.site,_,y),c++,h.splice(c,0,this.createHalfedge(d,a.site,null)),u++,v||(_=y,v=this.equalWithEpsilon(p.x,t),y=this.createVertex(t,v?p.y:n),d=this.createBorderEdge(a.site,_,y),c++,h.splice(c,0,this.createHalfedge(d,a.site,null)),u++,v)||(_=y,v=this.equalWithEpsilon(p.y,n),y=this.createVertex(v?p.x:l,n),d=this.createBorderEdge(a.site,_,y),c++,h.splice(c,0,this.createHalfedge(d,a.site,null)),u++,v)||(_=y,v=this.equalWithEpsilon(p.x,l),y=this.createVertex(l,v?p.y:r),d=this.createBorderEdge(a.site,_,y),c++,h.splice(c,0,this.createHalfedge(d,a.site,null)),u++,v))break;default:throw"Voronoi.closeCells() > this makes no sense!"}c++}a.closeMe=!1}},i}(),Dt=rt.Voronoi=Ot;const Qt=i=>{const e=new Dt;let t=0,l=0,r=0,n=0;for(let s=0;s<i.length;s++){let a=i[s];a.x<t&&(t=a.x),a.x>l&&(l=a.x),a.y<r&&(r=a.y),a.y>n&&(n=a.y)}let o={xl:t,xr:l,yt:r,yb:n};return e.compute(i,o)};function at(i){if(!i||i.length===0)return"";let e=[];const t=i.shift();let l=t.getStartpoint(),r=t.getEndpoint();e.push(`M ${l.x} ${l.y}`),e.push(`L ${r.x} ${r.y}`);for(let n of i){let o=n.getEndpoint();e.push(`L ${o.x} ${o.y}`)}return e.push("Z"),e.join(" ")}function Zt(i,e,t,l){let r=[],n=0;for(let c=e;c>=0;c--){const h=i-c*i/e,u=l/180*Math.PI*h;n+=u}const o=n/t;let s=0,a=0;for(let c=e;c>=0;c--){const h=i-c*i/e,u=l/180*Math.PI*h;let d=Math.ceil(u/o);s+d>t&&(d=t-s);const _=u/d,y=(l-180)/180*Math.PI/2;for(let p=0;p<d;p++){s++;const v=p*_/h+_/h/2,B=-h*Math.cos(v-y),M=-h*Math.sin(v-y);r.push({id:c,x:B,y:M,a,angle:v})}a++}return r.sort((c,h)=>c.angle-h.angle),r}function ft(i,e,t){const l=i.slice();return l[33]=e[t],l[35]=t,l}function ot(i,e,t){const l=i.slice();return l[36]=e[t],l[35]=t,l}function ct(i,e,t){const l=i.slice();return l[36]=e[t],l}function ht(i,e,t){const l=i.slice();return l[40]=e[t],l[35]=t,l}function ut(i){let e,t;return{c(){e=V("path"),f(e,"d",t=`M ${i[1]-i[35]*(i[1]/i[2])},0 A ${i[1]-i[35]*(i[1]/i[2])},${i[1]-i[35]*(i[1]/i[2])} 0 0,0 ${-(i[1]-i[35]*(i[1]/i[2]))},0`),f(e,"fill","transparent"),f(e,"stroke","white"),f(e,"stroke-width","1"),f(e,"opacity","0.4")},m(l,r){q(l,e,r)},p(l,r){r[0]&6&&t!==(t=`M ${l[1]-l[35]*(l[1]/l[2])},0 A ${l[1]-l[35]*(l[1]/l[2])},${l[1]-l[35]*(l[1]/l[2])} 0 0,0 ${-(l[1]-l[35]*(l[1]/l[2]))},0`)&&f(e,"d",t)},d(l){l&&A(e)}}}function Gt(i){let e,t,l,r,n,o;return{c(){var s,a,c,h,u;e=V("circle"),f(e,"data-party",t=(s=i[36].data)==null?void 0:s.id),f(e,"cx",l=i[36].x),f(e,"cy",r=i[36].y),f(e,"r",i[3]),f(e,"fill",n=(a=i[36].data)==null?void 0:a.color),f(e,"opacity",o=(c=i[0])!=null&&c.id?((h=i[36].data)==null?void 0:h.id)===((u=i[0])==null?void 0:u.id)?1:.5:1)},m(s,a){q(s,e,a)},p(s,a){var c,h,u,d,_;a[0]&512&&t!==(t=(c=s[36].data)==null?void 0:c.id)&&f(e,"data-party",t),a[0]&512&&l!==(l=s[36].x)&&f(e,"cx",l),a[0]&512&&r!==(r=s[36].y)&&f(e,"cy",r),a[0]&8&&f(e,"r",s[3]),a[0]&512&&n!==(n=(h=s[36].data)==null?void 0:h.color)&&f(e,"fill",n),a[0]&513&&o!==(o=(u=s[0])!=null&&u.id?((d=s[36].data)==null?void 0:d.id)===((_=s[0])==null?void 0:_.id)?1:.5:1)&&f(e,"opacity",o)},d(s){s&&A(e)}}}function Ut(i){let e,t,l,r,n;return{c(){var o,s,a,c,h;e=V("path"),f(e,"d",Kt),f(e,"transform",t=`translate(${i[36].x},${i[36].y}) rotate(-5) scale(0.07)`),f(e,"data-party",l=(o=i[36].data)==null?void 0:o.id),f(e,"fill",r=(s=i[36].data)==null?void 0:s.color),f(e,"opacity",n=(a=i[0])!=null&&a.id?((c=i[36].data)==null?void 0:c.id)===((h=i[0])==null?void 0:h.id)?1:.5:1)},m(o,s){q(o,e,s)},p(o,s){var a,c,h,u,d;s[0]&512&&t!==(t=`translate(${o[36].x},${o[36].y}) rotate(-5) scale(0.07)`)&&f(e,"transform",t),s[0]&512&&l!==(l=(a=o[36].data)==null?void 0:a.id)&&f(e,"data-party",l),s[0]&512&&r!==(r=(c=o[36].data)==null?void 0:c.color)&&f(e,"fill",r),s[0]&513&&n!==(n=(h=o[0])!=null&&h.id?((u=o[36].data)==null?void 0:u.id)===((d=o[0])==null?void 0:d.id)?1:.5:1)&&f(e,"opacity",n)},d(o){o&&A(e)}}}function dt(i){let e;function t(n,o){return n[7]==="hexagon"?Ut:Gt}let l=t(i),r=l(i);return{c(){r.c(),e=Fe()},m(n,o){r.m(n,o),q(n,e,o)},p(n,o){l===(l=t(n))&&r?r.p(n,o):(r.d(1),r=l(n),r&&(r.c(),r.m(e.parentNode,e)))},d(n){n&&A(e),r.d(n)}}}function gt(i){let e,t=`${i[35]}`,l,r,n;return{c(){e=V("text"),l=x(t),f(e,"x",r=i[36].x),f(e,"y",n=i[36].y),f(e,"text-anchor","middle"),f(e,"alignment-baseline","middle"),f(e,"fill","white"),f(e,"font-size","8")},m(o,s){q(o,e,s),b(e,l)},p(o,s){s[0]&512&&r!==(r=o[36].x)&&f(e,"x",r),s[0]&512&&n!==(n=o[36].y)&&f(e,"y",n)},d(o){o&&A(e)}}}function _t(i){let e,t,l,r,n,o;function s(){return i[24](i[33])}function a(){return i[25](i[33])}function c(){return i[28](i[33])}function h(...u){return i[29](i[33],...u)}return{c(){e=V("path"),f(e,"class","voronoi_path"),f(e,"d",t=at(i[33].halfedges).toString()),f(e,"fill","transparent"),f(e,"stroke",l=i[8].includes("voronoi")?"white":"transparent"),f(e,"stroke-width",r=i[8].includes("voronoi")?1:0),f(e,"role","button"),f(e,"tabindex",i[35])},m(u,d){q(u,e,d),n||(o=[oe(e,"mouseover",s),oe(e,"focus",a),oe(e,"mouseout",i[26]),oe(e,"blur",i[27]),oe(e,"click",c),oe(e,"keypress",h)],n=!0)},p(u,d){i=u,d[0]&4096&&t!==(t=at(i[33].halfedges).toString())&&f(e,"d",t),d[0]&256&&l!==(l=i[8].includes("voronoi")?"white":"transparent")&&f(e,"stroke",l),d[0]&256&&r!==(r=i[8].includes("voronoi")?1:0)&&f(e,"stroke-width",r)},d(u){u&&A(e),n=!1,fe(o)}}}function pt(i){var l;let e,t=((l=i[33].halfedges)==null?void 0:l.length)>0&&_t(i);return{c(){t&&t.c(),e=Fe()},m(r,n){t&&t.m(r,n),q(r,e,n)},p(r,n){var o;((o=r[33].halfedges)==null?void 0:o.length)>0?t?t.p(r,n):(t=_t(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&A(e),t&&t.d(r)}}}function yt(i){let e,t=`${i[0].text}`,l;return{c(){e=V("text"),l=x(t),f(e,"x",0),f(e,"y",0),f(e,"text-anchor","middle"),f(e,"alignment-baseline","middle"),f(e,"fill",i[4]),f(e,"font-size",i[5])},m(r,n){q(r,e,n),b(e,l)},p(r,n){n[0]&1&&t!==(t=`${r[0].text}`)&&K(l,t),n[0]&16&&f(e,"fill",r[4]),n[0]&32&&f(e,"font-size",r[5])},d(r){r&&A(e)}}}function Yt(i){let e,t,l,r,n,o,s,a,c,h,u,d,_,y,p,v,B,M,C,P=`${i[1]}, 0`,S,z,ee,L,ge=`${i[1]}, ${-i[1]}`,ne,te,ie,U,_e,se,J,pe=`-${i[1]}, ${-i[1]}`,Be,E,I,R,Ae,qe,Ce,Y,Pe=`-${i[1]}, 0`,Ue,Te,ae,xe,Re,ye=G(Array(i[2])),N=[];for(let g=0;g<ye.length;g+=1)N[g]=ut(ht(i,ye,g));let ve=G(i[9]),F=[];for(let g=0;g<ve.length;g+=1)F[g]=dt(ct(i,ve,g));let me=G(i[9]),H=[];for(let g=0;g<me.length;g+=1)H[g]=gt(ot(i,me,g));let Ee=G(i[12].cells),j=[];for(let g=0;g<Ee.length;g+=1)j[g]=pt(ft(i,Ee,g));let W=i[0]&&yt(i);return{c(){var g,w;e=O("main"),t=V("svg"),l=V("g");for(let k=0;k<N.length;k+=1)N[k].c();n=V("g");for(let k=0;k<F.length;k+=1)F[k].c();s=V("g");for(let k=0;k<H.length;k+=1)H[k].c();c=V("g");for(let k=0;k<j.length;k+=1)j[k].c();u=V("g"),W&&W.c(),_=V("g"),y=V("g"),p=V("text"),v=x("0, 0"),B=V("circle"),M=V("g"),C=V("text"),S=x(P),z=V("circle"),ee=V("g"),L=V("text"),ne=x(ge),U=V("circle"),se=V("g"),J=V("text"),Be=x(pe),R=V("circle"),Ce=V("g"),Y=V("text"),Ue=x(Pe),ae=V("circle"),f(l,"id","arcs"),f(l,"transform",r=`translate(${i[1]+i[11]}, ${i[1]+i[10]})`),f(l,"class","svelte-smqp4o"),Z(l,"hide",!i[8].includes("arcs")),f(n,"id","points"),f(n,"transform",o=`translate(${i[1]+i[11]}, ${i[1]+i[10]})`),f(n,"class","svelte-smqp4o"),Z(n,"hide",!i[8].includes("points")),f(s,"id","numbers"),f(s,"transform",a=`translate(${i[1]+i[11]}, ${i[1]+i[10]})`),f(s,"class","svelte-smqp4o"),Z(s,"hide",!i[8].includes("numbers")),f(c,"id","voronoi"),f(c,"transform",h=`translate(${i[1]+i[11]}, ${i[1]+i[10]})`),f(u,"id","text"),f(u,"transform",d=`translate(${((g=i[6])==null?void 0:g.x)||i[1]+i[11]}, ${((w=i[6])==null?void 0:w.y)||i[1]+i[10]+20})`),f(u,"class","svelte-smqp4o"),Z(u,"hide",!i[8].includes("text")),f(p,"x","0"),f(p,"y","10"),f(p,"text-anchor","middle"),f(p,"alignment-baseline","middle"),f(p,"fill","white"),f(p,"font-size","8"),f(B,"cx","0"),f(B,"cy","0"),f(B,"r","2"),f(B,"fill","white"),f(y,"class","reference_points"),f(C,"x",i[1]),f(C,"y","10"),f(C,"text-anchor","middle"),f(C,"alignment-baseline","middle"),f(C,"fill","white"),f(C,"font-size","8"),f(z,"cx",i[1]),f(z,"cy",0),f(z,"r","2"),f(z,"fill","white"),f(M,"class","reference_points"),f(L,"x",te=i[1]-10),f(L,"y",ie=-i[1]+10),f(L,"text-anchor","middle"),f(L,"alignment-baseline","middle"),f(L,"fill","white"),f(L,"font-size","8"),f(U,"cx",i[1]),f(U,"cy",_e=-i[1]),f(U,"r","2"),f(U,"fill","white"),f(ee,"class","reference_points"),f(J,"x",E=-i[1]+10),f(J,"y",I=-i[1]+10),f(J,"text-anchor","middle"),f(J,"alignment-baseline","middle"),f(J,"fill","white"),f(J,"font-size","8"),f(R,"cx",Ae=-i[1]),f(R,"cy",qe=-i[1]),f(R,"r","2"),f(R,"fill","white"),f(se,"class","reference_points"),f(Y,"x",Te=-i[1]),f(Y,"y",10),f(Y,"text-anchor","middle"),f(Y,"alignment-baseline","middle"),f(Y,"fill","white"),f(Y,"font-size","8"),f(ae,"cx",xe=-i[1]),f(ae,"cy",0),f(ae,"r","2"),f(ae,"fill","white"),f(Ce,"class","reference_points"),f(_,"id","referencePoints"),f(_,"transform",Re=`translate(${i[1]+i[11]}, ${i[1]+i[10]})`),f(_,"class","svelte-smqp4o"),Z(_,"hide",!i[8].includes("referencePoints")),f(t,"width",i[13]),f(t,"height",i[14])},m(g,w){q(g,e,w),b(e,t),b(t,l);for(let k=0;k<N.length;k+=1)N[k]&&N[k].m(l,null);b(t,n);for(let k=0;k<F.length;k+=1)F[k]&&F[k].m(n,null);b(t,s);for(let k=0;k<H.length;k+=1)H[k]&&H[k].m(s,null);b(t,c);for(let k=0;k<j.length;k+=1)j[k]&&j[k].m(c,null);b(t,u),W&&W.m(u,null),b(t,_),b(_,y),b(y,p),b(p,v),b(y,B),b(_,M),b(M,C),b(C,S),b(M,z),b(_,ee),b(ee,L),b(L,ne),b(ee,U),b(_,se),b(se,J),b(J,Be),b(se,R),b(_,Ce),b(Ce,Y),b(Y,Ue),b(Ce,ae)},p(g,w){var k,kt;if(w[0]&6){ye=G(Array(g[2]));let m;for(m=0;m<ye.length;m+=1){const D=ht(g,ye,m);N[m]?N[m].p(D,w):(N[m]=ut(D),N[m].c(),N[m].m(l,null))}for(;m<N.length;m+=1)N[m].d(1);N.length=ye.length}if(w[0]&3074&&r!==(r=`translate(${g[1]+g[11]}, ${g[1]+g[10]})`)&&f(l,"transform",r),w[0]&256&&Z(l,"hide",!g[8].includes("arcs")),w[0]&649){ve=G(g[9]);let m;for(m=0;m<ve.length;m+=1){const D=ct(g,ve,m);F[m]?F[m].p(D,w):(F[m]=dt(D),F[m].c(),F[m].m(n,null))}for(;m<F.length;m+=1)F[m].d(1);F.length=ve.length}if(w[0]&3074&&o!==(o=`translate(${g[1]+g[11]}, ${g[1]+g[10]})`)&&f(n,"transform",o),w[0]&256&&Z(n,"hide",!g[8].includes("points")),w[0]&512){me=G(g[9]);let m;for(m=0;m<me.length;m+=1){const D=ot(g,me,m);H[m]?H[m].p(D,w):(H[m]=gt(D),H[m].c(),H[m].m(s,null))}for(;m<H.length;m+=1)H[m].d(1);H.length=me.length}if(w[0]&3074&&a!==(a=`translate(${g[1]+g[11]}, ${g[1]+g[10]})`)&&f(s,"transform",a),w[0]&256&&Z(s,"hide",!g[8].includes("numbers")),w[0]&233728){Ee=G(g[12].cells);let m;for(m=0;m<Ee.length;m+=1){const D=ft(g,Ee,m);j[m]?j[m].p(D,w):(j[m]=pt(D),j[m].c(),j[m].m(c,null))}for(;m<j.length;m+=1)j[m].d(1);j.length=Ee.length}w[0]&3074&&h!==(h=`translate(${g[1]+g[11]}, ${g[1]+g[10]})`)&&f(c,"transform",h),g[0]?W?W.p(g,w):(W=yt(g),W.c(),W.m(u,null)):W&&(W.d(1),W=null),w[0]&3138&&d!==(d=`translate(${((k=g[6])==null?void 0:k.x)||g[1]+g[11]}, ${((kt=g[6])==null?void 0:kt.y)||g[1]+g[10]+20})`)&&f(u,"transform",d),w[0]&256&&Z(u,"hide",!g[8].includes("text")),w[0]&2&&P!==(P=`${g[1]}, 0`)&&K(S,P),w[0]&2&&f(C,"x",g[1]),w[0]&2&&f(z,"cx",g[1]),w[0]&2&&ge!==(ge=`${g[1]}, ${-g[1]}`)&&K(ne,ge),w[0]&2&&te!==(te=g[1]-10)&&f(L,"x",te),w[0]&2&&ie!==(ie=-g[1]+10)&&f(L,"y",ie),w[0]&2&&f(U,"cx",g[1]),w[0]&2&&_e!==(_e=-g[1])&&f(U,"cy",_e),w[0]&2&&pe!==(pe=`-${g[1]}, ${-g[1]}`)&&K(Be,pe),w[0]&2&&E!==(E=-g[1]+10)&&f(J,"x",E),w[0]&2&&I!==(I=-g[1]+10)&&f(J,"y",I),w[0]&2&&Ae!==(Ae=-g[1])&&f(R,"cx",Ae),w[0]&2&&qe!==(qe=-g[1])&&f(R,"cy",qe),w[0]&2&&Pe!==(Pe=`-${g[1]}, 0`)&&K(Ue,Pe),w[0]&2&&Te!==(Te=-g[1])&&f(Y,"x",Te),w[0]&2&&xe!==(xe=-g[1])&&f(ae,"cx",xe),w[0]&3074&&Re!==(Re=`translate(${g[1]+g[11]}, ${g[1]+g[10]})`)&&f(_,"transform",Re),w[0]&256&&Z(_,"hide",!g[8].includes("referencePoints")),w[0]&8192&&f(t,"width",g[13]),w[0]&16384&&f(t,"height",g[14])},i:T,o:T,d(g){g&&A(e),be(N,g),be(F,g),be(H,g),be(j,g),W&&W.d()}}}let Kt="M86.60254037844386 12L173.20508075688772 50L173.20508075688772 150L86.60254037844386 200L0 150L0 50Z";function Xt(i,e,t){let{data:l=[]}=e,{r=300}=e,{rows:n=12}=e,{dotsize:o=5}=e,{padding:s=10}=e,{total_seats:a}=e,{color:c="white"}=e,{font_size:h=12}=e,{arc:u=180}=e,{text_position:d=null}=e,{selectedShape:_="circle"}=e,{display:y=["points","text"]}=e,{current_party:p=null}=e,v=[],B=null,M=!1,C=0,P=0,S=0,z=0,ee=0,L=0;function ge(){Array.isArray(s)?s.length===2?(t(10,C=s[0]),t(22,P=s[0]),t(11,S=s[1]),t(23,z=s[1])):s.length===4&&(t(10,C=s[0]),t(22,P=s[1]),t(11,S=s[2]),t(23,z=s[3])):(t(10,C=s),t(22,P=s),t(11,S=s),t(23,z=s))}function ne(E){E.data&&!M&&t(0,p=E.data)}function te(E){E.data&&(p&&M&&p.id===E.data.id?(t(0,p=null),M=!1):(t(0,p=E.data),M=!0))}function ie(){M||t(0,p=null)}const U=E=>{ne(E.site)},_e=E=>ne(E.site),se=()=>ie(),J=()=>ie(),pe=E=>{te(E.site)},Be=(E,I)=>{I.key==="Enter"&&te(E.site)};return i.$$set=E=>{"data"in E&&t(19,l=E.data),"r"in E&&t(1,r=E.r),"rows"in E&&t(2,n=E.rows),"dotsize"in E&&t(3,o=E.dotsize),"padding"in E&&t(20,s=E.padding),"total_seats"in E&&t(21,a=E.total_seats),"color"in E&&t(4,c=E.color),"font_size"in E&&t(5,h=E.font_size),"arc"in E&&t(18,u=E.arc),"text_position"in E&&t(6,d=E.text_position),"selectedShape"in E&&t(7,_=E.selectedShape),"display"in E&&t(8,y=E.display),"current_party"in E&&t(0,p=E.current_party)},i.$$.update=()=>{if(i.$$.dirty[0]&15470086){u<10&&t(18,u=10),u>360&&t(18,u=360),ge(),l.sort((I,R)=>R.count-I.count),l.reduce((I,R)=>I+R.count,0),t(9,v=Zt(r,n,a,u));let E=0;for(let I in l)for(let R=0;R<l[I].count;R++)t(9,v[E].data=l[I],v),E++;t(12,B=Qt(v)),t(13,ee=r*2+S+z),t(14,L=r*2+C+P)}},[p,r,n,o,c,h,d,_,y,v,C,S,B,ee,L,ne,te,ie,u,l,s,a,P,z,U,_e,se,J,pe,Be]}class $t extends Ie{constructor(e){super(),Je(this,e,Xt,Yt,Ne,{data:19,r:1,rows:2,dotsize:3,padding:20,total_seats:21,color:4,font_size:5,arc:18,text_position:6,selectedShape:7,display:8,current_party:0},null,[-1,-1])}}function vt(i,e,t){const l=i.slice();return l[4]=e[t],l}function mt(i){let e,t=i[4]+"",l;return{c(){e=O("th"),l=x(t)},m(r,n){q(r,e,n),b(e,l)},p(r,n){n&1&&t!==(t=r[4]+"")&&K(l,t)},d(r){r&&A(e)}}}function ei(i){let e,t,l,r,n,o=G(i[0]),s=[];for(let a=0;a<o.length;a+=1)s[a]=mt(vt(i,o,a));return{c(){e=O("table"),t=O("thead"),l=O("tr");for(let a=0;a<s.length;a+=1)s[a].c();r=le(),n=O("tbody"),n.innerHTML="<tr><td>ANC</td> <td>10,000,000</td> <td>200</td></tr> <tr><td>DA</td> <td>5,000,000</td> <td>100</td></tr> <tr><td>EFF</td> <td>2,000,000</td> <td>40</td></tr>"},m(a,c){q(a,e,c),b(e,t),b(t,l);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(l,null);b(e,r),b(e,n)},p(a,[c]){if(c&1){o=G(a[0]);let h;for(h=0;h<o.length;h+=1){const u=vt(a,o,h);s[h]?s[h].p(u,c):(s[h]=mt(u),s[h].c(),s[h].m(l,null))}for(;h<s.length;h+=1)s[h].d(1);s.length=o.length}},i:T,o:T,d(a){a&&A(e),be(s,a)}}}function ti(i,e,t){let{selected_year:l=2024}=e,{selected_election:r="National Assembly"}=e,{selected_region:n="National"}=e,{selected_fields:o=["Party","Votes","Seats"]}=e;return i.$$set=s=>{"selected_year"in s&&t(1,l=s.selected_year),"selected_election"in s&&t(2,r=s.selected_election),"selected_region"in s&&t(3,n=s.selected_region),"selected_fields"in s&&t(0,o=s.selected_fields)},[o,l,r,n]}class ii extends Ie{constructor(e){super(),Je(this,e,ti,ei,Ne,{selected_year:1,selected_election:2,selected_region:3,selected_fields:0})}}function Et(i){let e,t;return e=new $t({props:{data:i[5],total_seats:ri,rows:ni}}),{c(){lt(e.$$.fragment)},m(l,r){We(e,l,r),t=!0},p(l,r){const n={};r&32&&(n.data=l[5]),e.$set(n)},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){de(e.$$.fragment,l),t=!1},d(l){ze(e,l)}}}function bt(i){let e,t,l,r,n,o,s,a,c,h,u,d,_,y;return{c(){e=O("h1"),e.textContent="Carto",t=le(),l=O("ul"),r=O("li"),n=x("Year: "),o=x(i[1]),s=le(),a=O("li"),c=x("Election: "),h=x(i[2]),u=le(),d=O("li"),_=x("Region: "),y=x(i[3])},m(p,v){q(p,e,v),q(p,t,v),q(p,l,v),b(l,r),b(r,n),b(r,o),b(l,s),b(l,a),b(a,c),b(a,h),b(l,u),b(l,d),b(d,_),b(d,y)},p(p,v){v&2&&K(o,p[1]),v&4&&K(h,p[2]),v&8&&K(y,p[3])},d(p){p&&(A(e),A(t),A(l))}}}function wt(i){let e,t,l,r;return l=new ii({props:{selected_year:i[1],selected_election:i[2],selected_region:i[3],selected_fields:i[4]}}),{c(){e=O("h1"),e.textContent="Table",t=le(),lt(l.$$.fragment)},m(n,o){q(n,e,o),q(n,t,o),We(l,n,o),r=!0},p(n,o){const s={};o&2&&(s.selected_year=n[1]),o&4&&(s.selected_election=n[2]),o&8&&(s.selected_region=n[3]),o&16&&(s.selected_fields=n[4]),l.$set(s)},i(n){r||(X(l.$$.fragment,n),r=!0)},o(n){de(l.$$.fragment,n),r=!1},d(n){n&&(A(e),A(t)),ze(l,n)}}}function li(i){let e,t,l,r,n=i[0]==="hemicycle"&&Et(i),o=i[0]==="carto"&&bt(i),s=i[0]==="table"&&wt(i);return{c(){n&&n.c(),e=le(),o&&o.c(),t=le(),s&&s.c(),l=Fe()},m(a,c){n&&n.m(a,c),q(a,e,c),o&&o.m(a,c),q(a,t,c),s&&s.m(a,c),q(a,l,c),r=!0},p(a,[c]){a[0]==="hemicycle"?n?(n.p(a,c),c&1&&X(n,1)):(n=Et(a),n.c(),X(n,1),n.m(e.parentNode,e)):n&&(tt(),de(n,1,1,()=>{n=null}),it()),a[0]==="carto"?o?o.p(a,c):(o=bt(a),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),a[0]==="table"?s?(s.p(a,c),c&1&&X(s,1)):(s=wt(a),s.c(),X(s,1),s.m(l.parentNode,l)):s&&(tt(),de(s,1,1,()=>{s=null}),it())},i(a){r||(X(n),X(s),r=!0)},o(a){de(n),de(s),r=!1},d(a){a&&(A(e),A(t),A(l)),n&&n.d(a),o&&o.d(a),s&&s.d(a)}}}const ri=400,ni=12;function si(i,e,t){let{visualisation:l="hemicycle"}=e,{selected_year:r=2024}=e,{selected_election:n="National Assembly"}=e,{selected_region:o="Gauteng"}=e,{selected_fields:s=["Party","Votes","Seats"]}=e,a=[];const c=["#FF0000","#0000FF","#008000","#FFA500","#FFFF00","#800080","#FFC0CB","#00FFFF","#FF00FF","#000000","#808080","#800000","#008080","#800080","#000080","#808000","#008000"];return Vt(async()=>{const u=await(await fetch("https://iec-api.revengine.dailymaverick.co.za/results/seats/national/2019")).json();t(5,a=u.partyResults.map((d,_)=>({id:_,text:d.Abbreviation,count:d.Seats,color:c[_]})))}),i.$$set=h=>{"visualisation"in h&&t(0,l=h.visualisation),"selected_year"in h&&t(1,r=h.selected_year),"selected_election"in h&&t(2,n=h.selected_election),"selected_region"in h&&t(3,o=h.selected_region),"selected_fields"in h&&t(4,s=h.selected_fields)},[l,r,n,o,s,a]}class ai extends Ie{constructor(e){super(),Je(this,e,si,li,Ne,{visualisation:0,selected_year:1,selected_election:2,selected_region:3,selected_fields:4})}}console.log("App"),jQuery(()=>{document.querySelectorAll(".wp-block-tenlayer-election-engine").forEach(e=>{var l;let t={id:e.id,visualisation:jQuery(e).data("visualisation"),selected_year:jQuery(e).data("selected_year"),selected_election:jQuery(e).data("selected_election"),selected_region:jQuery(e).data("selected_region"),selected_fields:(l=jQuery(e).data("selected_fields"))==null?void 0:l.split(",").map(r=>r.trim())};new ai({target:e,props:t})})})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxlY3Rpb24tZW5naW5lLnVtZC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC91dGlscy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvZG9tLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9saWZlY3ljbGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3NjaGVkdWxlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvdHJhbnNpdGlvbnMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2VhY2guanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL0NvbXBvbmVudC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3NoYXJlZC92ZXJzaW9uLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9kaXNjbG9zZS12ZXJzaW9uL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Zvcm9ub2lqcy9yYnRyZWUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdm9yb25vaWpzL3ZlcnRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92b3Jvbm9panMvZWRnZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92b3Jvbm9panMvY2VsbC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92b3Jvbm9panMvZGlhZ3JhbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92b3Jvbm9panMvaGFsZmVkZ2UuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdm9yb25vaWpzL3Zvcm9ub2kuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlLWhlbWljeWNsZS9kaXN0L2xpYnMvdm9yb25vaS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUtaGVtaWN5Y2xlL2Rpc3QvbGlicy9oZW1pY3ljbGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlLWhlbWljeWNsZS9kaXN0L0hlbWljeWNsZS5zdmVsdGUiLCIuLi8uLi9zcmMvc3ZlbHRlL2NvbXBvbmVudHMvVGFibGUuc3ZlbHRlIiwiLi4vLi4vc3JjL3N2ZWx0ZS9BcHAuc3ZlbHRlIiwiLi4vLi4vc3JjL3N2ZWx0ZS9hcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5leHBvcnQgY29uc3QgaWRlbnRpdHkgPSAoeCkgPT4geDtcblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHRlbXBsYXRlIFNcbiAqIEBwYXJhbSB7VH0gdGFyXG4gKiBAcGFyYW0ge1N9IHNyY1xuICogQHJldHVybnMge1QgJiBTfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKHRhciwgc3JjKSB7XG5cdC8vIEB0cy1pZ25vcmVcblx0Zm9yIChjb25zdCBrIGluIHNyYykgdGFyW2tdID0gc3JjW2tdO1xuXHRyZXR1cm4gLyoqIEB0eXBlIHtUICYgU30gKi8gKHRhcik7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vdGhlbi9pcy1wcm9taXNlL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBNSVQgTGljZW5zZSBodHRwczovL2dpdGh1Yi5jb20vdGhlbi9pcy1wcm9taXNlL2Jsb2IvbWFzdGVyL0xJQ0VOU0Vcbi8qKlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcmV0dXJucyB7dmFsdWUgaXMgUHJvbWlzZUxpa2U8YW55Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3Byb21pc2UodmFsdWUpIHtcblx0cmV0dXJuIChcblx0XHQhIXZhbHVlICYmXG5cdFx0KHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSAmJlxuXHRcdHR5cGVvZiAoLyoqIEB0eXBlIHthbnl9ICovICh2YWx1ZSkudGhlbikgPT09ICdmdW5jdGlvbidcblx0KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF9sb2NhdGlvbihlbGVtZW50LCBmaWxlLCBsaW5lLCBjb2x1bW4sIGNoYXIpIHtcblx0ZWxlbWVudC5fX3N2ZWx0ZV9tZXRhID0ge1xuXHRcdGxvYzogeyBmaWxlLCBsaW5lLCBjb2x1bW4sIGNoYXIgfVxuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcnVuKGZuKSB7XG5cdHJldHVybiBmbigpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmxhbmtfb2JqZWN0KCkge1xuXHRyZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0Z1bmN0aW9uW119IGZuc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydW5fYWxsKGZucykge1xuXHRmbnMuZm9yRWFjaChydW4pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSB0aGluZ1xuICogQHJldHVybnMge3RoaW5nIGlzIEZ1bmN0aW9ufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfZnVuY3Rpb24odGhpbmcpIHtcblx0cmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhZmVfbm90X2VxdWFsKGEsIGIpIHtcblx0cmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGIgfHwgKGEgJiYgdHlwZW9mIGEgPT09ICdvYmplY3QnKSB8fCB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxubGV0IHNyY191cmxfZXF1YWxfYW5jaG9yO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50X3NyY1xuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcmNfdXJsX2VxdWFsKGVsZW1lbnRfc3JjLCB1cmwpIHtcblx0aWYgKGVsZW1lbnRfc3JjID09PSB1cmwpIHJldHVybiB0cnVlO1xuXHRpZiAoIXNyY191cmxfZXF1YWxfYW5jaG9yKSB7XG5cdFx0c3JjX3VybF9lcXVhbF9hbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdH1cblx0Ly8gVGhpcyBpcyBhY3R1YWxseSBmYXN0ZXIgdGhhbiBkb2luZyBVUkwoLi4pLmhyZWZcblx0c3JjX3VybF9lcXVhbF9hbmNob3IuaHJlZiA9IHVybDtcblx0cmV0dXJuIGVsZW1lbnRfc3JjID09PSBzcmNfdXJsX2VxdWFsX2FuY2hvci5ocmVmO1xufVxuXG4vKiogQHBhcmFtIHtzdHJpbmd9IHNyY3NldCAqL1xuZnVuY3Rpb24gc3BsaXRfc3Jjc2V0KHNyY3NldCkge1xuXHRyZXR1cm4gc3Jjc2V0LnNwbGl0KCcsJykubWFwKChzcmMpID0+IHNyYy50cmltKCkuc3BsaXQoJyAnKS5maWx0ZXIoQm9vbGVhbikpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTFNvdXJjZUVsZW1lbnQgfCBIVE1MSW1hZ2VFbGVtZW50fSBlbGVtZW50X3NyY3NldFxuICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWQgfCBudWxsfSBzcmNzZXRcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3Jjc2V0X3VybF9lcXVhbChlbGVtZW50X3NyY3NldCwgc3Jjc2V0KSB7XG5cdGNvbnN0IGVsZW1lbnRfdXJscyA9IHNwbGl0X3NyY3NldChlbGVtZW50X3NyY3NldC5zcmNzZXQpO1xuXHRjb25zdCB1cmxzID0gc3BsaXRfc3Jjc2V0KHNyY3NldCB8fCAnJyk7XG5cblx0cmV0dXJuIChcblx0XHR1cmxzLmxlbmd0aCA9PT0gZWxlbWVudF91cmxzLmxlbmd0aCAmJlxuXHRcdHVybHMuZXZlcnkoXG5cdFx0XHQoW3VybCwgd2lkdGhdLCBpKSA9PlxuXHRcdFx0XHR3aWR0aCA9PT0gZWxlbWVudF91cmxzW2ldWzFdICYmXG5cdFx0XHRcdC8vIFdlIG5lZWQgdG8gdGVzdCBib3RoIHdheXMgYmVjYXVzZSBWaXRlIHdpbGwgY3JlYXRlIGFuIGEgZnVsbCBVUkwgd2l0aFxuXHRcdFx0XHQvLyBgbmV3IFVSTChhc3NldCwgaW1wb3J0Lm1ldGEudXJsKS5ocmVmYCBmb3IgdGhlIGNsaWVudCB3aGVuIGBiYXNlOiAnLi8nYCwgYW5kIHRoZVxuXHRcdFx0XHQvLyByZWxhdGl2ZSBVUkxzIGluc2lkZSBzcmNzZXQgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IHJlc29sdmVkIHRvIGFic29sdXRlIFVSTHMgYnlcblx0XHRcdFx0Ly8gYnJvd3NlcnMgKGluIGNvbnRyYXN0IHRvIGltZy5zcmMpLiBUaGlzIG1lYW5zIGJvdGggU1NSIGFuZCBET00gY29kZSBjb3VsZFxuXHRcdFx0XHQvLyBjb250YWluIHJlbGF0aXZlIG9yIGFic29sdXRlIFVSTHMuXG5cdFx0XHRcdChzcmNfdXJsX2VxdWFsKGVsZW1lbnRfdXJsc1tpXVswXSwgdXJsKSB8fCBzcmNfdXJsX2VxdWFsKHVybCwgZWxlbWVudF91cmxzW2ldWzBdKSlcblx0XHQpXG5cdCk7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3RfZXF1YWwoYSwgYikge1xuXHRyZXR1cm4gYSAhPSBhID8gYiA9PSBiIDogYSAhPT0gYjtcbn1cblxuLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2VtcHR5KG9iaikge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZV9zdG9yZShzdG9yZSwgbmFtZSkge1xuXHRpZiAoc3RvcmUgIT0gbnVsbCAmJiB0eXBlb2Ygc3RvcmUuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGAnJHtuYW1lfScgaXMgbm90IGEgc3RvcmUgd2l0aCBhICdzdWJzY3JpYmUnIG1ldGhvZGApO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJzY3JpYmUoc3RvcmUsIC4uLmNhbGxiYWNrcykge1xuXHRpZiAoc3RvcmUgPT0gbnVsbCkge1xuXHRcdGZvciAoY29uc3QgY2FsbGJhY2sgb2YgY2FsbGJhY2tzKSB7XG5cdFx0XHRjYWxsYmFjayh1bmRlZmluZWQpO1xuXHRcdH1cblx0XHRyZXR1cm4gbm9vcDtcblx0fVxuXHRjb25zdCB1bnN1YiA9IHN0b3JlLnN1YnNjcmliZSguLi5jYWxsYmFja3MpO1xuXHRyZXR1cm4gdW5zdWIudW5zdWJzY3JpYmUgPyAoKSA9PiB1bnN1Yi51bnN1YnNjcmliZSgpIDogdW5zdWI7XG59XG5cbi8qKlxuICogR2V0IHRoZSBjdXJyZW50IHZhbHVlIGZyb20gYSBzdG9yZSBieSBzdWJzY3JpYmluZyBhbmQgaW1tZWRpYXRlbHkgdW5zdWJzY3JpYmluZy5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtc3RvcmUjZ2V0XG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL3N0b3JlL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fSBzdG9yZVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfc3RvcmVfdmFsdWUoc3RvcmUpIHtcblx0bGV0IHZhbHVlO1xuXHRzdWJzY3JpYmUoc3RvcmUsIChfKSA9PiAodmFsdWUgPSBfKSkoKTtcblx0cmV0dXJuIHZhbHVlO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50X3N1YnNjcmliZShjb21wb25lbnQsIHN0b3JlLCBjYWxsYmFjaykge1xuXHRjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKHN1YnNjcmliZShzdG9yZSwgY2FsbGJhY2spKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9zbG90KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcblx0aWYgKGRlZmluaXRpb24pIHtcblx0XHRjb25zdCBzbG90X2N0eCA9IGdldF9zbG90X2NvbnRleHQoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbik7XG5cdFx0cmV0dXJuIGRlZmluaXRpb25bMF0oc2xvdF9jdHgpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGdldF9zbG90X2NvbnRleHQoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbikge1xuXHRyZXR1cm4gZGVmaW5pdGlvblsxXSAmJiBmbiA/IGFzc2lnbigkJHNjb3BlLmN0eC5zbGljZSgpLCBkZWZpbml0aW9uWzFdKGZuKGN0eCkpKSA6ICQkc2NvcGUuY3R4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3Nsb3RfY2hhbmdlcyhkZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZm4pIHtcblx0aWYgKGRlZmluaXRpb25bMl0gJiYgZm4pIHtcblx0XHRjb25zdCBsZXRzID0gZGVmaW5pdGlvblsyXShmbihkaXJ0eSkpO1xuXHRcdGlmICgkJHNjb3BlLmRpcnR5ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBsZXRzO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIGxldHMgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRjb25zdCBtZXJnZWQgPSBbXTtcblx0XHRcdGNvbnN0IGxlbiA9IE1hdGgubWF4KCQkc2NvcGUuZGlydHkubGVuZ3RoLCBsZXRzLmxlbmd0aCk7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG5cdFx0XHRcdG1lcmdlZFtpXSA9ICQkc2NvcGUuZGlydHlbaV0gfCBsZXRzW2ldO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1lcmdlZDtcblx0XHR9XG5cdFx0cmV0dXJuICQkc2NvcGUuZGlydHkgfCBsZXRzO1xuXHR9XG5cdHJldHVybiAkJHNjb3BlLmRpcnR5O1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX3Nsb3RfYmFzZShcblx0c2xvdCxcblx0c2xvdF9kZWZpbml0aW9uLFxuXHRjdHgsXG5cdCQkc2NvcGUsXG5cdHNsb3RfY2hhbmdlcyxcblx0Z2V0X3Nsb3RfY29udGV4dF9mblxuKSB7XG5cdGlmIChzbG90X2NoYW5nZXMpIHtcblx0XHRjb25zdCBzbG90X2NvbnRleHQgPSBnZXRfc2xvdF9jb250ZXh0KHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBnZXRfc2xvdF9jb250ZXh0X2ZuKTtcblx0XHRzbG90LnAoc2xvdF9jb250ZXh0LCBzbG90X2NoYW5nZXMpO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfc2xvdChcblx0c2xvdCxcblx0c2xvdF9kZWZpbml0aW9uLFxuXHRjdHgsXG5cdCQkc2NvcGUsXG5cdGRpcnR5LFxuXHRnZXRfc2xvdF9jaGFuZ2VzX2ZuLFxuXHRnZXRfc2xvdF9jb250ZXh0X2ZuXG4pIHtcblx0Y29uc3Qgc2xvdF9jaGFuZ2VzID0gZ2V0X3Nsb3RfY2hhbmdlcyhzbG90X2RlZmluaXRpb24sICQkc2NvcGUsIGRpcnR5LCBnZXRfc2xvdF9jaGFuZ2VzX2ZuKTtcblx0dXBkYXRlX3Nsb3RfYmFzZShzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgc2xvdF9jaGFuZ2VzLCBnZXRfc2xvdF9jb250ZXh0X2ZuKTtcbn1cblxuLyoqIEByZXR1cm5zIHthbnlbXSB8IC0xfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9hbGxfZGlydHlfZnJvbV9zY29wZSgkJHNjb3BlKSB7XG5cdGlmICgkJHNjb3BlLmN0eC5sZW5ndGggPiAzMikge1xuXHRcdGNvbnN0IGRpcnR5ID0gW107XG5cdFx0Y29uc3QgbGVuZ3RoID0gJCRzY29wZS5jdHgubGVuZ3RoIC8gMzI7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0ZGlydHlbaV0gPSAtMTtcblx0XHR9XG5cdFx0cmV0dXJuIGRpcnR5O1xuXHR9XG5cdHJldHVybiAtMTtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGNsdWRlX2ludGVybmFsX3Byb3BzKHByb3BzKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRmb3IgKGNvbnN0IGsgaW4gcHJvcHMpIGlmIChrWzBdICE9PSAnJCcpIHJlc3VsdFtrXSA9IHByb3BzW2tdO1xuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogQHJldHVybnMge3t9fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVfcmVzdF9wcm9wcyhwcm9wcywga2V5cykge1xuXHRjb25zdCByZXN0ID0ge307XG5cdGtleXMgPSBuZXcgU2V0KGtleXMpO1xuXHRmb3IgKGNvbnN0IGsgaW4gcHJvcHMpIGlmICgha2V5cy5oYXMoaykgJiYga1swXSAhPT0gJyQnKSByZXN0W2tdID0gcHJvcHNba107XG5cdHJldHVybiByZXN0O1xufVxuXG4vKiogQHJldHVybnMge3t9fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVfc2xvdHMoc2xvdHMpIHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGZvciAoY29uc3Qga2V5IGluIHNsb3RzKSB7XG5cdFx0cmVzdWx0W2tleV0gPSB0cnVlO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBAcmV0dXJucyB7KHRoaXM6IGFueSwgLi4uYXJnczogYW55W10pID0+IHZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gb25jZShmbikge1xuXHRsZXQgcmFuID0gZmFsc2U7XG5cdHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuXHRcdGlmIChyYW4pIHJldHVybjtcblx0XHRyYW4gPSB0cnVlO1xuXHRcdGZuLmNhbGwodGhpcywgLi4uYXJncyk7XG5cdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBudWxsX3RvX2VtcHR5KHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldF9zdG9yZV92YWx1ZShzdG9yZSwgcmV0LCB2YWx1ZSkge1xuXHRzdG9yZS5zZXQodmFsdWUpO1xuXHRyZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgY29uc3QgaGFzX3Byb3AgPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFjdGlvbl9kZXN0cm95ZXIoYWN0aW9uX3Jlc3VsdCkge1xuXHRyZXR1cm4gYWN0aW9uX3Jlc3VsdCAmJiBpc19mdW5jdGlvbihhY3Rpb25fcmVzdWx0LmRlc3Ryb3kpID8gYWN0aW9uX3Jlc3VsdC5kZXN0cm95IDogbm9vcDtcbn1cblxuLyoqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSB2YWx1ZVxuICogQHJldHVybnMge1tudW1iZXIsIHN0cmluZ119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdF9jc3NfdW5pdCh2YWx1ZSkge1xuXHRjb25zdCBzcGxpdCA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUubWF0Y2goL15cXHMqKC0/W1xcZC5dKykoW15cXHNdKilcXHMqJC8pO1xuXHRyZXR1cm4gc3BsaXQgPyBbcGFyc2VGbG9hdChzcGxpdFsxXSksIHNwbGl0WzJdIHx8ICdweCddIDogWy8qKiBAdHlwZSB7bnVtYmVyfSAqLyAodmFsdWUpLCAncHgnXTtcbn1cblxuZXhwb3J0IGNvbnN0IGNvbnRlbnRlZGl0YWJsZV90cnV0aHlfdmFsdWVzID0gWycnLCB0cnVlLCAxLCAndHJ1ZScsICdjb250ZW50ZWRpdGFibGUnXTtcbiIsImltcG9ydCB7IGNvbnRlbnRlZGl0YWJsZV90cnV0aHlfdmFsdWVzLCBoYXNfcHJvcCB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbiB9IGZyb20gJy4vUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24uanMnO1xuXG4vLyBUcmFjayB3aGljaCBub2RlcyBhcmUgY2xhaW1lZCBkdXJpbmcgaHlkcmF0aW9uLiBVbmNsYWltZWQgbm9kZXMgY2FuIHRoZW4gYmUgcmVtb3ZlZCBmcm9tIHRoZSBET01cbi8vIGF0IHRoZSBlbmQgb2YgaHlkcmF0aW9uIHdpdGhvdXQgdG91Y2hpbmcgdGhlIHJlbWFpbmluZyBub2Rlcy5cbmxldCBpc19oeWRyYXRpbmcgPSBmYWxzZTtcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0X2h5ZHJhdGluZygpIHtcblx0aXNfaHlkcmF0aW5nID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZF9oeWRyYXRpbmcoKSB7XG5cdGlzX2h5ZHJhdGluZyA9IGZhbHNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBsb3dcbiAqIEBwYXJhbSB7bnVtYmVyfSBoaWdoXG4gKiBAcGFyYW0geyhpbmRleDogbnVtYmVyKSA9PiBudW1iZXJ9IGtleVxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiB1cHBlcl9ib3VuZChsb3csIGhpZ2gsIGtleSwgdmFsdWUpIHtcblx0Ly8gUmV0dXJuIGZpcnN0IGluZGV4IG9mIHZhbHVlIGxhcmdlciB0aGFuIGlucHV0IHZhbHVlIGluIHRoZSByYW5nZSBbbG93LCBoaWdoKVxuXHR3aGlsZSAobG93IDwgaGlnaCkge1xuXHRcdGNvbnN0IG1pZCA9IGxvdyArICgoaGlnaCAtIGxvdykgPj4gMSk7XG5cdFx0aWYgKGtleShtaWQpIDw9IHZhbHVlKSB7XG5cdFx0XHRsb3cgPSBtaWQgKyAxO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRoaWdoID0gbWlkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbG93O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZUV4fSB0YXJnZXRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBpbml0X2h5ZHJhdGUodGFyZ2V0KSB7XG5cdGlmICh0YXJnZXQuaHlkcmF0ZV9pbml0KSByZXR1cm47XG5cdHRhcmdldC5oeWRyYXRlX2luaXQgPSB0cnVlO1xuXHQvLyBXZSBrbm93IHRoYXQgYWxsIGNoaWxkcmVuIGhhdmUgY2xhaW1fb3JkZXIgdmFsdWVzIHNpbmNlIHRoZSB1bmNsYWltZWQgaGF2ZSBiZWVuIGRldGFjaGVkIGlmIHRhcmdldCBpcyBub3QgPGhlYWQ+XG5cblx0bGV0IGNoaWxkcmVuID0gLyoqIEB0eXBlIHtBcnJheUxpa2U8Tm9kZUV4Mj59ICovICh0YXJnZXQuY2hpbGROb2Rlcyk7XG5cdC8vIElmIHRhcmdldCBpcyA8aGVhZD4sIHRoZXJlIG1heSBiZSBjaGlsZHJlbiB3aXRob3V0IGNsYWltX29yZGVyXG5cdGlmICh0YXJnZXQubm9kZU5hbWUgPT09ICdIRUFEJykge1xuXHRcdGNvbnN0IG15X2NoaWxkcmVuID0gW107XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3Qgbm9kZSA9IGNoaWxkcmVuW2ldO1xuXHRcdFx0aWYgKG5vZGUuY2xhaW1fb3JkZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRteV9jaGlsZHJlbi5wdXNoKG5vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjaGlsZHJlbiA9IG15X2NoaWxkcmVuO1xuXHR9XG5cdC8qXG5cdCAqIFJlb3JkZXIgY2xhaW1lZCBjaGlsZHJlbiBvcHRpbWFsbHkuXG5cdCAqIFdlIGNhbiByZW9yZGVyIGNsYWltZWQgY2hpbGRyZW4gb3B0aW1hbGx5IGJ5IGZpbmRpbmcgdGhlIGxvbmdlc3Qgc3Vic2VxdWVuY2Ugb2Zcblx0ICogbm9kZXMgdGhhdCBhcmUgYWxyZWFkeSBjbGFpbWVkIGluIG9yZGVyIGFuZCBvbmx5IG1vdmluZyB0aGUgcmVzdC4gVGhlIGxvbmdlc3Rcblx0ICogc3Vic2VxdWVuY2Ugb2Ygbm9kZXMgdGhhdCBhcmUgY2xhaW1lZCBpbiBvcmRlciBjYW4gYmUgZm91bmQgYnlcblx0ICogY29tcHV0aW5nIHRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgLmNsYWltX29yZGVyIHZhbHVlcy5cblx0ICpcblx0ICogVGhpcyBhbGdvcml0aG0gaXMgb3B0aW1hbCBpbiBnZW5lcmF0aW5nIHRoZSBsZWFzdCBhbW91bnQgb2YgcmVvcmRlciBvcGVyYXRpb25zXG5cdCAqIHBvc3NpYmxlLlxuXHQgKlxuXHQgKiBQcm9vZjpcblx0ICogV2Uga25vdyB0aGF0LCBnaXZlbiBhIHNldCBvZiByZW9yZGVyaW5nIG9wZXJhdGlvbnMsIHRoZSBub2RlcyB0aGF0IGRvIG5vdCBtb3ZlXG5cdCAqIGFsd2F5cyBmb3JtIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2UsIHNpbmNlIHRoZXkgZG8gbm90IG1vdmUgYW1vbmcgZWFjaCBvdGhlclxuXHQgKiBtZWFuaW5nIHRoYXQgdGhleSBtdXN0IGJlIGFscmVhZHkgb3JkZXJlZCBhbW9uZyBlYWNoIG90aGVyLiBUaHVzLCB0aGUgbWF4aW1hbFxuXHQgKiBzZXQgb2Ygbm9kZXMgdGhhdCBkbyBub3QgbW92ZSBmb3JtIGEgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLlxuXHQgKi9cblx0Ly8gQ29tcHV0ZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Vcblx0Ly8gbTogc3Vic2VxdWVuY2UgbGVuZ3RoIGogPT4gaW5kZXggayBvZiBzbWFsbGVzdCB2YWx1ZSB0aGF0IGVuZHMgYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBsZW5ndGggalxuXHRjb25zdCBtID0gbmV3IEludDMyQXJyYXkoY2hpbGRyZW4ubGVuZ3RoICsgMSk7XG5cdC8vIFByZWRlY2Vzc29yIGluZGljZXMgKyAxXG5cdGNvbnN0IHAgPSBuZXcgSW50MzJBcnJheShjaGlsZHJlbi5sZW5ndGgpO1xuXHRtWzBdID0gLTE7XG5cdGxldCBsb25nZXN0ID0gMDtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHRcdGNvbnN0IGN1cnJlbnQgPSBjaGlsZHJlbltpXS5jbGFpbV9vcmRlcjtcblx0XHQvLyBGaW5kIHRoZSBsYXJnZXN0IHN1YnNlcXVlbmNlIGxlbmd0aCBzdWNoIHRoYXQgaXQgZW5kcyBpbiBhIHZhbHVlIGxlc3MgdGhhbiBvdXIgY3VycmVudCB2YWx1ZVxuXHRcdC8vIHVwcGVyX2JvdW5kIHJldHVybnMgZmlyc3QgZ3JlYXRlciB2YWx1ZSwgc28gd2Ugc3VidHJhY3Qgb25lXG5cdFx0Ly8gd2l0aCBmYXN0IHBhdGggZm9yIHdoZW4gd2UgYXJlIG9uIHRoZSBjdXJyZW50IGxvbmdlc3Qgc3Vic2VxdWVuY2Vcblx0XHRjb25zdCBzZXFfbGVuID1cblx0XHRcdChsb25nZXN0ID4gMCAmJiBjaGlsZHJlblttW2xvbmdlc3RdXS5jbGFpbV9vcmRlciA8PSBjdXJyZW50XG5cdFx0XHRcdD8gbG9uZ2VzdCArIDFcblx0XHRcdFx0OiB1cHBlcl9ib3VuZCgxLCBsb25nZXN0LCAoaWR4KSA9PiBjaGlsZHJlblttW2lkeF1dLmNsYWltX29yZGVyLCBjdXJyZW50KSkgLSAxO1xuXHRcdHBbaV0gPSBtW3NlcV9sZW5dICsgMTtcblx0XHRjb25zdCBuZXdfbGVuID0gc2VxX2xlbiArIDE7XG5cdFx0Ly8gV2UgY2FuIGd1YXJhbnRlZSB0aGF0IGN1cnJlbnQgaXMgdGhlIHNtYWxsZXN0IHZhbHVlLiBPdGhlcndpc2UsIHdlIHdvdWxkIGhhdmUgZ2VuZXJhdGVkIGEgbG9uZ2VyIHNlcXVlbmNlLlxuXHRcdG1bbmV3X2xlbl0gPSBpO1xuXHRcdGxvbmdlc3QgPSBNYXRoLm1heChuZXdfbGVuLCBsb25nZXN0KTtcblx0fVxuXHQvLyBUaGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIG5vZGVzIChpbml0aWFsbHkgcmV2ZXJzZWQpXG5cblx0LyoqXG5cdCAqIEB0eXBlIHtOb2RlRXgyW119XG5cdCAqL1xuXHRjb25zdCBsaXMgPSBbXTtcblx0Ly8gVGhlIHJlc3Qgb2YgdGhlIG5vZGVzLCBub2RlcyB0aGF0IHdpbGwgYmUgbW92ZWRcblxuXHQvKipcblx0ICogQHR5cGUge05vZGVFeDJbXX1cblx0ICovXG5cdGNvbnN0IHRvX21vdmUgPSBbXTtcblx0bGV0IGxhc3QgPSBjaGlsZHJlbi5sZW5ndGggLSAxO1xuXHRmb3IgKGxldCBjdXIgPSBtW2xvbmdlc3RdICsgMTsgY3VyICE9IDA7IGN1ciA9IHBbY3VyIC0gMV0pIHtcblx0XHRsaXMucHVzaChjaGlsZHJlbltjdXIgLSAxXSk7XG5cdFx0Zm9yICg7IGxhc3QgPj0gY3VyOyBsYXN0LS0pIHtcblx0XHRcdHRvX21vdmUucHVzaChjaGlsZHJlbltsYXN0XSk7XG5cdFx0fVxuXHRcdGxhc3QtLTtcblx0fVxuXHRmb3IgKDsgbGFzdCA+PSAwOyBsYXN0LS0pIHtcblx0XHR0b19tb3ZlLnB1c2goY2hpbGRyZW5bbGFzdF0pO1xuXHR9XG5cdGxpcy5yZXZlcnNlKCk7XG5cdC8vIFdlIHNvcnQgdGhlIG5vZGVzIGJlaW5nIG1vdmVkIHRvIGd1YXJhbnRlZSB0aGF0IHRoZWlyIGluc2VydGlvbiBvcmRlciBtYXRjaGVzIHRoZSBjbGFpbSBvcmRlclxuXHR0b19tb3ZlLnNvcnQoKGEsIGIpID0+IGEuY2xhaW1fb3JkZXIgLSBiLmNsYWltX29yZGVyKTtcblx0Ly8gRmluYWxseSwgd2UgbW92ZSB0aGUgbm9kZXNcblx0Zm9yIChsZXQgaSA9IDAsIGogPSAwOyBpIDwgdG9fbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdHdoaWxlIChqIDwgbGlzLmxlbmd0aCAmJiB0b19tb3ZlW2ldLmNsYWltX29yZGVyID49IGxpc1tqXS5jbGFpbV9vcmRlcikge1xuXHRcdFx0aisrO1xuXHRcdH1cblx0XHRjb25zdCBhbmNob3IgPSBqIDwgbGlzLmxlbmd0aCA/IGxpc1tqXSA6IG51bGw7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZSh0b19tb3ZlW2ldLCBhbmNob3IpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmQodGFyZ2V0LCBub2RlKSB7XG5cdHRhcmdldC5hcHBlbmRDaGlsZChub2RlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IHRhcmdldFxuICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlX3NoZWV0X2lkXG4gKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZF9zdHlsZXModGFyZ2V0LCBzdHlsZV9zaGVldF9pZCwgc3R5bGVzKSB7XG5cdGNvbnN0IGFwcGVuZF9zdHlsZXNfdG8gPSBnZXRfcm9vdF9mb3Jfc3R5bGUodGFyZ2V0KTtcblx0aWYgKCFhcHBlbmRfc3R5bGVzX3RvLmdldEVsZW1lbnRCeUlkKHN0eWxlX3NoZWV0X2lkKSkge1xuXHRcdGNvbnN0IHN0eWxlID0gZWxlbWVudCgnc3R5bGUnKTtcblx0XHRzdHlsZS5pZCA9IHN0eWxlX3NoZWV0X2lkO1xuXHRcdHN0eWxlLnRleHRDb250ZW50ID0gc3R5bGVzO1xuXHRcdGFwcGVuZF9zdHlsZXNoZWV0KGFwcGVuZF9zdHlsZXNfdG8sIHN0eWxlKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHJldHVybnMge1NoYWRvd1Jvb3QgfCBEb2N1bWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9yb290X2Zvcl9zdHlsZShub2RlKSB7XG5cdGlmICghbm9kZSkgcmV0dXJuIGRvY3VtZW50O1xuXHRjb25zdCByb290ID0gbm9kZS5nZXRSb290Tm9kZSA/IG5vZGUuZ2V0Um9vdE5vZGUoKSA6IG5vZGUub3duZXJEb2N1bWVudDtcblx0aWYgKHJvb3QgJiYgLyoqIEB0eXBlIHtTaGFkb3dSb290fSAqLyAocm9vdCkuaG9zdCkge1xuXHRcdHJldHVybiAvKiogQHR5cGUge1NoYWRvd1Jvb3R9ICovIChyb290KTtcblx0fVxuXHRyZXR1cm4gbm9kZS5vd25lckRvY3VtZW50O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHJldHVybnMge0NTU1N0eWxlU2hlZXR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRfZW1wdHlfc3R5bGVzaGVldChub2RlKSB7XG5cdGNvbnN0IHN0eWxlX2VsZW1lbnQgPSBlbGVtZW50KCdzdHlsZScpO1xuXHQvLyBGb3IgdHJhbnNpdGlvbnMgdG8gd29yayB3aXRob3V0ICdzdHlsZS1zcmM6IHVuc2FmZS1pbmxpbmUnIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5LFxuXHQvLyB0aGVzZSBlbXB0eSB0YWdzIG5lZWQgdG8gYmUgYWxsb3dlZCB3aXRoIGEgaGFzaCBhcyBhIHdvcmthcm91bmQgdW50aWwgd2UgbW92ZSB0byB0aGUgV2ViIEFuaW1hdGlvbnMgQVBJLlxuXHQvLyBVc2luZyB0aGUgaGFzaCBmb3IgdGhlIGVtcHR5IHN0cmluZyAoZm9yIGFuIGVtcHR5IHRhZykgd29ya3MgaW4gYWxsIGJyb3dzZXJzIGV4Y2VwdCBTYWZhcmkuXG5cdC8vIFNvIGFzIGEgd29ya2Fyb3VuZCBmb3IgdGhlIHdvcmthcm91bmQsIHdoZW4gd2UgYXBwZW5kIGVtcHR5IHN0eWxlIHRhZ3Mgd2Ugc2V0IHRoZWlyIGNvbnRlbnQgdG8gLyogZW1wdHkgKi8uXG5cdC8vIFRoZSBoYXNoICdzaGEyNTYtOU9sTk8wRE5FZWFWekhMNFJad0NMc0JIQThXQlE4dG9CcC80RjVYVjJuYz0nIHdpbGwgdGhlbiB3b3JrIGV2ZW4gaW4gU2FmYXJpLlxuXHRzdHlsZV9lbGVtZW50LnRleHRDb250ZW50ID0gJy8qIGVtcHR5ICovJztcblx0YXBwZW5kX3N0eWxlc2hlZXQoZ2V0X3Jvb3RfZm9yX3N0eWxlKG5vZGUpLCBzdHlsZV9lbGVtZW50KTtcblx0cmV0dXJuIHN0eWxlX2VsZW1lbnQuc2hlZXQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTaGFkb3dSb290IHwgRG9jdW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7SFRNTFN0eWxlRWxlbWVudH0gc3R5bGVcbiAqIEByZXR1cm5zIHtDU1NTdHlsZVNoZWV0fVxuICovXG5mdW5jdGlvbiBhcHBlbmRfc3R5bGVzaGVldChub2RlLCBzdHlsZSkge1xuXHRhcHBlbmQoLyoqIEB0eXBlIHtEb2N1bWVudH0gKi8gKG5vZGUpLmhlYWQgfHwgbm9kZSwgc3R5bGUpO1xuXHRyZXR1cm4gc3R5bGUuc2hlZXQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlRXh9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlRXh9IG5vZGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kX2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUpIHtcblx0aWYgKGlzX2h5ZHJhdGluZykge1xuXHRcdGluaXRfaHlkcmF0ZSh0YXJnZXQpO1xuXHRcdGlmIChcblx0XHRcdHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID09PSB1bmRlZmluZWQgfHxcblx0XHRcdCh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCAhPT0gbnVsbCAmJiB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5wYXJlbnROb2RlICE9PSB0YXJnZXQpXG5cdFx0KSB7XG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9IHRhcmdldC5maXJzdENoaWxkO1xuXHRcdH1cblx0XHQvLyBTa2lwIG5vZGVzIG9mIHVuZGVmaW5lZCBvcmRlcmluZ1xuXHRcdHdoaWxlICh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCAhPT0gbnVsbCAmJiB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5jbGFpbV9vcmRlciA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9IHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkLm5leHRTaWJsaW5nO1xuXHRcdH1cblx0XHRpZiAobm9kZSAhPT0gdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQpIHtcblx0XHRcdC8vIFdlIG9ubHkgaW5zZXJ0IGlmIHRoZSBvcmRlcmluZyBvZiB0aGlzIG5vZGUgc2hvdWxkIGJlIG1vZGlmaWVkIG9yIHRoZSBwYXJlbnQgbm9kZSBpcyBub3QgdGFyZ2V0XG5cdFx0XHRpZiAobm9kZS5jbGFpbV9vcmRlciAhPT0gdW5kZWZpbmVkIHx8IG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0KSB7XG5cdFx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9IG5vZGUubmV4dFNpYmxpbmc7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0IHx8IG5vZGUubmV4dFNpYmxpbmcgIT09IG51bGwpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQobm9kZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcGFyYW0ge05vZGV9IFthbmNob3JdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydCh0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuXHR0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIGFuY2hvciB8fCBudWxsKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGVFeH0gdGFyZ2V0XG4gKiBAcGFyYW0ge05vZGVFeH0gbm9kZVxuICogQHBhcmFtIHtOb2RlRXh9IFthbmNob3JdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydF9oeWRyYXRpb24odGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcblx0aWYgKGlzX2h5ZHJhdGluZyAmJiAhYW5jaG9yKSB7XG5cdFx0YXBwZW5kX2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUpO1xuXHR9IGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0IHx8IG5vZGUubmV4dFNpYmxpbmcgIT0gYW5jaG9yKSB7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCBhbmNob3IgfHwgbnVsbCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0YWNoKG5vZGUpIHtcblx0aWYgKG5vZGUucGFyZW50Tm9kZSkge1xuXHRcdG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfZWFjaChpdGVyYXRpb25zLCBkZXRhY2hpbmcpIHtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBpdGVyYXRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0aWYgKGl0ZXJhdGlvbnNbaV0pIGl0ZXJhdGlvbnNbaV0uZChkZXRhY2hpbmcpO1xuXHR9XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXB9IEtcbiAqIEBwYXJhbSB7S30gbmFtZVxuICogQHJldHVybnMge0hUTUxFbGVtZW50VGFnTmFtZU1hcFtLXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnQobmFtZSkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge2tleW9mIEhUTUxFbGVtZW50VGFnTmFtZU1hcH0gS1xuICogQHBhcmFtIHtLfSBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gaXNcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFRhZ05hbWVNYXBbS119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50X2lzKG5hbWUsIGlzKSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUsIHsgaXMgfSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgVH0gS1xuICogQHBhcmFtIHtUfSBvYmpcbiAqIEBwYXJhbSB7S1tdfSBleGNsdWRlXG4gKiBAcmV0dXJucyB7UGljazxULCBFeGNsdWRlPGtleW9mIFQsIEs+Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdF93aXRob3V0X3Byb3BlcnRpZXMob2JqLCBleGNsdWRlKSB7XG5cdGNvbnN0IHRhcmdldCA9IC8qKiBAdHlwZSB7UGljazxULCBFeGNsdWRlPGtleW9mIFQsIEs+Pn0gKi8gKHt9KTtcblx0Zm9yIChjb25zdCBrIGluIG9iaikge1xuXHRcdGlmIChcblx0XHRcdGhhc19wcm9wKG9iaiwgaykgJiZcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGV4Y2x1ZGUuaW5kZXhPZihrKSA9PT0gLTFcblx0XHQpIHtcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdHRhcmdldFtrXSA9IG9ialtrXTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHRhcmdldDtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge2tleW9mIFNWR0VsZW1lbnRUYWdOYW1lTWFwfSBLXG4gKiBAcGFyYW0ge0t9IG5hbWVcbiAqIEByZXR1cm5zIHtTVkdFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3ZnX2VsZW1lbnQobmFtZSkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5hbWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhXG4gKiBAcmV0dXJucyB7VGV4dH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRleHQoZGF0YSkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0YSk7XG59XG5cbi8qKlxuICogQHJldHVybnMge1RleHR9ICovXG5leHBvcnQgZnVuY3Rpb24gc3BhY2UoKSB7XG5cdHJldHVybiB0ZXh0KCcgJyk7XG59XG5cbi8qKlxuICogQHJldHVybnMge1RleHR9ICovXG5leHBvcnQgZnVuY3Rpb24gZW1wdHkoKSB7XG5cdHJldHVybiB0ZXh0KCcnKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICogQHJldHVybnMge0NvbW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21tZW50KGNvbnRlbnQpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoY29udGVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0V2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3R9IGhhbmRsZXJcbiAqIEBwYXJhbSB7Ym9vbGVhbiB8IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zIHwgRXZlbnRMaXN0ZW5lck9wdGlvbnN9IFtvcHRpb25zXVxuICogQHJldHVybnMgeygpID0+IHZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4obm9kZSwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcblx0bm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcblx0cmV0dXJuICgpID0+IG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiBhbnl9ICovXG5leHBvcnQgZnVuY3Rpb24gcHJldmVudF9kZWZhdWx0KGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiBhbnl9ICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcF9wcm9wYWdhdGlvbihmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IGFueX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdG9wX2ltbWVkaWF0ZV9wcm9wYWdhdGlvbihmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IHZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZihmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGlmIChldmVudC50YXJnZXQgPT09IHRoaXMpIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gdm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cnVzdGVkKGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0aWYgKGV2ZW50LmlzVHJ1c3RlZCkgZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gW3ZhbHVlXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcblx0aWYgKHZhbHVlID09IG51bGwpIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG5cdGVsc2UgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSkgIT09IHZhbHVlKSBub2RlLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbn1cbi8qKlxuICogTGlzdCBvZiBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGFsd2F5cyBiZSBzZXQgdGhyb3VnaCB0aGUgYXR0ciBtZXRob2QsXG4gKiBiZWNhdXNlIHVwZGF0aW5nIHRoZW0gdGhyb3VnaCB0aGUgcHJvcGVydHkgc2V0dGVyIGRvZXNuJ3Qgd29yayByZWxpYWJseS5cbiAqIEluIHRoZSBleGFtcGxlIG9mIGB3aWR0aGAvYGhlaWdodGAsIHRoZSBwcm9ibGVtIGlzIHRoYXQgdGhlIHNldHRlciBvbmx5XG4gKiBhY2NlcHRzIG51bWVyaWMgdmFsdWVzLCBidXQgdGhlIGF0dHJpYnV0ZSBjYW4gYWxzbyBiZSBzZXQgdG8gYSBzdHJpbmcgbGlrZSBgNTAlYC5cbiAqIElmIHRoaXMgbGlzdCBiZWNvbWVzIHRvbyBiaWcsIHJldGhpbmsgdGhpcyBhcHByb2FjaC5cbiAqL1xuY29uc3QgYWx3YXlzX3NldF90aHJvdWdoX3NldF9hdHRyaWJ1dGUgPSBbJ3dpZHRoJywgJ2hlaWdodCddO1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHt7IFt4OiBzdHJpbmddOiBzdHJpbmcgfX0gYXR0cmlidXRlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG5cdC8vIEB0cy1pZ25vcmVcblx0Y29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhub2RlLl9fcHJvdG9fXyk7XG5cdGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRpZiAoYXR0cmlidXRlc1trZXldID09IG51bGwpIHtcblx0XHRcdG5vZGUucmVtb3ZlQXR0cmlidXRlKGtleSk7XG5cdFx0fSBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcblx0XHRcdG5vZGUuc3R5bGUuY3NzVGV4dCA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHR9IGVsc2UgaWYgKGtleSA9PT0gJ19fdmFsdWUnKSB7XG5cdFx0XHQvKiogQHR5cGUge2FueX0gKi8gKG5vZGUpLnZhbHVlID0gbm9kZVtrZXldID0gYXR0cmlidXRlc1trZXldO1xuXHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRkZXNjcmlwdG9yc1trZXldICYmXG5cdFx0XHRkZXNjcmlwdG9yc1trZXldLnNldCAmJlxuXHRcdFx0YWx3YXlzX3NldF90aHJvdWdoX3NldF9hdHRyaWJ1dGUuaW5kZXhPZihrZXkpID09PSAtMVxuXHRcdCkge1xuXHRcdFx0bm9kZVtrZXldID0gYXR0cmlidXRlc1trZXldO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7eyBbeDogc3RyaW5nXTogc3RyaW5nIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3N2Z19hdHRyaWJ1dGVzKG5vZGUsIGF0dHJpYnV0ZXMpIHtcblx0Zm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuXHRcdGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCB1bmtub3duPn0gZGF0YV9tYXBcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGFfbWFwKG5vZGUsIGRhdGFfbWFwKSB7XG5cdE9iamVjdC5rZXlzKGRhdGFfbWFwKS5mb3JFYWNoKChrZXkpID0+IHtcblx0XHRzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YShub2RlLCBrZXksIGRhdGFfbWFwW2tleV0pO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YShub2RlLCBwcm9wLCB2YWx1ZSkge1xuXHRjb25zdCBsb3dlciA9IHByb3AudG9Mb3dlckNhc2UoKTsgLy8gZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggZXhpc3RpbmcgYmVoYXZpb3Igd2UgZG8gbG93ZXJjYXNlIGZpcnN0XG5cdGlmIChsb3dlciBpbiBub2RlKSB7XG5cdFx0bm9kZVtsb3dlcl0gPSB0eXBlb2Ygbm9kZVtsb3dlcl0gPT09ICdib29sZWFuJyAmJiB2YWx1ZSA9PT0gJycgPyB0cnVlIDogdmFsdWU7XG5cdH0gZWxzZSBpZiAocHJvcCBpbiBub2RlKSB7XG5cdFx0bm9kZVtwcm9wXSA9IHR5cGVvZiBub2RlW3Byb3BdID09PSAnYm9vbGVhbicgJiYgdmFsdWUgPT09ICcnID8gdHJ1ZSA6IHZhbHVlO1xuXHR9IGVsc2Uge1xuXHRcdGF0dHIobm9kZSwgcHJvcCwgdmFsdWUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2R5bmFtaWNfZWxlbWVudF9kYXRhKHRhZykge1xuXHRyZXR1cm4gLy0vLnRlc3QodGFnKSA/IHNldF9jdXN0b21fZWxlbWVudF9kYXRhX21hcCA6IHNldF9hdHRyaWJ1dGVzO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24geGxpbmtfYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG5cdG5vZGUuc2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCBhdHRyaWJ1dGUsIHZhbHVlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3N2ZWx0ZV9kYXRhc2V0KG5vZGUpIHtcblx0cmV0dXJuIG5vZGUuZGF0YXNldC5zdmVsdGVIO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt1bmtub3duW119ICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2JpbmRpbmdfZ3JvdXBfdmFsdWUoZ3JvdXAsIF9fdmFsdWUsIGNoZWNrZWQpIHtcblx0Y29uc3QgdmFsdWUgPSBuZXcgU2V0KCk7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRpZiAoZ3JvdXBbaV0uY2hlY2tlZCkgdmFsdWUuYWRkKGdyb3VwW2ldLl9fdmFsdWUpO1xuXHR9XG5cdGlmICghY2hlY2tlZCkge1xuXHRcdHZhbHVlLmRlbGV0ZShfX3ZhbHVlKTtcblx0fVxuXHRyZXR1cm4gQXJyYXkuZnJvbSh2YWx1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50W119IGdyb3VwXG4gKiBAcmV0dXJucyB7eyBwKC4uLmlucHV0czogSFRNTElucHV0RWxlbWVudFtdKTogdm9pZDsgcigpOiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdF9iaW5kaW5nX2dyb3VwKGdyb3VwKSB7XG5cdC8qKlxuXHQgKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudFtdfSAqL1xuXHRsZXQgX2lucHV0cztcblx0cmV0dXJuIHtcblx0XHQvKiBwdXNoICovIHAoLi4uaW5wdXRzKSB7XG5cdFx0XHRfaW5wdXRzID0gaW5wdXRzO1xuXHRcdFx0X2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gZ3JvdXAucHVzaChpbnB1dCkpO1xuXHRcdH0sXG5cdFx0LyogcmVtb3ZlICovIHIoKSB7XG5cdFx0XHRfaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBncm91cC5zcGxpY2UoZ3JvdXAuaW5kZXhPZihpbnB1dCksIDEpKTtcblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJbXX0gaW5kZXhlc1xuICogQHJldHVybnMge3sgdShuZXdfaW5kZXhlczogbnVtYmVyW10pOiB2b2lkOyBwKC4uLmlucHV0czogSFRNTElucHV0RWxlbWVudFtdKTogdm9pZDsgcjogKCkgPT4gdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRfYmluZGluZ19ncm91cF9keW5hbWljKGdyb3VwLCBpbmRleGVzKSB7XG5cdC8qKlxuXHQgKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudFtdfSAqL1xuXHRsZXQgX2dyb3VwID0gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudFtdfSAqL1xuXHRsZXQgX2lucHV0cztcblxuXHRmdW5jdGlvbiBnZXRfYmluZGluZ19ncm91cChncm91cCkge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXhlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Z3JvdXAgPSBncm91cFtpbmRleGVzW2ldXSA9IGdyb3VwW2luZGV4ZXNbaV1dIHx8IFtdO1xuXHRcdH1cblx0XHRyZXR1cm4gZ3JvdXA7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIHB1c2goKSB7XG5cdFx0X2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gX2dyb3VwLnB1c2goaW5wdXQpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gcmVtb3ZlKCkge1xuXHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IF9ncm91cC5zcGxpY2UoX2dyb3VwLmluZGV4T2YoaW5wdXQpLCAxKSk7XG5cdH1cblx0cmV0dXJuIHtcblx0XHQvKiB1cGRhdGUgKi8gdShuZXdfaW5kZXhlcykge1xuXHRcdFx0aW5kZXhlcyA9IG5ld19pbmRleGVzO1xuXHRcdFx0Y29uc3QgbmV3X2dyb3VwID0gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApO1xuXHRcdFx0aWYgKG5ld19ncm91cCAhPT0gX2dyb3VwKSB7XG5cdFx0XHRcdHJlbW92ZSgpO1xuXHRcdFx0XHRfZ3JvdXAgPSBuZXdfZ3JvdXA7XG5cdFx0XHRcdHB1c2goKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdC8qIHB1c2ggKi8gcCguLi5pbnB1dHMpIHtcblx0XHRcdF9pbnB1dHMgPSBpbnB1dHM7XG5cdFx0XHRwdXNoKCk7XG5cdFx0fSxcblx0XHQvKiByZW1vdmUgKi8gcjogcmVtb3ZlXG5cdH07XG59XG5cbi8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvX251bWJlcih2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUgPT09ICcnID8gbnVsbCA6ICt2YWx1ZTtcbn1cblxuLyoqIEByZXR1cm5zIHthbnlbXX0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lX3Jhbmdlc190b19hcnJheShyYW5nZXMpIHtcblx0Y29uc3QgYXJyYXkgPSBbXTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRhcnJheS5wdXNoKHsgc3RhcnQ6IHJhbmdlcy5zdGFydChpKSwgZW5kOiByYW5nZXMuZW5kKGkpIH0pO1xuXHR9XG5cdHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtDaGlsZE5vZGVbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoaWxkcmVuKGVsZW1lbnQpIHtcblx0cmV0dXJuIEFycmF5LmZyb20oZWxlbWVudC5jaGlsZE5vZGVzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGluaXRfY2xhaW1faW5mbyhub2Rlcykge1xuXHRpZiAobm9kZXMuY2xhaW1faW5mbyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0bm9kZXMuY2xhaW1faW5mbyA9IHsgbGFzdF9pbmRleDogMCwgdG90YWxfY2xhaW1lZDogMCB9O1xuXHR9XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtDaGlsZE5vZGVFeH0gUlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEBwYXJhbSB7KG5vZGU6IENoaWxkTm9kZUV4KSA9PiBub2RlIGlzIFJ9IHByZWRpY2F0ZVxuICogQHBhcmFtIHsobm9kZTogQ2hpbGROb2RlRXgpID0+IENoaWxkTm9kZUV4IHwgdW5kZWZpbmVkfSBwcm9jZXNzX25vZGVcbiAqIEBwYXJhbSB7KCkgPT4gUn0gY3JlYXRlX25vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZG9udF91cGRhdGVfbGFzdF9pbmRleFxuICogQHJldHVybnMge1J9XG4gKi9cbmZ1bmN0aW9uIGNsYWltX25vZGUobm9kZXMsIHByZWRpY2F0ZSwgcHJvY2Vzc19ub2RlLCBjcmVhdGVfbm9kZSwgZG9udF91cGRhdGVfbGFzdF9pbmRleCA9IGZhbHNlKSB7XG5cdC8vIFRyeSB0byBmaW5kIG5vZGVzIGluIGFuIG9yZGVyIHN1Y2ggdGhhdCB3ZSBsZW5ndGhlbiB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlXG5cdGluaXRfY2xhaW1faW5mbyhub2Rlcyk7XG5cdGNvbnN0IHJlc3VsdF9ub2RlID0gKCgpID0+IHtcblx0XHQvLyBXZSBmaXJzdCB0cnkgdG8gZmluZCBhbiBlbGVtZW50IGFmdGVyIHRoZSBwcmV2aW91cyBvbmVcblx0XHRmb3IgKGxldCBpID0gbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4OyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcblx0XHRcdGlmIChwcmVkaWNhdGUobm9kZSkpIHtcblx0XHRcdFx0Y29uc3QgcmVwbGFjZW1lbnQgPSBwcm9jZXNzX25vZGUobm9kZSk7XG5cdFx0XHRcdGlmIChyZXBsYWNlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0bm9kZXMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5vZGVzW2ldID0gcmVwbGFjZW1lbnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCFkb250X3VwZGF0ZV9sYXN0X2luZGV4KSB7XG5cdFx0XHRcdFx0bm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4ID0gaTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbm9kZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gT3RoZXJ3aXNlLCB3ZSB0cnkgdG8gZmluZCBvbmUgYmVmb3JlXG5cdFx0Ly8gV2UgaXRlcmF0ZSBpbiByZXZlcnNlIHNvIHRoYXQgd2UgZG9uJ3QgZ28gdG9vIGZhciBiYWNrXG5cdFx0Zm9yIChsZXQgaSA9IG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRjb25zdCBub2RlID0gbm9kZXNbaV07XG5cdFx0XHRpZiAocHJlZGljYXRlKG5vZGUpKSB7XG5cdFx0XHRcdGNvbnN0IHJlcGxhY2VtZW50ID0gcHJvY2Vzc19ub2RlKG5vZGUpO1xuXHRcdFx0XHRpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG5vZGVzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRub2Rlc1tpXSA9IHJlcGxhY2VtZW50O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICghZG9udF91cGRhdGVfbGFzdF9pbmRleCkge1xuXHRcdFx0XHRcdG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG5cdFx0XHRcdH0gZWxzZSBpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdC8vIFNpbmNlIHdlIHNwbGljZWQgYmVmb3JlIHRoZSBsYXN0X2luZGV4LCB3ZSBkZWNyZWFzZSBpdFxuXHRcdFx0XHRcdG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleC0tO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBub2RlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBJZiB3ZSBjYW4ndCBmaW5kIGFueSBtYXRjaGluZyBub2RlLCB3ZSBjcmVhdGUgYSBuZXcgb25lXG5cdFx0cmV0dXJuIGNyZWF0ZV9ub2RlKCk7XG5cdH0pKCk7XG5cdHJlc3VsdF9ub2RlLmNsYWltX29yZGVyID0gbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkO1xuXHRub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQgKz0gMTtcblx0cmV0dXJuIHJlc3VsdF9ub2RlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHt7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfX0gYXR0cmlidXRlc1xuICogQHBhcmFtIHsobmFtZTogc3RyaW5nKSA9PiBFbGVtZW50IHwgU1ZHRWxlbWVudH0gY3JlYXRlX2VsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50IHwgU1ZHRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBjcmVhdGVfZWxlbWVudCkge1xuXHRyZXR1cm4gY2xhaW1fbm9kZShcblx0XHRub2Rlcyxcblx0XHQvKiogQHJldHVybnMge25vZGUgaXMgRWxlbWVudCB8IFNWR0VsZW1lbnR9ICovXG5cdFx0KG5vZGUpID0+IG5vZGUubm9kZU5hbWUgPT09IG5hbWUsXG5cdFx0LyoqIEBwYXJhbSB7RWxlbWVudH0gbm9kZSAqL1xuXHRcdChub2RlKSA9PiB7XG5cdFx0XHRjb25zdCByZW1vdmUgPSBbXTtcblx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGNvbnN0IGF0dHJpYnV0ZSA9IG5vZGUuYXR0cmlidXRlc1tqXTtcblx0XHRcdFx0aWYgKCFhdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSkge1xuXHRcdFx0XHRcdHJlbW92ZS5wdXNoKGF0dHJpYnV0ZS5uYW1lKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmVtb3ZlLmZvckVhY2goKHYpID0+IG5vZGUucmVtb3ZlQXR0cmlidXRlKHYpKTtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fSxcblx0XHQoKSA9PiBjcmVhdGVfZWxlbWVudChuYW1lKVxuXHQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHt7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfX0gYXR0cmlidXRlc1xuICogQHJldHVybnMge0VsZW1lbnQgfCBTVkdFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fZWxlbWVudChub2RlcywgbmFtZSwgYXR0cmlidXRlcykge1xuXHRyZXR1cm4gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBlbGVtZW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHtFbGVtZW50IHwgU1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX3N2Z19lbGVtZW50KG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzKSB7XG5cdHJldHVybiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIHN2Z19lbGVtZW50KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHJldHVybnMge1RleHR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV90ZXh0KG5vZGVzLCBkYXRhKSB7XG5cdHJldHVybiBjbGFpbV9ub2RlKFxuXHRcdG5vZGVzLFxuXHRcdC8qKiBAcmV0dXJucyB7bm9kZSBpcyBUZXh0fSAqL1xuXHRcdChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSAzLFxuXHRcdC8qKiBAcGFyYW0ge1RleHR9IG5vZGUgKi9cblx0XHQobm9kZSkgPT4ge1xuXHRcdFx0Y29uc3QgZGF0YV9zdHIgPSAnJyArIGRhdGE7XG5cdFx0XHRpZiAobm9kZS5kYXRhLnN0YXJ0c1dpdGgoZGF0YV9zdHIpKSB7XG5cdFx0XHRcdGlmIChub2RlLmRhdGEubGVuZ3RoICE9PSBkYXRhX3N0ci5sZW5ndGgpIHtcblx0XHRcdFx0XHRyZXR1cm4gbm9kZS5zcGxpdFRleHQoZGF0YV9zdHIubGVuZ3RoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bm9kZS5kYXRhID0gZGF0YV9zdHI7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQoKSA9PiB0ZXh0KGRhdGEpLFxuXHRcdHRydWUgLy8gVGV4dCBub2RlcyBzaG91bGQgbm90IHVwZGF0ZSBsYXN0IGluZGV4IHNpbmNlIGl0IGlzIGxpa2VseSBub3Qgd29ydGggaXQgdG8gZWxpbWluYXRlIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgYWN0dWFsIGVsZW1lbnRzXG5cdCk7XG59XG5cbi8qKlxuICogQHJldHVybnMge1RleHR9ICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fc3BhY2Uobm9kZXMpIHtcblx0cmV0dXJuIGNsYWltX3RleHQobm9kZXMsICcgJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEByZXR1cm5zIHtDb21tZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fY29tbWVudChub2RlcywgZGF0YSkge1xuXHRyZXR1cm4gY2xhaW1fbm9kZShcblx0XHRub2Rlcyxcblx0XHQvKiogQHJldHVybnMge25vZGUgaXMgQ29tbWVudH0gKi9cblx0XHQobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gOCxcblx0XHQvKiogQHBhcmFtIHtDb21tZW50fSBub2RlICovXG5cdFx0KG5vZGUpID0+IHtcblx0XHRcdG5vZGUuZGF0YSA9ICcnICsgZGF0YTtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fSxcblx0XHQoKSA9PiBjb21tZW50KGRhdGEpLFxuXHRcdHRydWVcblx0KTtcbn1cblxuZnVuY3Rpb24gZ2V0X2NvbW1lbnRfaWR4KG5vZGVzLCB0ZXh0LCBzdGFydCkge1xuXHRmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBub2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcblx0XHRpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBjb21tZW50IG5vZGUgKi8gJiYgbm9kZS50ZXh0Q29udGVudC50cmltKCkgPT09IHRleHQpIHtcblx0XHRcdHJldHVybiBpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gLTE7XG59XG5cbi8qKlxuICogQHBhcmFtIHtib29sZWFufSBpc19zdmdcbiAqIEByZXR1cm5zIHtIdG1sVGFnSHlkcmF0aW9ufVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1faHRtbF90YWcobm9kZXMsIGlzX3N2Zykge1xuXHQvLyBmaW5kIGh0bWwgb3BlbmluZyB0YWdcblx0Y29uc3Qgc3RhcnRfaW5kZXggPSBnZXRfY29tbWVudF9pZHgobm9kZXMsICdIVE1MX1RBR19TVEFSVCcsIDApO1xuXHRjb25zdCBlbmRfaW5kZXggPSBnZXRfY29tbWVudF9pZHgobm9kZXMsICdIVE1MX1RBR19FTkQnLCBzdGFydF9pbmRleCArIDEpO1xuXHRpZiAoc3RhcnRfaW5kZXggPT09IC0xIHx8IGVuZF9pbmRleCA9PT0gLTEpIHtcblx0XHRyZXR1cm4gbmV3IEh0bWxUYWdIeWRyYXRpb24oaXNfc3ZnKTtcblx0fVxuXG5cdGluaXRfY2xhaW1faW5mbyhub2Rlcyk7XG5cdGNvbnN0IGh0bWxfdGFnX25vZGVzID0gbm9kZXMuc3BsaWNlKHN0YXJ0X2luZGV4LCBlbmRfaW5kZXggLSBzdGFydF9pbmRleCArIDEpO1xuXHRkZXRhY2goaHRtbF90YWdfbm9kZXNbMF0pO1xuXHRkZXRhY2goaHRtbF90YWdfbm9kZXNbaHRtbF90YWdfbm9kZXMubGVuZ3RoIC0gMV0pO1xuXHRjb25zdCBjbGFpbWVkX25vZGVzID0gaHRtbF90YWdfbm9kZXMuc2xpY2UoMSwgaHRtbF90YWdfbm9kZXMubGVuZ3RoIC0gMSk7XG5cdGlmIChjbGFpbWVkX25vZGVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybiBuZXcgSHRtbFRhZ0h5ZHJhdGlvbihpc19zdmcpO1xuXHR9XG5cdGZvciAoY29uc3QgbiBvZiBjbGFpbWVkX25vZGVzKSB7XG5cdFx0bi5jbGFpbV9vcmRlciA9IG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZDtcblx0XHRub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQgKz0gMTtcblx0fVxuXHRyZXR1cm4gbmV3IEh0bWxUYWdIeWRyYXRpb24oaXNfc3ZnLCBjbGFpbWVkX25vZGVzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RleHR9IHRleHRcbiAqIEBwYXJhbSB7dW5rbm93bn0gZGF0YVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZGF0YSh0ZXh0LCBkYXRhKSB7XG5cdGRhdGEgPSAnJyArIGRhdGE7XG5cdGlmICh0ZXh0LmRhdGEgPT09IGRhdGEpIHJldHVybjtcblx0dGV4dC5kYXRhID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChkYXRhKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RleHR9IHRleHRcbiAqIEBwYXJhbSB7dW5rbm93bn0gZGF0YVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZGF0YV9jb250ZW50ZWRpdGFibGUodGV4dCwgZGF0YSkge1xuXHRkYXRhID0gJycgKyBkYXRhO1xuXHRpZiAodGV4dC53aG9sZVRleHQgPT09IGRhdGEpIHJldHVybjtcblx0dGV4dC5kYXRhID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChkYXRhKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RleHR9IHRleHRcbiAqIEBwYXJhbSB7dW5rbm93bn0gZGF0YVxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJfdmFsdWVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RhdGFfbWF5YmVfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEsIGF0dHJfdmFsdWUpIHtcblx0aWYgKH5jb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcy5pbmRleE9mKGF0dHJfdmFsdWUpKSB7XG5cdFx0c2V0X2RhdGFfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEpO1xuXHR9IGVsc2Uge1xuXHRcdHNldF9kYXRhKHRleHQsIGRhdGEpO1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2lucHV0X3ZhbHVlKGlucHV0LCB2YWx1ZSkge1xuXHRpbnB1dC52YWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9pbnB1dF90eXBlKGlucHV0LCB0eXBlKSB7XG5cdHRyeSB7XG5cdFx0aW5wdXQudHlwZSA9IHR5cGU7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQvLyBkbyBub3RoaW5nXG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfc3R5bGUobm9kZSwga2V5LCB2YWx1ZSwgaW1wb3J0YW50KSB7XG5cdGlmICh2YWx1ZSA9PSBudWxsKSB7XG5cdFx0bm9kZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShrZXkpO1xuXHR9IGVsc2Uge1xuXHRcdG5vZGUuc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSwgaW1wb3J0YW50ID8gJ2ltcG9ydGFudCcgOiAnJyk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Rfb3B0aW9uKHNlbGVjdCwgdmFsdWUsIG1vdW50aW5nKSB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcblx0XHRpZiAob3B0aW9uLl9fdmFsdWUgPT09IHZhbHVlKSB7XG5cdFx0XHRvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fVxuXHRpZiAoIW1vdW50aW5nIHx8IHZhbHVlICE9PSB1bmRlZmluZWQpIHtcblx0XHRzZWxlY3Quc2VsZWN0ZWRJbmRleCA9IC0xOyAvLyBubyBvcHRpb24gc2hvdWxkIGJlIHNlbGVjdGVkXG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Rfb3B0aW9ucyhzZWxlY3QsIHZhbHVlKSB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcblx0XHRvcHRpb24uc2VsZWN0ZWQgPSB+dmFsdWUuaW5kZXhPZihvcHRpb24uX192YWx1ZSk7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdF92YWx1ZShzZWxlY3QpIHtcblx0Y29uc3Qgc2VsZWN0ZWRfb3B0aW9uID0gc2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJzpjaGVja2VkJyk7XG5cdHJldHVybiBzZWxlY3RlZF9vcHRpb24gJiYgc2VsZWN0ZWRfb3B0aW9uLl9fdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RfbXVsdGlwbGVfdmFsdWUoc2VsZWN0KSB7XG5cdHJldHVybiBbXS5tYXAuY2FsbChzZWxlY3QucXVlcnlTZWxlY3RvckFsbCgnOmNoZWNrZWQnKSwgKG9wdGlvbikgPT4gb3B0aW9uLl9fdmFsdWUpO1xufVxuLy8gdW5mb3J0dW5hdGVseSB0aGlzIGNhbid0IGJlIGEgY29uc3RhbnQgYXMgdGhhdCB3b3VsZG4ndCBiZSB0cmVlLXNoYWtlYWJsZVxuLy8gc28gd2UgY2FjaGUgdGhlIHJlc3VsdCBpbnN0ZWFkXG5cbi8qKlxuICogQHR5cGUge2Jvb2xlYW59ICovXG5sZXQgY3Jvc3NvcmlnaW47XG5cbi8qKlxuICogQHJldHVybnMge2Jvb2xlYW59ICovXG5leHBvcnQgZnVuY3Rpb24gaXNfY3Jvc3NvcmlnaW4oKSB7XG5cdGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0Y3Jvc3NvcmlnaW4gPSBmYWxzZTtcblx0XHR0cnkge1xuXHRcdFx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wYXJlbnQpIHtcblx0XHRcdFx0dm9pZCB3aW5kb3cucGFyZW50LmRvY3VtZW50O1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjcm9zc29yaWdpbiA9IHRydWU7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBjcm9zc29yaWdpbjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IGZuXG4gKiBAcmV0dXJucyB7KCkgPT4gdm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF9pZnJhbWVfcmVzaXplX2xpc3RlbmVyKG5vZGUsIGZuKSB7XG5cdGNvbnN0IGNvbXB1dGVkX3N0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcblx0aWYgKGNvbXB1dGVkX3N0eWxlLnBvc2l0aW9uID09PSAnc3RhdGljJykge1xuXHRcdG5vZGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXHR9XG5cdGNvbnN0IGlmcmFtZSA9IGVsZW1lbnQoJ2lmcmFtZScpO1xuXHRpZnJhbWUuc2V0QXR0cmlidXRlKFxuXHRcdCdzdHlsZScsXG5cdFx0J2Rpc3BsYXk6IGJsb2NrOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgJyArXG5cdFx0XHQnb3ZlcmZsb3c6IGhpZGRlbjsgYm9yZGVyOiAwOyBvcGFjaXR5OiAwOyBwb2ludGVyLWV2ZW50czogbm9uZTsgei1pbmRleDogLTE7J1xuXHQpO1xuXHRpZnJhbWUuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG5cdGlmcmFtZS50YWJJbmRleCA9IC0xO1xuXHRjb25zdCBjcm9zc29yaWdpbiA9IGlzX2Nyb3Nzb3JpZ2luKCk7XG5cblx0LyoqXG5cdCAqIEB0eXBlIHsoKSA9PiB2b2lkfVxuXHQgKi9cblx0bGV0IHVuc3Vic2NyaWJlO1xuXHRpZiAoY3Jvc3NvcmlnaW4pIHtcblx0XHRpZnJhbWUuc3JjID0gXCJkYXRhOnRleHQvaHRtbCw8c2NyaXB0Pm9ucmVzaXplPWZ1bmN0aW9uKCl7cGFyZW50LnBvc3RNZXNzYWdlKDAsJyonKX08L3NjcmlwdD5cIjtcblx0XHR1bnN1YnNjcmliZSA9IGxpc3Rlbihcblx0XHRcdHdpbmRvdyxcblx0XHRcdCdtZXNzYWdlJyxcblx0XHRcdC8qKiBAcGFyYW0ge01lc3NhZ2VFdmVudH0gZXZlbnQgKi8gKGV2ZW50KSA9PiB7XG5cdFx0XHRcdGlmIChldmVudC5zb3VyY2UgPT09IGlmcmFtZS5jb250ZW50V2luZG93KSBmbigpO1xuXHRcdFx0fVxuXHRcdCk7XG5cdH0gZWxzZSB7XG5cdFx0aWZyYW1lLnNyYyA9ICdhYm91dDpibGFuayc7XG5cdFx0aWZyYW1lLm9ubG9hZCA9ICgpID0+IHtcblx0XHRcdHVuc3Vic2NyaWJlID0gbGlzdGVuKGlmcmFtZS5jb250ZW50V2luZG93LCAncmVzaXplJywgZm4pO1xuXHRcdFx0Ly8gbWFrZSBzdXJlIGFuIGluaXRpYWwgcmVzaXplIGV2ZW50IGlzIGZpcmVkIF9hZnRlcl8gdGhlIGlmcmFtZSBpcyBsb2FkZWQgKHdoaWNoIGlzIGFzeW5jaHJvbm91cylcblx0XHRcdC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMvc3ZlbHRlL2lzc3Vlcy80MjMzXG5cdFx0XHRmbigpO1xuXHRcdH07XG5cdH1cblx0YXBwZW5kKG5vZGUsIGlmcmFtZSk7XG5cdHJldHVybiAoKSA9PiB7XG5cdFx0aWYgKGNyb3Nzb3JpZ2luKSB7XG5cdFx0XHR1bnN1YnNjcmliZSgpO1xuXHRcdH0gZWxzZSBpZiAodW5zdWJzY3JpYmUgJiYgaWZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcblx0XHRcdHVuc3Vic2NyaWJlKCk7XG5cdFx0fVxuXHRcdGRldGFjaChpZnJhbWUpO1xuXHR9O1xufVxuZXhwb3J0IGNvbnN0IHJlc2l6ZV9vYnNlcnZlcl9jb250ZW50X2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oe1xuXHRib3g6ICdjb250ZW50LWJveCdcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc2l6ZV9vYnNlcnZlcl9ib3JkZXJfYm94ID0gLyogQF9fUFVSRV9fICovIG5ldyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbih7XG5cdGJveDogJ2JvcmRlci1ib3gnXG59KTtcbmV4cG9ydCBjb25zdCByZXNpemVfb2JzZXJ2ZXJfZGV2aWNlX3BpeGVsX2NvbnRlbnRfYm94ID0gLyogQF9fUFVSRV9fICovIG5ldyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbihcblx0eyBib3g6ICdkZXZpY2UtcGl4ZWwtY29udGVudC1ib3gnIH1cbik7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlclNpbmdsZXRvbiB9O1xuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZV9jbGFzcyhlbGVtZW50LCBuYW1lLCB0b2dnbGUpIHtcblx0Ly8gVGhlIGAhIWAgaXMgcmVxdWlyZWQgYmVjYXVzZSBhbiBgdW5kZWZpbmVkYCBmbGFnIG1lYW5zIGZsaXBwaW5nIHRoZSBjdXJyZW50IHN0YXRlLlxuXHRlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUobmFtZSwgISF0b2dnbGUpO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtUfSBbZGV0YWlsXVxuICogQHBhcmFtIHt7IGJ1YmJsZXM/OiBib29sZWFuLCBjYW5jZWxhYmxlPzogYm9vbGVhbiB9fSBbb3B0aW9uc11cbiAqIEByZXR1cm5zIHtDdXN0b21FdmVudDxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGN1c3RvbV9ldmVudCh0eXBlLCBkZXRhaWwsIHsgYnViYmxlcyA9IGZhbHNlLCBjYW5jZWxhYmxlID0gZmFsc2UgfSA9IHt9KSB7XG5cdHJldHVybiBuZXcgQ3VzdG9tRXZlbnQodHlwZSwgeyBkZXRhaWwsIGJ1YmJsZXMsIGNhbmNlbGFibGUgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcbiAqIEByZXR1cm5zIHtDaGlsZE5vZGVBcnJheX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5X3NlbGVjdG9yX2FsbChzZWxlY3RvciwgcGFyZW50ID0gZG9jdW1lbnQuYm9keSkge1xuXHRyZXR1cm4gQXJyYXkuZnJvbShwYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBub2RlSWRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGhlYWRcbiAqIEByZXR1cm5zIHthbnlbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhlYWRfc2VsZWN0b3Iobm9kZUlkLCBoZWFkKSB7XG5cdGNvbnN0IHJlc3VsdCA9IFtdO1xuXHRsZXQgc3RhcnRlZCA9IDA7XG5cdGZvciAoY29uc3Qgbm9kZSBvZiBoZWFkLmNoaWxkTm9kZXMpIHtcblx0XHRpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBjb21tZW50IG5vZGUgKi8pIHtcblx0XHRcdGNvbnN0IGNvbW1lbnQgPSBub2RlLnRleHRDb250ZW50LnRyaW0oKTtcblx0XHRcdGlmIChjb21tZW50ID09PSBgSEVBRF8ke25vZGVJZH1fRU5EYCkge1xuXHRcdFx0XHRzdGFydGVkIC09IDE7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKG5vZGUpO1xuXHRcdFx0fSBlbHNlIGlmIChjb21tZW50ID09PSBgSEVBRF8ke25vZGVJZH1fU1RBUlRgKSB7XG5cdFx0XHRcdHN0YXJ0ZWQgKz0gMTtcblx0XHRcdFx0cmVzdWx0LnB1c2gobm9kZSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChzdGFydGVkID4gMCkge1xuXHRcdFx0cmVzdWx0LnB1c2gobm9kZSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG4vKiogKi9cbmV4cG9ydCBjbGFzcyBIdG1sVGFnIHtcblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBkZWZhdWx0IGZhbHNlXG5cdCAqL1xuXHRpc19zdmcgPSBmYWxzZTtcblx0LyoqIHBhcmVudCBmb3IgY3JlYXRpbmcgbm9kZSAqL1xuXHRlID0gdW5kZWZpbmVkO1xuXHQvKiogaHRtbCB0YWcgbm9kZXMgKi9cblx0biA9IHVuZGVmaW5lZDtcblx0LyoqIHRhcmdldCAqL1xuXHR0ID0gdW5kZWZpbmVkO1xuXHQvKiogYW5jaG9yICovXG5cdGEgPSB1bmRlZmluZWQ7XG5cdGNvbnN0cnVjdG9yKGlzX3N2ZyA9IGZhbHNlKSB7XG5cdFx0dGhpcy5pc19zdmcgPSBpc19zdmc7XG5cdFx0dGhpcy5lID0gdGhpcy5uID0gbnVsbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGMoaHRtbCkge1xuXHRcdHRoaXMuaChodG1sKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgU1ZHRWxlbWVudH0gdGFyZ2V0XG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnQgfCBTVkdFbGVtZW50fSBhbmNob3Jcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRtKGh0bWwsIHRhcmdldCwgYW5jaG9yID0gbnVsbCkge1xuXHRcdGlmICghdGhpcy5lKSB7XG5cdFx0XHRpZiAodGhpcy5pc19zdmcpXG5cdFx0XHRcdHRoaXMuZSA9IHN2Z19lbGVtZW50KC8qKiBAdHlwZSB7a2V5b2YgU1ZHRWxlbWVudFRhZ05hbWVNYXB9ICovICh0YXJnZXQubm9kZU5hbWUpKTtcblx0XHRcdC8qKiAjNzM2NCAgdGFyZ2V0IGZvciA8dGVtcGxhdGU+IG1heSBiZSBwcm92aWRlZCBhcyAjZG9jdW1lbnQtZnJhZ21lbnQoMTEpICovIGVsc2Vcblx0XHRcdFx0dGhpcy5lID0gZWxlbWVudChcblx0XHRcdFx0XHQvKiogQHR5cGUge2tleW9mIEhUTUxFbGVtZW50VGFnTmFtZU1hcH0gKi8gKFxuXHRcdFx0XHRcdFx0dGFyZ2V0Lm5vZGVUeXBlID09PSAxMSA/ICdURU1QTEFURScgOiB0YXJnZXQubm9kZU5hbWVcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCk7XG5cdFx0XHR0aGlzLnQgPVxuXHRcdFx0XHR0YXJnZXQudGFnTmFtZSAhPT0gJ1RFTVBMQVRFJ1xuXHRcdFx0XHRcdD8gdGFyZ2V0XG5cdFx0XHRcdFx0OiAvKiogQHR5cGUge0hUTUxUZW1wbGF0ZUVsZW1lbnR9ICovICh0YXJnZXQpLmNvbnRlbnQ7XG5cdFx0XHR0aGlzLmMoaHRtbCk7XG5cdFx0fVxuXHRcdHRoaXMuaShhbmNob3IpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0aChodG1sKSB7XG5cdFx0dGhpcy5lLmlubmVySFRNTCA9IGh0bWw7XG5cdFx0dGhpcy5uID0gQXJyYXkuZnJvbShcblx0XHRcdHRoaXMuZS5ub2RlTmFtZSA9PT0gJ1RFTVBMQVRFJyA/IHRoaXMuZS5jb250ZW50LmNoaWxkTm9kZXMgOiB0aGlzLmUuY2hpbGROb2Rlc1xuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGkoYW5jaG9yKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGluc2VydCh0aGlzLnQsIHRoaXMubltpXSwgYW5jaG9yKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRwKGh0bWwpIHtcblx0XHR0aGlzLmQoKTtcblx0XHR0aGlzLmgoaHRtbCk7XG5cdFx0dGhpcy5pKHRoaXMuYSk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGQoKSB7XG5cdFx0dGhpcy5uLmZvckVhY2goZGV0YWNoKTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgSHRtbFRhZ0h5ZHJhdGlvbiBleHRlbmRzIEh0bWxUYWcge1xuXHQvKiogQHR5cGUge0VsZW1lbnRbXX0gaHlkcmF0aW9uIGNsYWltZWQgbm9kZXMgKi9cblx0bCA9IHVuZGVmaW5lZDtcblxuXHRjb25zdHJ1Y3Rvcihpc19zdmcgPSBmYWxzZSwgY2xhaW1lZF9ub2Rlcykge1xuXHRcdHN1cGVyKGlzX3N2Zyk7XG5cdFx0dGhpcy5lID0gdGhpcy5uID0gbnVsbDtcblx0XHR0aGlzLmwgPSBjbGFpbWVkX25vZGVzO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0YyhodG1sKSB7XG5cdFx0aWYgKHRoaXMubCkge1xuXHRcdFx0dGhpcy5uID0gdGhpcy5sO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdXBlci5jKGh0bWwpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0aShhbmNob3IpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubi5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0aW5zZXJ0X2h5ZHJhdGlvbih0aGlzLnQsIHRoaXMubltpXSwgYW5jaG9yKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05hbWVkTm9kZU1hcH0gYXR0cmlidXRlc1xuICogQHJldHVybnMge3t9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXR0cmlidXRlX3RvX29iamVjdChhdHRyaWJ1dGVzKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiBhdHRyaWJ1dGVzKSB7XG5cdFx0cmVzdWx0W2F0dHJpYnV0ZS5uYW1lXSA9IGF0dHJpYnV0ZS52YWx1ZTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG5jb25zdCBlc2NhcGVkID0ge1xuXHQnXCInOiAnJnF1b3Q7Jyxcblx0JyYnOiAnJmFtcDsnLFxuXHQnPCc6ICcmbHQ7J1xufTtcblxuY29uc3QgcmVnZXhfYXR0cmlidXRlX2NoYXJhY3RlcnNfdG9fZXNjYXBlID0gL1tcIiY8XS9nO1xuXG4vKipcbiAqIE5vdGUgdGhhdCB0aGUgYXR0cmlidXRlIGl0c2VsZiBzaG91bGQgYmUgc3Vycm91bmRlZCBpbiBkb3VibGUgcXVvdGVzXG4gKiBAcGFyYW0ge2FueX0gYXR0cmlidXRlXG4gKi9cbmZ1bmN0aW9uIGVzY2FwZV9hdHRyaWJ1dGUoYXR0cmlidXRlKSB7XG5cdHJldHVybiBTdHJpbmcoYXR0cmlidXRlKS5yZXBsYWNlKHJlZ2V4X2F0dHJpYnV0ZV9jaGFyYWN0ZXJzX3RvX2VzY2FwZSwgKG1hdGNoKSA9PiBlc2NhcGVkW21hdGNoXSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+fSBhdHRyaWJ1dGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlfc3ByZWFkKGF0dHJpYnV0ZXMpIHtcblx0bGV0IHN0ciA9ICcgJztcblx0Zm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuXHRcdGlmIChhdHRyaWJ1dGVzW2tleV0gIT0gbnVsbCkge1xuXHRcdFx0c3RyICs9IGAke2tleX09XCIke2VzY2FwZV9hdHRyaWJ1dGUoYXR0cmlidXRlc1trZXldKX1cIiBgO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBzdHI7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge3t9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyhlbGVtZW50KSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRlbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaChcblx0XHQvKiogQHBhcmFtIHtFbGVtZW50fSBub2RlICovIChub2RlKSA9PiB7XG5cdFx0XHRyZXN1bHRbbm9kZS5zbG90IHx8ICdkZWZhdWx0J10gPSB0cnVlO1xuXHRcdH1cblx0KTtcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnN0cnVjdF9zdmVsdGVfY29tcG9uZW50KGNvbXBvbmVudCwgcHJvcHMpIHtcblx0cmV0dXJuIG5ldyBjb21wb25lbnQocHJvcHMpO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtOb2RlICYge1xuICogXHRjbGFpbV9vcmRlcj86IG51bWJlcjtcbiAqIFx0aHlkcmF0ZV9pbml0PzogdHJ1ZTtcbiAqIFx0YWN0dWFsX2VuZF9jaGlsZD86IE5vZGVFeDtcbiAqIFx0Y2hpbGROb2RlczogTm9kZUxpc3RPZjxOb2RlRXg+O1xuICogfX0gTm9kZUV4XG4gKi9cblxuLyoqIEB0eXBlZGVmIHtDaGlsZE5vZGUgJiBOb2RlRXh9IENoaWxkTm9kZUV4ICovXG5cbi8qKiBAdHlwZWRlZiB7Tm9kZUV4ICYgeyBjbGFpbV9vcmRlcjogbnVtYmVyIH19IE5vZGVFeDIgKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7Q2hpbGROb2RlRXhbXSAmIHtcbiAqIFx0Y2xhaW1faW5mbz86IHtcbiAqIFx0XHRsYXN0X2luZGV4OiBudW1iZXI7XG4gKiBcdFx0dG90YWxfY2xhaW1lZDogbnVtYmVyO1xuICogXHR9O1xuICogfX0gQ2hpbGROb2RlQXJyYXlcbiAqL1xuIiwiaW1wb3J0IHsgY3VzdG9tX2V2ZW50IH0gZnJvbSAnLi9kb20uanMnO1xuXG5leHBvcnQgbGV0IGN1cnJlbnRfY29tcG9uZW50O1xuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCkge1xuXHRjdXJyZW50X2NvbXBvbmVudCA9IGNvbXBvbmVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldF9jdXJyZW50X2NvbXBvbmVudCgpIHtcblx0aWYgKCFjdXJyZW50X2NvbXBvbmVudCkgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiBjYWxsZWQgb3V0c2lkZSBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24nKTtcblx0cmV0dXJuIGN1cnJlbnRfY29tcG9uZW50O1xufVxuXG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyB1cGRhdGVkIGFmdGVyIGFueSBzdGF0ZSBjaGFuZ2UuXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIHJ1bnMgd2lsbCBiZSBiZWZvcmUgdGhlIGluaXRpYWwgYG9uTW91bnRgXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2JlZm9yZXVwZGF0ZVxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJlZm9yZVVwZGF0ZShmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5iZWZvcmVfdXBkYXRlLnB1c2goZm4pO1xufVxuXG4vKipcbiAqIFRoZSBgb25Nb3VudGAgZnVuY3Rpb24gc2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGFzIHNvb24gYXMgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiBtb3VudGVkIHRvIHRoZSBET00uXG4gKiBJdCBtdXN0IGJlIGNhbGxlZCBkdXJpbmcgdGhlIGNvbXBvbmVudCdzIGluaXRpYWxpc2F0aW9uIChidXQgZG9lc24ndCBuZWVkIHRvIGxpdmUgKmluc2lkZSogdGhlIGNvbXBvbmVudDtcbiAqIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSBhbiBleHRlcm5hbCBtb2R1bGUpLlxuICpcbiAqIElmIGEgZnVuY3Rpb24gaXMgcmV0dXJuZWQgX3N5bmNocm9ub3VzbHlfIGZyb20gYG9uTW91bnRgLCBpdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgdW5tb3VudGVkLlxuICpcbiAqIGBvbk1vdW50YCBkb2VzIG5vdCBydW4gaW5zaWRlIGEgW3NlcnZlci1zaWRlIGNvbXBvbmVudF0oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjcnVuLXRpbWUtc2VydmVyLXNpZGUtY29tcG9uZW50LWFwaSkuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI29ubW91bnRcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0geygpID0+IGltcG9ydCgnLi9wcml2YXRlLmpzJykuTm90RnVuY3Rpb248VD4gfCBQcm9taXNlPGltcG9ydCgnLi9wcml2YXRlLmpzJykuTm90RnVuY3Rpb248VD4+IHwgKCgpID0+IGFueSl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uTW91bnQoZm4pIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQub25fbW91bnQucHVzaChmbik7XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gdXBkYXRlZC5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgcnVucyB3aWxsIGJlIGFmdGVyIHRoZSBpbml0aWFsIGBvbk1vdW50YFxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNhZnRlcnVwZGF0ZVxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFmdGVyVXBkYXRlKGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmFmdGVyX3VwZGF0ZS5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgdW5tb3VudGVkLlxuICpcbiAqIE91dCBvZiBgb25Nb3VudGAsIGBiZWZvcmVVcGRhdGVgLCBgYWZ0ZXJVcGRhdGVgIGFuZCBgb25EZXN0cm95YCwgdGhpcyBpcyB0aGVcbiAqIG9ubHkgb25lIHRoYXQgcnVucyBpbnNpZGUgYSBzZXJ2ZXItc2lkZSBjb21wb25lbnQuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI29uZGVzdHJveVxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGZuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uRGVzdHJveShmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9kZXN0cm95LnB1c2goZm4pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gZXZlbnQgZGlzcGF0Y2hlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGRpc3BhdGNoIFtjb21wb25lbnQgZXZlbnRzXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcyN0ZW1wbGF0ZS1zeW50YXgtY29tcG9uZW50LWRpcmVjdGl2ZXMtb24tZXZlbnRuYW1lKS5cbiAqIEV2ZW50IGRpc3BhdGNoZXJzIGFyZSBmdW5jdGlvbnMgdGhhdCBjYW4gdGFrZSB0d28gYXJndW1lbnRzOiBgbmFtZWAgYW5kIGBkZXRhaWxgLlxuICpcbiAqIENvbXBvbmVudCBldmVudHMgY3JlYXRlZCB3aXRoIGBjcmVhdGVFdmVudERpc3BhdGNoZXJgIGNyZWF0ZSBhXG4gKiBbQ3VzdG9tRXZlbnRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudCkuXG4gKiBUaGVzZSBldmVudHMgZG8gbm90IFtidWJibGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvTGVhcm4vSmF2YVNjcmlwdC9CdWlsZGluZ19ibG9ja3MvRXZlbnRzI0V2ZW50X2J1YmJsaW5nX2FuZF9jYXB0dXJlKS5cbiAqIFRoZSBgZGV0YWlsYCBhcmd1bWVudCBjb3JyZXNwb25kcyB0byB0aGUgW0N1c3RvbUV2ZW50LmRldGFpbF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50L2RldGFpbClcbiAqIHByb3BlcnR5IGFuZCBjYW4gY29udGFpbiBhbnkgdHlwZSBvZiBkYXRhLlxuICpcbiAqIFRoZSBldmVudCBkaXNwYXRjaGVyIGNhbiBiZSB0eXBlZCB0byBuYXJyb3cgdGhlIGFsbG93ZWQgZXZlbnQgbmFtZXMgYW5kIHRoZSB0eXBlIG9mIHRoZSBgZGV0YWlsYCBhcmd1bWVudDpcbiAqIGBgYHRzXG4gKiBjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcjx7XG4gKiAgbG9hZGVkOiBuZXZlcjsgLy8gZG9lcyBub3QgdGFrZSBhIGRldGFpbCBhcmd1bWVudFxuICogIGNoYW5nZTogc3RyaW5nOyAvLyB0YWtlcyBhIGRldGFpbCBhcmd1bWVudCBvZiB0eXBlIHN0cmluZywgd2hpY2ggaXMgcmVxdWlyZWRcbiAqICBvcHRpb25hbDogbnVtYmVyIHwgbnVsbDsgLy8gdGFrZXMgYW4gb3B0aW9uYWwgZGV0YWlsIGFyZ3VtZW50IG9mIHR5cGUgbnVtYmVyXG4gKiB9PigpO1xuICogYGBgXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2NyZWF0ZWV2ZW50ZGlzcGF0Y2hlclxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBbRXZlbnRNYXA9YW55XVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5FdmVudERpc3BhdGNoZXI8RXZlbnRNYXA+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCkge1xuXHRjb25zdCBjb21wb25lbnQgPSBnZXRfY3VycmVudF9jb21wb25lbnQoKTtcblx0cmV0dXJuICh0eXBlLCBkZXRhaWwsIHsgY2FuY2VsYWJsZSA9IGZhbHNlIH0gPSB7fSkgPT4ge1xuXHRcdGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbdHlwZV07XG5cdFx0aWYgKGNhbGxiYWNrcykge1xuXHRcdFx0Ly8gVE9ETyBhcmUgdGhlcmUgc2l0dWF0aW9ucyB3aGVyZSBldmVudHMgY291bGQgYmUgZGlzcGF0Y2hlZFxuXHRcdFx0Ly8gaW4gYSBzZXJ2ZXIgKG5vbi1ET00pIGVudmlyb25tZW50P1xuXHRcdFx0Y29uc3QgZXZlbnQgPSBjdXN0b21fZXZlbnQoLyoqIEB0eXBlIHtzdHJpbmd9ICovICh0eXBlKSwgZGV0YWlsLCB7IGNhbmNlbGFibGUgfSk7XG5cdFx0XHRjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKChmbikgPT4ge1xuXHRcdFx0XHRmbi5jYWxsKGNvbXBvbmVudCwgZXZlbnQpO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xufVxuXG4vKipcbiAqIEFzc29jaWF0ZXMgYW4gYXJiaXRyYXJ5IGBjb250ZXh0YCBvYmplY3Qgd2l0aCB0aGUgY3VycmVudCBjb21wb25lbnQgYW5kIHRoZSBzcGVjaWZpZWQgYGtleWBcbiAqIGFuZCByZXR1cm5zIHRoYXQgb2JqZWN0LiBUaGUgY29udGV4dCBpcyB0aGVuIGF2YWlsYWJsZSB0byBjaGlsZHJlbiBvZiB0aGUgY29tcG9uZW50XG4gKiAoaW5jbHVkaW5nIHNsb3R0ZWQgY29udGVudCkgd2l0aCBgZ2V0Q29udGV4dGAuXG4gKlxuICogTGlrZSBsaWZlY3ljbGUgZnVuY3Rpb25zLCB0aGlzIG11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI3NldGNvbnRleHRcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcGFyYW0ge1R9IGNvbnRleHRcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29udGV4dChrZXksIGNvbnRleHQpIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5zZXQoa2V5LCBjb250ZXh0KTtcblx0cmV0dXJuIGNvbnRleHQ7XG59XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSBjb250ZXh0IHRoYXQgYmVsb25ncyB0byB0aGUgY2xvc2VzdCBwYXJlbnQgY29tcG9uZW50IHdpdGggdGhlIHNwZWNpZmllZCBga2V5YC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2dldGNvbnRleHRcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRleHQoa2V5KSB7XG5cdHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmdldChrZXkpO1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgd2hvbGUgY29udGV4dCBtYXAgdGhhdCBiZWxvbmdzIHRvIHRoZSBjbG9zZXN0IHBhcmVudCBjb21wb25lbnQuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLiBVc2VmdWwsIGZvciBleGFtcGxlLCBpZiB5b3VcbiAqIHByb2dyYW1tYXRpY2FsbHkgY3JlYXRlIGEgY29tcG9uZW50IGFuZCB3YW50IHRvIHBhc3MgdGhlIGV4aXN0aW5nIGNvbnRleHQgdG8gaXQuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2dldGFsbGNvbnRleHRzXG4gKiBAdGVtcGxhdGUge01hcDxhbnksIGFueT59IFtUPU1hcDxhbnksIGFueT5dXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbENvbnRleHRzKCkge1xuXHRyZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dDtcbn1cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIGdpdmVuIGBrZXlgIGhhcyBiZWVuIHNldCBpbiB0aGUgY29udGV4dCBvZiBhIHBhcmVudCBjb21wb25lbnQuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNoYXNjb250ZXh0XG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0NvbnRleHQoa2V5KSB7XG5cdHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmhhcyhrZXkpO1xufVxuXG4vLyBUT0RPIGZpZ3VyZSBvdXQgaWYgd2Ugc3RpbGwgd2FudCB0byBzdXBwb3J0XG4vLyBzaG9ydGhhbmQgZXZlbnRzLCBvciBpZiB3ZSB3YW50IHRvIGltcGxlbWVudFxuLy8gYSByZWFsIGJ1YmJsaW5nIG1lY2hhbmlzbVxuLyoqXG4gKiBAcGFyYW0gY29tcG9uZW50XG4gKiBAcGFyYW0gZXZlbnRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYnViYmxlKGNvbXBvbmVudCwgZXZlbnQpIHtcblx0Y29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1tldmVudC50eXBlXTtcblx0aWYgKGNhbGxiYWNrcykge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKChmbikgPT4gZm4uY2FsbCh0aGlzLCBldmVudCkpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBydW5fYWxsIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyBjdXJyZW50X2NvbXBvbmVudCwgc2V0X2N1cnJlbnRfY29tcG9uZW50IH0gZnJvbSAnLi9saWZlY3ljbGUuanMnO1xuXG5leHBvcnQgY29uc3QgZGlydHlfY29tcG9uZW50cyA9IFtdO1xuZXhwb3J0IGNvbnN0IGludHJvcyA9IHsgZW5hYmxlZDogZmFsc2UgfTtcbmV4cG9ydCBjb25zdCBiaW5kaW5nX2NhbGxiYWNrcyA9IFtdO1xuXG5sZXQgcmVuZGVyX2NhbGxiYWNrcyA9IFtdO1xuXG5jb25zdCBmbHVzaF9jYWxsYmFja3MgPSBbXTtcblxuY29uc3QgcmVzb2x2ZWRfcHJvbWlzZSA9IC8qIEBfX1BVUkVfXyAqLyBQcm9taXNlLnJlc29sdmUoKTtcblxubGV0IHVwZGF0ZV9zY2hlZHVsZWQgPSBmYWxzZTtcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlX3VwZGF0ZSgpIHtcblx0aWYgKCF1cGRhdGVfc2NoZWR1bGVkKSB7XG5cdFx0dXBkYXRlX3NjaGVkdWxlZCA9IHRydWU7XG5cdFx0cmVzb2x2ZWRfcHJvbWlzZS50aGVuKGZsdXNoKTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge1Byb21pc2U8dm9pZD59ICovXG5leHBvcnQgZnVuY3Rpb24gdGljaygpIHtcblx0c2NoZWR1bGVfdXBkYXRlKCk7XG5cdHJldHVybiByZXNvbHZlZF9wcm9taXNlO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX3JlbmRlcl9jYWxsYmFjayhmbikge1xuXHRyZW5kZXJfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX2ZsdXNoX2NhbGxiYWNrKGZuKSB7XG5cdGZsdXNoX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cblxuLy8gZmx1c2goKSBjYWxscyBjYWxsYmFja3MgaW4gdGhpcyBvcmRlcjpcbi8vIDEuIEFsbCBiZWZvcmVVcGRhdGUgY2FsbGJhY2tzLCBpbiBvcmRlcjogcGFyZW50cyBiZWZvcmUgY2hpbGRyZW5cbi8vIDIuIEFsbCBiaW5kOnRoaXMgY2FsbGJhY2tzLCBpbiByZXZlcnNlIG9yZGVyOiBjaGlsZHJlbiBiZWZvcmUgcGFyZW50cy5cbi8vIDMuIEFsbCBhZnRlclVwZGF0ZSBjYWxsYmFja3MsIGluIG9yZGVyOiBwYXJlbnRzIGJlZm9yZSBjaGlsZHJlbi4gRVhDRVBUXG4vLyAgICBmb3IgYWZ0ZXJVcGRhdGVzIGNhbGxlZCBkdXJpbmcgdGhlIGluaXRpYWwgb25Nb3VudCwgd2hpY2ggYXJlIGNhbGxlZCBpblxuLy8gICAgcmV2ZXJzZSBvcmRlcjogY2hpbGRyZW4gYmVmb3JlIHBhcmVudHMuXG4vLyBTaW5jZSBjYWxsYmFja3MgbWlnaHQgdXBkYXRlIGNvbXBvbmVudCB2YWx1ZXMsIHdoaWNoIGNvdWxkIHRyaWdnZXIgYW5vdGhlclxuLy8gY2FsbCB0byBmbHVzaCgpLCB0aGUgZm9sbG93aW5nIHN0ZXBzIGd1YXJkIGFnYWluc3QgdGhpczpcbi8vIDEuIER1cmluZyBiZWZvcmVVcGRhdGUsIGFueSB1cGRhdGVkIGNvbXBvbmVudHMgd2lsbCBiZSBhZGRlZCB0byB0aGVcbi8vICAgIGRpcnR5X2NvbXBvbmVudHMgYXJyYXkgYW5kIHdpbGwgY2F1c2UgYSByZWVudHJhbnQgY2FsbCB0byBmbHVzaCgpLiBCZWNhdXNlXG4vLyAgICB0aGUgZmx1c2ggaW5kZXggaXMga2VwdCBvdXRzaWRlIHRoZSBmdW5jdGlvbiwgdGhlIHJlZW50cmFudCBjYWxsIHdpbGwgcGlja1xuLy8gICAgdXAgd2hlcmUgdGhlIGVhcmxpZXIgY2FsbCBsZWZ0IG9mZiBhbmQgZ28gdGhyb3VnaCBhbGwgZGlydHkgY29tcG9uZW50cy4gVGhlXG4vLyAgICBjdXJyZW50X2NvbXBvbmVudCB2YWx1ZSBpcyBzYXZlZCBhbmQgcmVzdG9yZWQgc28gdGhhdCB0aGUgcmVlbnRyYW50IGNhbGwgd2lsbFxuLy8gICAgbm90IGludGVyZmVyZSB3aXRoIHRoZSBcInBhcmVudFwiIGZsdXNoKCkgY2FsbC5cbi8vIDIuIGJpbmQ6dGhpcyBjYWxsYmFja3MgY2Fubm90IHRyaWdnZXIgbmV3IGZsdXNoKCkgY2FsbHMuXG4vLyAzLiBEdXJpbmcgYWZ0ZXJVcGRhdGUsIGFueSB1cGRhdGVkIGNvbXBvbmVudHMgd2lsbCBOT1QgaGF2ZSB0aGVpciBhZnRlclVwZGF0ZVxuLy8gICAgY2FsbGJhY2sgY2FsbGVkIGEgc2Vjb25kIHRpbWU7IHRoZSBzZWVuX2NhbGxiYWNrcyBzZXQsIG91dHNpZGUgdGhlIGZsdXNoKClcbi8vICAgIGZ1bmN0aW9uLCBndWFyYW50ZWVzIHRoaXMgYmVoYXZpb3IuXG5jb25zdCBzZWVuX2NhbGxiYWNrcyA9IG5ldyBTZXQoKTtcblxubGV0IGZsdXNoaWR4ID0gMDsgLy8gRG8gKm5vdCogbW92ZSB0aGlzIGluc2lkZSB0aGUgZmx1c2goKSBmdW5jdGlvblxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZmx1c2goKSB7XG5cdC8vIERvIG5vdCByZWVudGVyIGZsdXNoIHdoaWxlIGRpcnR5IGNvbXBvbmVudHMgYXJlIHVwZGF0ZWQsIGFzIHRoaXMgY2FuXG5cdC8vIHJlc3VsdCBpbiBhbiBpbmZpbml0ZSBsb29wLiBJbnN0ZWFkLCBsZXQgdGhlIGlubmVyIGZsdXNoIGhhbmRsZSBpdC5cblx0Ly8gUmVlbnRyYW5jeSBpcyBvayBhZnRlcndhcmRzIGZvciBiaW5kaW5ncyBldGMuXG5cdGlmIChmbHVzaGlkeCAhPT0gMCkge1xuXHRcdHJldHVybjtcblx0fVxuXHRjb25zdCBzYXZlZF9jb21wb25lbnQgPSBjdXJyZW50X2NvbXBvbmVudDtcblx0ZG8ge1xuXHRcdC8vIGZpcnN0LCBjYWxsIGJlZm9yZVVwZGF0ZSBmdW5jdGlvbnNcblx0XHQvLyBhbmQgdXBkYXRlIGNvbXBvbmVudHNcblx0XHR0cnkge1xuXHRcdFx0d2hpbGUgKGZsdXNoaWR4IDwgZGlydHlfY29tcG9uZW50cy5sZW5ndGgpIHtcblx0XHRcdFx0Y29uc3QgY29tcG9uZW50ID0gZGlydHlfY29tcG9uZW50c1tmbHVzaGlkeF07XG5cdFx0XHRcdGZsdXNoaWR4Kys7XG5cdFx0XHRcdHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuXHRcdFx0XHR1cGRhdGUoY29tcG9uZW50LiQkKTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHQvLyByZXNldCBkaXJ0eSBzdGF0ZSB0byBub3QgZW5kIHVwIGluIGEgZGVhZGxvY2tlZCBzdGF0ZSBhbmQgdGhlbiByZXRocm93XG5cdFx0XHRkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCA9IDA7XG5cdFx0XHRmbHVzaGlkeCA9IDA7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0XHRzZXRfY3VycmVudF9jb21wb25lbnQobnVsbCk7XG5cdFx0ZGlydHlfY29tcG9uZW50cy5sZW5ndGggPSAwO1xuXHRcdGZsdXNoaWR4ID0gMDtcblx0XHR3aGlsZSAoYmluZGluZ19jYWxsYmFja3MubGVuZ3RoKSBiaW5kaW5nX2NhbGxiYWNrcy5wb3AoKSgpO1xuXHRcdC8vIHRoZW4sIG9uY2UgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgY2FsbFxuXHRcdC8vIGFmdGVyVXBkYXRlIGZ1bmN0aW9ucy4gVGhpcyBtYXkgY2F1c2Vcblx0XHQvLyBzdWJzZXF1ZW50IHVwZGF0ZXMuLi5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGNvbnN0IGNhbGxiYWNrID0gcmVuZGVyX2NhbGxiYWNrc1tpXTtcblx0XHRcdGlmICghc2Vlbl9jYWxsYmFja3MuaGFzKGNhbGxiYWNrKSkge1xuXHRcdFx0XHQvLyAuLi5zbyBndWFyZCBhZ2FpbnN0IGluZmluaXRlIGxvb3BzXG5cdFx0XHRcdHNlZW5fY2FsbGJhY2tzLmFkZChjYWxsYmFjayk7XG5cdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoID0gMDtcblx0fSB3aGlsZSAoZGlydHlfY29tcG9uZW50cy5sZW5ndGgpO1xuXHR3aGlsZSAoZmx1c2hfY2FsbGJhY2tzLmxlbmd0aCkge1xuXHRcdGZsdXNoX2NhbGxiYWNrcy5wb3AoKSgpO1xuXHR9XG5cdHVwZGF0ZV9zY2hlZHVsZWQgPSBmYWxzZTtcblx0c2Vlbl9jYWxsYmFja3MuY2xlYXIoKTtcblx0c2V0X2N1cnJlbnRfY29tcG9uZW50KHNhdmVkX2NvbXBvbmVudCk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmZ1bmN0aW9uIHVwZGF0ZSgkJCkge1xuXHRpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcblx0XHQkJC51cGRhdGUoKTtcblx0XHRydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuXHRcdGNvbnN0IGRpcnR5ID0gJCQuZGlydHk7XG5cdFx0JCQuZGlydHkgPSBbLTFdO1xuXHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LnAoJCQuY3R4LCBkaXJ0eSk7XG5cdFx0JCQuYWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG5cdH1cbn1cblxuLyoqXG4gKiBVc2VmdWwgZm9yIGV4YW1wbGUgdG8gZXhlY3V0ZSByZW1haW5pbmcgYGFmdGVyVXBkYXRlYCBjYWxsYmFja3MgYmVmb3JlIGV4ZWN1dGluZyBgZGVzdHJveWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9uW119IGZuc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbHVzaF9yZW5kZXJfY2FsbGJhY2tzKGZucykge1xuXHRjb25zdCBmaWx0ZXJlZCA9IFtdO1xuXHRjb25zdCB0YXJnZXRzID0gW107XG5cdHJlbmRlcl9jYWxsYmFja3MuZm9yRWFjaCgoYykgPT4gKGZucy5pbmRleE9mKGMpID09PSAtMSA/IGZpbHRlcmVkLnB1c2goYykgOiB0YXJnZXRzLnB1c2goYykpKTtcblx0dGFyZ2V0cy5mb3JFYWNoKChjKSA9PiBjKCkpO1xuXHRyZW5kZXJfY2FsbGJhY2tzID0gZmlsdGVyZWQ7XG59XG4iLCJpbXBvcnQgeyBpZGVudGl0eSBhcyBsaW5lYXIsIGlzX2Z1bmN0aW9uLCBub29wLCBydW5fYWxsIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyBub3cgfSBmcm9tICcuL2Vudmlyb25tZW50LmpzJztcbmltcG9ydCB7IGxvb3AgfSBmcm9tICcuL2xvb3AuanMnO1xuaW1wb3J0IHsgY3JlYXRlX3J1bGUsIGRlbGV0ZV9ydWxlIH0gZnJvbSAnLi9zdHlsZV9tYW5hZ2VyLmpzJztcbmltcG9ydCB7IGN1c3RvbV9ldmVudCB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IGFkZF9yZW5kZXJfY2FsbGJhY2sgfSBmcm9tICcuL3NjaGVkdWxlci5qcyc7XG5cbi8qKlxuICogQHR5cGUge1Byb21pc2U8dm9pZD4gfCBudWxsfVxuICovXG5sZXQgcHJvbWlzZTtcblxuLyoqXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAqL1xuZnVuY3Rpb24gd2FpdCgpIHtcblx0aWYgKCFwcm9taXNlKSB7XG5cdFx0cHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuXHRcdHByb21pc2UudGhlbigoKSA9PiB7XG5cdFx0XHRwcm9taXNlID0gbnVsbDtcblx0XHR9KTtcblx0fVxuXHRyZXR1cm4gcHJvbWlzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7SU5UUk8gfCBPVVRSTyB8IGJvb2xlYW59IGRpcmVjdGlvblxuICogQHBhcmFtIHsnc3RhcnQnIHwgJ2VuZCd9IGtpbmRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBkaXNwYXRjaChub2RlLCBkaXJlY3Rpb24sIGtpbmQpIHtcblx0bm9kZS5kaXNwYXRjaEV2ZW50KGN1c3RvbV9ldmVudChgJHtkaXJlY3Rpb24gPyAnaW50cm8nIDogJ291dHJvJ30ke2tpbmR9YCkpO1xufVxuXG5jb25zdCBvdXRyb2luZyA9IG5ldyBTZXQoKTtcblxuLyoqXG4gKiBAdHlwZSB7T3V0cm99XG4gKi9cbmxldCBvdXRyb3M7XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBfb3V0cm9zKCkge1xuXHRvdXRyb3MgPSB7XG5cdFx0cjogMCxcblx0XHRjOiBbXSxcblx0XHRwOiBvdXRyb3MgLy8gcGFyZW50IGdyb3VwXG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tfb3V0cm9zKCkge1xuXHRpZiAoIW91dHJvcy5yKSB7XG5cdFx0cnVuX2FsbChvdXRyb3MuYyk7XG5cdH1cblx0b3V0cm9zID0gb3V0cm9zLnA7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLkZyYWdtZW50fSBibG9ja1xuICogQHBhcmFtIHswIHwgMX0gW2xvY2FsXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2l0aW9uX2luKGJsb2NrLCBsb2NhbCkge1xuXHRpZiAoYmxvY2sgJiYgYmxvY2suaSkge1xuXHRcdG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG5cdFx0YmxvY2suaShsb2NhbCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuRnJhZ21lbnR9IGJsb2NrXG4gKiBAcGFyYW0gezAgfCAxfSBsb2NhbFxuICogQHBhcmFtIHswIHwgMX0gW2RldGFjaF1cbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gW2NhbGxiYWNrXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2l0aW9uX291dChibG9jaywgbG9jYWwsIGRldGFjaCwgY2FsbGJhY2spIHtcblx0aWYgKGJsb2NrICYmIGJsb2NrLm8pIHtcblx0XHRpZiAob3V0cm9pbmcuaGFzKGJsb2NrKSkgcmV0dXJuO1xuXHRcdG91dHJvaW5nLmFkZChibG9jayk7XG5cdFx0b3V0cm9zLmMucHVzaCgoKSA9PiB7XG5cdFx0XHRvdXRyb2luZy5kZWxldGUoYmxvY2spO1xuXHRcdFx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0XHRcdGlmIChkZXRhY2gpIGJsb2NrLmQoMSk7XG5cdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0YmxvY2subyhsb2NhbCk7XG5cdH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcblx0XHRjYWxsYmFjaygpO1xuXHR9XG59XG5cbi8qKlxuICogQHR5cGUge2ltcG9ydCgnLi4vdHJhbnNpdGlvbi9wdWJsaWMuanMnKS5UcmFuc2l0aW9uQ29uZmlnfVxuICovXG5jb25zdCBudWxsX3RyYW5zaXRpb24gPSB7IGR1cmF0aW9uOiAwIH07XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25Gbn0gZm5cbiAqIEBwYXJhbSB7YW55fSBwYXJhbXNcbiAqIEByZXR1cm5zIHt7IHN0YXJ0KCk6IHZvaWQ7IGludmFsaWRhdGUoKTogdm9pZDsgZW5kKCk6IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfaW5fdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG5cdC8qKlxuXHQgKiBAdHlwZSB7VHJhbnNpdGlvbk9wdGlvbnN9ICovXG5cdGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ2luJyB9O1xuXHRsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zLCBvcHRpb25zKTtcblx0bGV0IHJ1bm5pbmcgPSBmYWxzZTtcblx0bGV0IGFuaW1hdGlvbl9uYW1lO1xuXHRsZXQgdGFzaztcblx0bGV0IHVpZCA9IDA7XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBjbGVhbnVwKCkge1xuXHRcdGlmIChhbmltYXRpb25fbmFtZSkgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBnbygpIHtcblx0XHRjb25zdCB7XG5cdFx0XHRkZWxheSA9IDAsXG5cdFx0XHRkdXJhdGlvbiA9IDMwMCxcblx0XHRcdGVhc2luZyA9IGxpbmVhcixcblx0XHRcdHRpY2sgPSBub29wLFxuXHRcdFx0Y3NzXG5cdFx0fSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG5cdFx0aWYgKGNzcykgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAwLCAxLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzLCB1aWQrKyk7XG5cdFx0dGljaygwLCAxKTtcblx0XHRjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcblx0XHRjb25zdCBlbmRfdGltZSA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbjtcblx0XHRpZiAodGFzaykgdGFzay5hYm9ydCgpO1xuXHRcdHJ1bm5pbmcgPSB0cnVlO1xuXHRcdGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ3N0YXJ0JykpO1xuXHRcdHRhc2sgPSBsb29wKChub3cpID0+IHtcblx0XHRcdGlmIChydW5uaW5nKSB7XG5cdFx0XHRcdGlmIChub3cgPj0gZW5kX3RpbWUpIHtcblx0XHRcdFx0XHR0aWNrKDEsIDApO1xuXHRcdFx0XHRcdGRpc3BhdGNoKG5vZGUsIHRydWUsICdlbmQnKTtcblx0XHRcdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHRcdFx0cmV0dXJuIChydW5uaW5nID0gZmFsc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuXHRcdFx0XHRcdGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuXHRcdFx0XHRcdHRpY2sodCwgMSAtIHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcnVubmluZztcblx0XHR9KTtcblx0fVxuXHRsZXQgc3RhcnRlZCA9IGZhbHNlO1xuXHRyZXR1cm4ge1xuXHRcdHN0YXJ0KCkge1xuXHRcdFx0aWYgKHN0YXJ0ZWQpIHJldHVybjtcblx0XHRcdHN0YXJ0ZWQgPSB0cnVlO1xuXHRcdFx0ZGVsZXRlX3J1bGUobm9kZSk7XG5cdFx0XHRpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuXHRcdFx0XHRjb25maWcgPSBjb25maWcob3B0aW9ucyk7XG5cdFx0XHRcdHdhaXQoKS50aGVuKGdvKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGdvKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpbnZhbGlkYXRlKCkge1xuXHRcdFx0c3RhcnRlZCA9IGZhbHNlO1xuXHRcdH0sXG5cdFx0ZW5kKCkge1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0XHRydW5uaW5nID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHtUcmFuc2l0aW9uRm59IGZuXG4gKiBAcGFyYW0ge2FueX0gcGFyYW1zXG4gKiBAcmV0dXJucyB7eyBlbmQocmVzZXQ6IGFueSk6IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfb3V0X3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcykge1xuXHQvKiogQHR5cGUge1RyYW5zaXRpb25PcHRpb25zfSAqL1xuXHRjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdvdXQnIH07XG5cdGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuXHRsZXQgcnVubmluZyA9IHRydWU7XG5cdGxldCBhbmltYXRpb25fbmFtZTtcblx0Y29uc3QgZ3JvdXAgPSBvdXRyb3M7XG5cdGdyb3VwLnIgKz0gMTtcblx0LyoqIEB0eXBlIHtib29sZWFufSAqL1xuXHRsZXQgb3JpZ2luYWxfaW5lcnRfdmFsdWU7XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBnbygpIHtcblx0XHRjb25zdCB7XG5cdFx0XHRkZWxheSA9IDAsXG5cdFx0XHRkdXJhdGlvbiA9IDMwMCxcblx0XHRcdGVhc2luZyA9IGxpbmVhcixcblx0XHRcdHRpY2sgPSBub29wLFxuXHRcdFx0Y3NzXG5cdFx0fSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG5cblx0XHRpZiAoY3NzKSBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDEsIDAsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuXG5cdFx0Y29uc3Qgc3RhcnRfdGltZSA9IG5vdygpICsgZGVsYXk7XG5cdFx0Y29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG5cdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBmYWxzZSwgJ3N0YXJ0JykpO1xuXG5cdFx0aWYgKCdpbmVydCcgaW4gbm9kZSkge1xuXHRcdFx0b3JpZ2luYWxfaW5lcnRfdmFsdWUgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyAobm9kZSkuaW5lcnQ7XG5cdFx0XHRub2RlLmluZXJ0ID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRsb29wKChub3cpID0+IHtcblx0XHRcdGlmIChydW5uaW5nKSB7XG5cdFx0XHRcdGlmIChub3cgPj0gZW5kX3RpbWUpIHtcblx0XHRcdFx0XHR0aWNrKDAsIDEpO1xuXHRcdFx0XHRcdGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnZW5kJyk7XG5cdFx0XHRcdFx0aWYgKCEtLWdyb3VwLnIpIHtcblx0XHRcdFx0XHRcdC8vIHRoaXMgd2lsbCByZXN1bHQgaW4gYGVuZCgpYCBiZWluZyBjYWxsZWQsXG5cdFx0XHRcdFx0XHQvLyBzbyB3ZSBkb24ndCBuZWVkIHRvIGNsZWFuIHVwIGhlcmVcblx0XHRcdFx0XHRcdHJ1bl9hbGwoZ3JvdXAuYyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobm93ID49IHN0YXJ0X3RpbWUpIHtcblx0XHRcdFx0XHRjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcblx0XHRcdFx0XHR0aWNrKDEgLSB0LCB0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJ1bm5pbmc7XG5cdFx0fSk7XG5cdH1cblxuXHRpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuXHRcdHdhaXQoKS50aGVuKCgpID0+IHtcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNvbmZpZyA9IGNvbmZpZyhvcHRpb25zKTtcblx0XHRcdGdvKCk7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0Z28oKTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0ZW5kKHJlc2V0KSB7XG5cdFx0XHRpZiAocmVzZXQgJiYgJ2luZXJ0JyBpbiBub2RlKSB7XG5cdFx0XHRcdG5vZGUuaW5lcnQgPSBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblx0XHRcdH1cblx0XHRcdGlmIChyZXNldCAmJiBjb25maWcudGljaykge1xuXHRcdFx0XHRjb25maWcudGljaygxLCAwKTtcblx0XHRcdH1cblx0XHRcdGlmIChydW5uaW5nKSB7XG5cdFx0XHRcdGlmIChhbmltYXRpb25fbmFtZSkgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuXHRcdFx0XHRydW5uaW5nID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHtUcmFuc2l0aW9uRm59IGZuXG4gKiBAcGFyYW0ge2FueX0gcGFyYW1zXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGludHJvXG4gKiBAcmV0dXJucyB7eyBydW4oYjogMCB8IDEpOiB2b2lkOyBlbmQoKTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9iaWRpcmVjdGlvbmFsX3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcywgaW50cm8pIHtcblx0LyoqXG5cdCAqIEB0eXBlIHtUcmFuc2l0aW9uT3B0aW9uc30gKi9cblx0Y29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uOiAnYm90aCcgfTtcblx0bGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG5cdGxldCB0ID0gaW50cm8gPyAwIDogMTtcblxuXHQvKipcblx0ICogQHR5cGUge1Byb2dyYW0gfCBudWxsfSAqL1xuXHRsZXQgcnVubmluZ19wcm9ncmFtID0gbnVsbDtcblxuXHQvKipcblx0ICogQHR5cGUge1BlbmRpbmdQcm9ncmFtIHwgbnVsbH0gKi9cblx0bGV0IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG5cdGxldCBhbmltYXRpb25fbmFtZSA9IG51bGw7XG5cblx0LyoqIEB0eXBlIHtib29sZWFufSAqL1xuXHRsZXQgb3JpZ2luYWxfaW5lcnRfdmFsdWU7XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBjbGVhcl9hbmltYXRpb24oKSB7XG5cdFx0aWYgKGFuaW1hdGlvbl9uYW1lKSBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtQZW5kaW5nUHJvZ3JhbX0gcHJvZ3JhbVxuXHQgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb25cblx0ICogQHJldHVybnMge1Byb2dyYW19XG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0KHByb2dyYW0sIGR1cmF0aW9uKSB7XG5cdFx0Y29uc3QgZCA9IC8qKiBAdHlwZSB7UHJvZ3JhbVsnZCddfSAqLyAocHJvZ3JhbS5iIC0gdCk7XG5cdFx0ZHVyYXRpb24gKj0gTWF0aC5hYnMoZCk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGE6IHQsXG5cdFx0XHRiOiBwcm9ncmFtLmIsXG5cdFx0XHRkLFxuXHRcdFx0ZHVyYXRpb24sXG5cdFx0XHRzdGFydDogcHJvZ3JhbS5zdGFydCxcblx0XHRcdGVuZDogcHJvZ3JhbS5zdGFydCArIGR1cmF0aW9uLFxuXHRcdFx0Z3JvdXA6IHByb2dyYW0uZ3JvdXBcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7SU5UUk8gfCBPVVRST30gYlxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIGdvKGIpIHtcblx0XHRjb25zdCB7XG5cdFx0XHRkZWxheSA9IDAsXG5cdFx0XHRkdXJhdGlvbiA9IDMwMCxcblx0XHRcdGVhc2luZyA9IGxpbmVhcixcblx0XHRcdHRpY2sgPSBub29wLFxuXHRcdFx0Y3NzXG5cdFx0fSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG5cblx0XHQvKipcblx0XHQgKiBAdHlwZSB7UGVuZGluZ1Byb2dyYW19ICovXG5cdFx0Y29uc3QgcHJvZ3JhbSA9IHtcblx0XHRcdHN0YXJ0OiBub3coKSArIGRlbGF5LFxuXHRcdFx0YlxuXHRcdH07XG5cblx0XHRpZiAoIWIpIHtcblx0XHRcdC8vIEB0cy1pZ25vcmUgdG9kbzogaW1wcm92ZSB0eXBpbmdzXG5cdFx0XHRwcm9ncmFtLmdyb3VwID0gb3V0cm9zO1xuXHRcdFx0b3V0cm9zLnIgKz0gMTtcblx0XHR9XG5cblx0XHRpZiAoJ2luZXJ0JyBpbiBub2RlKSB7XG5cdFx0XHRpZiAoYikge1xuXHRcdFx0XHRpZiAob3JpZ2luYWxfaW5lcnRfdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdC8vIGFib3J0ZWQvcmV2ZXJzZWQgb3V0cm8g4oCUIHJlc3RvcmUgcHJldmlvdXMgaW5lcnQgdmFsdWVcblx0XHRcdFx0XHRub2RlLmluZXJ0ID0gb3JpZ2luYWxfaW5lcnRfdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG9yaWdpbmFsX2luZXJ0X3ZhbHVlID0gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8gKG5vZGUpLmluZXJ0O1xuXHRcdFx0XHRub2RlLmluZXJ0ID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAocnVubmluZ19wcm9ncmFtIHx8IHBlbmRpbmdfcHJvZ3JhbSkge1xuXHRcdFx0cGVuZGluZ19wcm9ncmFtID0gcHJvZ3JhbTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gaWYgdGhpcyBpcyBhbiBpbnRybywgYW5kIHRoZXJlJ3MgYSBkZWxheSwgd2UgbmVlZCB0byBkb1xuXHRcdFx0Ly8gYW4gaW5pdGlhbCB0aWNrIGFuZC9vciBhcHBseSBDU1MgYW5pbWF0aW9uIGltbWVkaWF0ZWx5XG5cdFx0XHRpZiAoY3NzKSB7XG5cdFx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0XHRhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIHQsIGIsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGIpIHRpY2soMCwgMSk7XG5cdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBpbml0KHByb2dyYW0sIGR1cmF0aW9uKTtcblx0XHRcdGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgYiwgJ3N0YXJ0JykpO1xuXHRcdFx0bG9vcCgobm93KSA9PiB7XG5cdFx0XHRcdGlmIChwZW5kaW5nX3Byb2dyYW0gJiYgbm93ID4gcGVuZGluZ19wcm9ncmFtLnN0YXJ0KSB7XG5cdFx0XHRcdFx0cnVubmluZ19wcm9ncmFtID0gaW5pdChwZW5kaW5nX3Byb2dyYW0sIGR1cmF0aW9uKTtcblx0XHRcdFx0XHRwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuXHRcdFx0XHRcdGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnc3RhcnQnKTtcblx0XHRcdFx0XHRpZiAoY3NzKSB7XG5cdFx0XHRcdFx0XHRjbGVhcl9hbmltYXRpb24oKTtcblx0XHRcdFx0XHRcdGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUoXG5cdFx0XHRcdFx0XHRcdG5vZGUsXG5cdFx0XHRcdFx0XHRcdHQsXG5cdFx0XHRcdFx0XHRcdHJ1bm5pbmdfcHJvZ3JhbS5iLFxuXHRcdFx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24sXG5cdFx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0XHRcdGVhc2luZyxcblx0XHRcdFx0XHRcdFx0Y29uZmlnLmNzc1xuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHJ1bm5pbmdfcHJvZ3JhbSkge1xuXHRcdFx0XHRcdGlmIChub3cgPj0gcnVubmluZ19wcm9ncmFtLmVuZCkge1xuXHRcdFx0XHRcdFx0dGljaygodCA9IHJ1bm5pbmdfcHJvZ3JhbS5iKSwgMSAtIHQpO1xuXHRcdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdlbmQnKTtcblx0XHRcdFx0XHRcdGlmICghcGVuZGluZ19wcm9ncmFtKSB7XG5cdFx0XHRcdFx0XHRcdC8vIHdlJ3JlIGRvbmVcblx0XHRcdFx0XHRcdFx0aWYgKHJ1bm5pbmdfcHJvZ3JhbS5iKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gaW50cm8g4oCUIHdlIGNhbiB0aWR5IHVwIGltbWVkaWF0ZWx5XG5cdFx0XHRcdFx0XHRcdFx0Y2xlYXJfYW5pbWF0aW9uKCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gb3V0cm8g4oCUIG5lZWRzIHRvIGJlIGNvb3JkaW5hdGVkXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCEtLXJ1bm5pbmdfcHJvZ3JhbS5ncm91cC5yKSBydW5fYWxsKHJ1bm5pbmdfcHJvZ3JhbS5ncm91cC5jKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cnVubmluZ19wcm9ncmFtID0gbnVsbDtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uc3RhcnQpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHAgPSBub3cgLSBydW5uaW5nX3Byb2dyYW0uc3RhcnQ7XG5cdFx0XHRcdFx0XHR0ID0gcnVubmluZ19wcm9ncmFtLmEgKyBydW5uaW5nX3Byb2dyYW0uZCAqIGVhc2luZyhwIC8gcnVubmluZ19wcm9ncmFtLmR1cmF0aW9uKTtcblx0XHRcdFx0XHRcdHRpY2sodCwgMSAtIHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gISEocnVubmluZ19wcm9ncmFtIHx8IHBlbmRpbmdfcHJvZ3JhbSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHtcblx0XHRydW4oYikge1xuXHRcdFx0aWYgKGlzX2Z1bmN0aW9uKGNvbmZpZykpIHtcblx0XHRcdFx0d2FpdCgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IG9wdHMgPSB7IGRpcmVjdGlvbjogYiA/ICdpbicgOiAnb3V0JyB9O1xuXHRcdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0XHRjb25maWcgPSBjb25maWcob3B0cyk7XG5cdFx0XHRcdFx0Z28oYik7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Z28oYik7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRlbmQoKSB7XG5cdFx0XHRjbGVhcl9hbmltYXRpb24oKTtcblx0XHRcdHJ1bm5pbmdfcHJvZ3JhbSA9IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG5cdFx0fVxuXHR9O1xufVxuXG4vKiogQHR5cGVkZWYgezF9IElOVFJPICovXG4vKiogQHR5cGVkZWYgezB9IE9VVFJPICovXG4vKiogQHR5cGVkZWYge3sgZGlyZWN0aW9uOiAnaW4nIHwgJ291dCcgfCAnYm90aCcgfX0gVHJhbnNpdGlvbk9wdGlvbnMgKi9cbi8qKiBAdHlwZWRlZiB7KG5vZGU6IEVsZW1lbnQsIHBhcmFtczogYW55LCBvcHRpb25zOiBUcmFuc2l0aW9uT3B0aW9ucykgPT4gaW1wb3J0KCcuLi90cmFuc2l0aW9uL3B1YmxpYy5qcycpLlRyYW5zaXRpb25Db25maWd9IFRyYW5zaXRpb25GbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE91dHJvXG4gKiBAcHJvcGVydHkge251bWJlcn0gclxuICogQHByb3BlcnR5IHtGdW5jdGlvbltdfSBjXG4gKiBAcHJvcGVydHkge09iamVjdH0gcFxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUGVuZGluZ1Byb2dyYW1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydFxuICogQHByb3BlcnR5IHtJTlRST3xPVVRST30gYlxuICogQHByb3BlcnR5IHtPdXRyb30gW2dyb3VwXVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUHJvZ3JhbVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGFcbiAqIEBwcm9wZXJ0eSB7SU5UUk98T1VUUk99IGJcbiAqIEBwcm9wZXJ0eSB7MXwtMX0gZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGR1cmF0aW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3RhcnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBlbmRcbiAqIEBwcm9wZXJ0eSB7T3V0cm99IFtncm91cF1cbiAqL1xuIiwiaW1wb3J0IHsgdHJhbnNpdGlvbl9pbiwgdHJhbnNpdGlvbl9vdXQgfSBmcm9tICcuL3RyYW5zaXRpb25zLmpzJztcbmltcG9ydCB7IHJ1bl9hbGwgfSBmcm9tICcuL3V0aWxzLmpzJztcblxuLy8gZ2VuZXJhbCBlYWNoIGZ1bmN0aW9uczpcblxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZV9hcnJheV9saWtlKGFycmF5X2xpa2Vfb3JfaXRlcmF0b3IpIHtcblx0cmV0dXJuIGFycmF5X2xpa2Vfb3JfaXRlcmF0b3I/Lmxlbmd0aCAhPT0gdW5kZWZpbmVkXG5cdFx0PyBhcnJheV9saWtlX29yX2l0ZXJhdG9yXG5cdFx0OiBBcnJheS5mcm9tKGFycmF5X2xpa2Vfb3JfaXRlcmF0b3IpO1xufVxuXG4vLyBrZXllZCBlYWNoIGZ1bmN0aW9uczpcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuXHRibG9jay5kKDEpO1xuXHRsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBvdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdHRyYW5zaXRpb25fb3V0KGJsb2NrLCAxLCAxLCAoKSA9PiB7XG5cdFx0bG9va3VwLmRlbGV0ZShibG9jay5rZXkpO1xuXHR9KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpeF9hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdGJsb2NrLmYoKTtcblx0ZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpeF9hbmRfb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuXHRibG9jay5mKCk7XG5cdG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuXG4vKiogQHJldHVybnMge2FueVtdfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9rZXllZF9lYWNoKFxuXHRvbGRfYmxvY2tzLFxuXHRkaXJ0eSxcblx0Z2V0X2tleSxcblx0ZHluYW1pYyxcblx0Y3R4LFxuXHRsaXN0LFxuXHRsb29rdXAsXG5cdG5vZGUsXG5cdGRlc3Ryb3ksXG5cdGNyZWF0ZV9lYWNoX2Jsb2NrLFxuXHRuZXh0LFxuXHRnZXRfY29udGV4dFxuKSB7XG5cdGxldCBvID0gb2xkX2Jsb2Nrcy5sZW5ndGg7XG5cdGxldCBuID0gbGlzdC5sZW5ndGg7XG5cdGxldCBpID0gbztcblx0Y29uc3Qgb2xkX2luZGV4ZXMgPSB7fTtcblx0d2hpbGUgKGktLSkgb2xkX2luZGV4ZXNbb2xkX2Jsb2Nrc1tpXS5rZXldID0gaTtcblx0Y29uc3QgbmV3X2Jsb2NrcyA9IFtdO1xuXHRjb25zdCBuZXdfbG9va3VwID0gbmV3IE1hcCgpO1xuXHRjb25zdCBkZWx0YXMgPSBuZXcgTWFwKCk7XG5cdGNvbnN0IHVwZGF0ZXMgPSBbXTtcblx0aSA9IG47XG5cdHdoaWxlIChpLS0pIHtcblx0XHRjb25zdCBjaGlsZF9jdHggPSBnZXRfY29udGV4dChjdHgsIGxpc3QsIGkpO1xuXHRcdGNvbnN0IGtleSA9IGdldF9rZXkoY2hpbGRfY3R4KTtcblx0XHRsZXQgYmxvY2sgPSBsb29rdXAuZ2V0KGtleSk7XG5cdFx0aWYgKCFibG9jaykge1xuXHRcdFx0YmxvY2sgPSBjcmVhdGVfZWFjaF9ibG9jayhrZXksIGNoaWxkX2N0eCk7XG5cdFx0XHRibG9jay5jKCk7XG5cdFx0fSBlbHNlIGlmIChkeW5hbWljKSB7XG5cdFx0XHQvLyBkZWZlciB1cGRhdGVzIHVudGlsIGFsbCB0aGUgRE9NIHNodWZmbGluZyBpcyBkb25lXG5cdFx0XHR1cGRhdGVzLnB1c2goKCkgPT4gYmxvY2sucChjaGlsZF9jdHgsIGRpcnR5KSk7XG5cdFx0fVxuXHRcdG5ld19sb29rdXAuc2V0KGtleSwgKG5ld19ibG9ja3NbaV0gPSBibG9jaykpO1xuXHRcdGlmIChrZXkgaW4gb2xkX2luZGV4ZXMpIGRlbHRhcy5zZXQoa2V5LCBNYXRoLmFicyhpIC0gb2xkX2luZGV4ZXNba2V5XSkpO1xuXHR9XG5cdGNvbnN0IHdpbGxfbW92ZSA9IG5ldyBTZXQoKTtcblx0Y29uc3QgZGlkX21vdmUgPSBuZXcgU2V0KCk7XG5cdC8qKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gaW5zZXJ0KGJsb2NrKSB7XG5cdFx0dHJhbnNpdGlvbl9pbihibG9jaywgMSk7XG5cdFx0YmxvY2subShub2RlLCBuZXh0KTtcblx0XHRsb29rdXAuc2V0KGJsb2NrLmtleSwgYmxvY2spO1xuXHRcdG5leHQgPSBibG9jay5maXJzdDtcblx0XHRuLS07XG5cdH1cblx0d2hpbGUgKG8gJiYgbikge1xuXHRcdGNvbnN0IG5ld19ibG9jayA9IG5ld19ibG9ja3NbbiAtIDFdO1xuXHRcdGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3NbbyAtIDFdO1xuXHRcdGNvbnN0IG5ld19rZXkgPSBuZXdfYmxvY2sua2V5O1xuXHRcdGNvbnN0IG9sZF9rZXkgPSBvbGRfYmxvY2sua2V5O1xuXHRcdGlmIChuZXdfYmxvY2sgPT09IG9sZF9ibG9jaykge1xuXHRcdFx0Ly8gZG8gbm90aGluZ1xuXHRcdFx0bmV4dCA9IG5ld19ibG9jay5maXJzdDtcblx0XHRcdG8tLTtcblx0XHRcdG4tLTtcblx0XHR9IGVsc2UgaWYgKCFuZXdfbG9va3VwLmhhcyhvbGRfa2V5KSkge1xuXHRcdFx0Ly8gcmVtb3ZlIG9sZCBibG9ja1xuXHRcdFx0ZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG5cdFx0XHRvLS07XG5cdFx0fSBlbHNlIGlmICghbG9va3VwLmhhcyhuZXdfa2V5KSB8fCB3aWxsX21vdmUuaGFzKG5ld19rZXkpKSB7XG5cdFx0XHRpbnNlcnQobmV3X2Jsb2NrKTtcblx0XHR9IGVsc2UgaWYgKGRpZF9tb3ZlLmhhcyhvbGRfa2V5KSkge1xuXHRcdFx0by0tO1xuXHRcdH0gZWxzZSBpZiAoZGVsdGFzLmdldChuZXdfa2V5KSA+IGRlbHRhcy5nZXQob2xkX2tleSkpIHtcblx0XHRcdGRpZF9tb3ZlLmFkZChuZXdfa2V5KTtcblx0XHRcdGluc2VydChuZXdfYmxvY2spO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3aWxsX21vdmUuYWRkKG9sZF9rZXkpO1xuXHRcdFx0by0tO1xuXHRcdH1cblx0fVxuXHR3aGlsZSAoby0tKSB7XG5cdFx0Y29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvXTtcblx0XHRpZiAoIW5ld19sb29rdXAuaGFzKG9sZF9ibG9jay5rZXkpKSBkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcblx0fVxuXHR3aGlsZSAobikgaW5zZXJ0KG5ld19ibG9ja3NbbiAtIDFdKTtcblx0cnVuX2FsbCh1cGRhdGVzKTtcblx0cmV0dXJuIG5ld19ibG9ja3M7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZV9lYWNoX2tleXMoY3R4LCBsaXN0LCBnZXRfY29udGV4dCwgZ2V0X2tleSkge1xuXHRjb25zdCBrZXlzID0gbmV3IE1hcCgpO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCBrZXkgPSBnZXRfa2V5KGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSkpO1xuXHRcdGlmIChrZXlzLmhhcyhrZXkpKSB7XG5cdFx0XHRsZXQgdmFsdWUgPSAnJztcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHZhbHVlID0gYHdpdGggdmFsdWUgJyR7U3RyaW5nKGtleSl9JyBgO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHQvLyBjYW4ndCBzdHJpbmdpZnlcblx0XHRcdH1cblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0YENhbm5vdCBoYXZlIGR1cGxpY2F0ZSBrZXlzIGluIGEga2V5ZWQgZWFjaDogS2V5cyBhdCBpbmRleCAke2tleXMuZ2V0KFxuXHRcdFx0XHRcdGtleVxuXHRcdFx0XHQpfSBhbmQgJHtpfSAke3ZhbHVlfWFyZSBkdXBsaWNhdGVzYFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0a2V5cy5zZXQoa2V5LCBpKTtcblx0fVxufVxuIiwiaW1wb3J0IHtcblx0YWRkX3JlbmRlcl9jYWxsYmFjayxcblx0Zmx1c2gsXG5cdGZsdXNoX3JlbmRlcl9jYWxsYmFja3MsXG5cdHNjaGVkdWxlX3VwZGF0ZSxcblx0ZGlydHlfY29tcG9uZW50c1xufSBmcm9tICcuL3NjaGVkdWxlci5qcyc7XG5pbXBvcnQgeyBjdXJyZW50X2NvbXBvbmVudCwgc2V0X2N1cnJlbnRfY29tcG9uZW50IH0gZnJvbSAnLi9saWZlY3ljbGUuanMnO1xuaW1wb3J0IHsgYmxhbmtfb2JqZWN0LCBpc19lbXB0eSwgaXNfZnVuY3Rpb24sIHJ1biwgcnVuX2FsbCwgbm9vcCB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHtcblx0Y2hpbGRyZW4sXG5cdGRldGFjaCxcblx0c3RhcnRfaHlkcmF0aW5nLFxuXHRlbmRfaHlkcmF0aW5nLFxuXHRnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzLFxuXHRpbnNlcnQsXG5cdGVsZW1lbnQsXG5cdGF0dHJcbn0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgdHJhbnNpdGlvbl9pbiB9IGZyb20gJy4vdHJhbnNpdGlvbnMuanMnO1xuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gYmluZChjb21wb25lbnQsIG5hbWUsIGNhbGxiYWNrKSB7XG5cdGNvbnN0IGluZGV4ID0gY29tcG9uZW50LiQkLnByb3BzW25hbWVdO1xuXHRpZiAoaW5kZXggIT09IHVuZGVmaW5lZCkge1xuXHRcdGNvbXBvbmVudC4kJC5ib3VuZFtpbmRleF0gPSBjYWxsYmFjaztcblx0XHRjYWxsYmFjayhjb21wb25lbnQuJCQuY3R4W2luZGV4XSk7XG5cdH1cbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9jb21wb25lbnQoYmxvY2spIHtcblx0YmxvY2sgJiYgYmxvY2suYygpO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fY29tcG9uZW50KGJsb2NrLCBwYXJlbnRfbm9kZXMpIHtcblx0YmxvY2sgJiYgYmxvY2subChwYXJlbnRfbm9kZXMpO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gbW91bnRfY29tcG9uZW50KGNvbXBvbmVudCwgdGFyZ2V0LCBhbmNob3IpIHtcblx0Y29uc3QgeyBmcmFnbWVudCwgYWZ0ZXJfdXBkYXRlIH0gPSBjb21wb25lbnQuJCQ7XG5cdGZyYWdtZW50ICYmIGZyYWdtZW50Lm0odGFyZ2V0LCBhbmNob3IpO1xuXHQvLyBvbk1vdW50IGhhcHBlbnMgYmVmb3JlIHRoZSBpbml0aWFsIGFmdGVyVXBkYXRlXG5cdGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4ge1xuXHRcdGNvbnN0IG5ld19vbl9kZXN0cm95ID0gY29tcG9uZW50LiQkLm9uX21vdW50Lm1hcChydW4pLmZpbHRlcihpc19mdW5jdGlvbik7XG5cdFx0Ly8gaWYgdGhlIGNvbXBvbmVudCB3YXMgZGVzdHJveWVkIGltbWVkaWF0ZWx5XG5cdFx0Ly8gaXQgd2lsbCB1cGRhdGUgdGhlIGAkJC5vbl9kZXN0cm95YCByZWZlcmVuY2UgdG8gYG51bGxgLlxuXHRcdC8vIHRoZSBkZXN0cnVjdHVyZWQgb25fZGVzdHJveSBtYXkgc3RpbGwgcmVmZXJlbmNlIHRvIHRoZSBvbGQgYXJyYXlcblx0XHRpZiAoY29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kpIHtcblx0XHRcdGNvbXBvbmVudC4kJC5vbl9kZXN0cm95LnB1c2goLi4ubmV3X29uX2Rlc3Ryb3kpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBFZGdlIGNhc2UgLSBjb21wb25lbnQgd2FzIGRlc3Ryb3llZCBpbW1lZGlhdGVseSxcblx0XHRcdC8vIG1vc3QgbGlrZWx5IGFzIGEgcmVzdWx0IG9mIGEgYmluZGluZyBpbml0aWFsaXNpbmdcblx0XHRcdHJ1bl9hbGwobmV3X29uX2Rlc3Ryb3kpO1xuXHRcdH1cblx0XHRjb21wb25lbnQuJCQub25fbW91bnQgPSBbXTtcblx0fSk7XG5cdGFmdGVyX3VwZGF0ZS5mb3JFYWNoKGFkZF9yZW5kZXJfY2FsbGJhY2spO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveV9jb21wb25lbnQoY29tcG9uZW50LCBkZXRhY2hpbmcpIHtcblx0Y29uc3QgJCQgPSBjb21wb25lbnQuJCQ7XG5cdGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuXHRcdGZsdXNoX3JlbmRlcl9jYWxsYmFja3MoJCQuYWZ0ZXJfdXBkYXRlKTtcblx0XHRydW5fYWxsKCQkLm9uX2Rlc3Ryb3kpO1xuXHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmQoZGV0YWNoaW5nKTtcblx0XHQvLyBUT0RPIG51bGwgb3V0IG90aGVyIHJlZnMsIGluY2x1ZGluZyBjb21wb25lbnQuJCQgKGJ1dCBuZWVkIHRvXG5cdFx0Ly8gcHJlc2VydmUgZmluYWwgc3RhdGU/KVxuXHRcdCQkLm9uX2Rlc3Ryb3kgPSAkJC5mcmFnbWVudCA9IG51bGw7XG5cdFx0JCQuY3R4ID0gW107XG5cdH1cbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZnVuY3Rpb24gbWFrZV9kaXJ0eShjb21wb25lbnQsIGkpIHtcblx0aWYgKGNvbXBvbmVudC4kJC5kaXJ0eVswXSA9PT0gLTEpIHtcblx0XHRkaXJ0eV9jb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcblx0XHRzY2hlZHVsZV91cGRhdGUoKTtcblx0XHRjb21wb25lbnQuJCQuZGlydHkuZmlsbCgwKTtcblx0fVxuXHRjb21wb25lbnQuJCQuZGlydHlbKGkgLyAzMSkgfCAwXSB8PSAxIDw8IGkgJSAzMTtcbn1cblxuLy8gVE9ETzogRG9jdW1lbnQgdGhlIG90aGVyIHBhcmFtc1xuLyoqXG4gKiBAcGFyYW0ge1N2ZWx0ZUNvbXBvbmVudH0gY29tcG9uZW50XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5Db21wb25lbnRDb25zdHJ1Y3Rvck9wdGlvbnN9IG9wdGlvbnNcbiAqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi91dGlscy5qcycpWydub3RfZXF1YWwnXX0gbm90X2VxdWFsIFVzZWQgdG8gY29tcGFyZSBwcm9wcyBhbmQgc3RhdGUgdmFsdWVzLlxuICogQHBhcmFtIHsodGFyZ2V0OiBFbGVtZW50IHwgU2hhZG93Um9vdCkgPT4gdm9pZH0gW2FwcGVuZF9zdHlsZXNdIEZ1bmN0aW9uIHRoYXQgYXBwZW5kcyBzdHlsZXMgdG8gdGhlIERPTSB3aGVuIHRoZSBjb21wb25lbnQgaXMgZmlyc3QgaW5pdGlhbGlzZWQuXG4gKiBUaGlzIHdpbGwgYmUgdGhlIGBhZGRfY3NzYCBmdW5jdGlvbiBmcm9tIHRoZSBjb21waWxlZCBjb21wb25lbnQuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0KFxuXHRjb21wb25lbnQsXG5cdG9wdGlvbnMsXG5cdGluc3RhbmNlLFxuXHRjcmVhdGVfZnJhZ21lbnQsXG5cdG5vdF9lcXVhbCxcblx0cHJvcHMsXG5cdGFwcGVuZF9zdHlsZXMgPSBudWxsLFxuXHRkaXJ0eSA9IFstMV1cbikge1xuXHRjb25zdCBwYXJlbnRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG5cdHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuVCQkfSAqL1xuXHRjb25zdCAkJCA9IChjb21wb25lbnQuJCQgPSB7XG5cdFx0ZnJhZ21lbnQ6IG51bGwsXG5cdFx0Y3R4OiBbXSxcblx0XHQvLyBzdGF0ZVxuXHRcdHByb3BzLFxuXHRcdHVwZGF0ZTogbm9vcCxcblx0XHRub3RfZXF1YWwsXG5cdFx0Ym91bmQ6IGJsYW5rX29iamVjdCgpLFxuXHRcdC8vIGxpZmVjeWNsZVxuXHRcdG9uX21vdW50OiBbXSxcblx0XHRvbl9kZXN0cm95OiBbXSxcblx0XHRvbl9kaXNjb25uZWN0OiBbXSxcblx0XHRiZWZvcmVfdXBkYXRlOiBbXSxcblx0XHRhZnRlcl91cGRhdGU6IFtdLFxuXHRcdGNvbnRleHQ6IG5ldyBNYXAob3B0aW9ucy5jb250ZXh0IHx8IChwYXJlbnRfY29tcG9uZW50ID8gcGFyZW50X2NvbXBvbmVudC4kJC5jb250ZXh0IDogW10pKSxcblx0XHQvLyBldmVyeXRoaW5nIGVsc2Vcblx0XHRjYWxsYmFja3M6IGJsYW5rX29iamVjdCgpLFxuXHRcdGRpcnR5LFxuXHRcdHNraXBfYm91bmQ6IGZhbHNlLFxuXHRcdHJvb3Q6IG9wdGlvbnMudGFyZ2V0IHx8IHBhcmVudF9jb21wb25lbnQuJCQucm9vdFxuXHR9KTtcblx0YXBwZW5kX3N0eWxlcyAmJiBhcHBlbmRfc3R5bGVzKCQkLnJvb3QpO1xuXHRsZXQgcmVhZHkgPSBmYWxzZTtcblx0JCQuY3R4ID0gaW5zdGFuY2Vcblx0XHQ/IGluc3RhbmNlKGNvbXBvbmVudCwgb3B0aW9ucy5wcm9wcyB8fCB7fSwgKGksIHJldCwgLi4ucmVzdCkgPT4ge1xuXHRcdFx0XHRjb25zdCB2YWx1ZSA9IHJlc3QubGVuZ3RoID8gcmVzdFswXSA6IHJldDtcblx0XHRcdFx0aWYgKCQkLmN0eCAmJiBub3RfZXF1YWwoJCQuY3R4W2ldLCAoJCQuY3R4W2ldID0gdmFsdWUpKSkge1xuXHRcdFx0XHRcdGlmICghJCQuc2tpcF9ib3VuZCAmJiAkJC5ib3VuZFtpXSkgJCQuYm91bmRbaV0odmFsdWUpO1xuXHRcdFx0XHRcdGlmIChyZWFkeSkgbWFrZV9kaXJ0eShjb21wb25lbnQsIGkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0ICB9KVxuXHRcdDogW107XG5cdCQkLnVwZGF0ZSgpO1xuXHRyZWFkeSA9IHRydWU7XG5cdHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG5cdC8vIGBmYWxzZWAgYXMgYSBzcGVjaWFsIGNhc2Ugb2Ygbm8gRE9NIGNvbXBvbmVudFxuXHQkJC5mcmFnbWVudCA9IGNyZWF0ZV9mcmFnbWVudCA/IGNyZWF0ZV9mcmFnbWVudCgkJC5jdHgpIDogZmFsc2U7XG5cdGlmIChvcHRpb25zLnRhcmdldCkge1xuXHRcdGlmIChvcHRpb25zLmh5ZHJhdGUpIHtcblx0XHRcdHN0YXJ0X2h5ZHJhdGluZygpO1xuXHRcdFx0Ly8gVE9ETzogd2hhdCBpcyB0aGUgY29ycmVjdCB0eXBlIGhlcmU/XG5cdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0XHRjb25zdCBub2RlcyA9IGNoaWxkcmVuKG9wdGlvbnMudGFyZ2V0KTtcblx0XHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50Lmwobm9kZXMpO1xuXHRcdFx0bm9kZXMuZm9yRWFjaChkZXRhY2gpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuXHRcdFx0JCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQuYygpO1xuXHRcdH1cblx0XHRpZiAob3B0aW9ucy5pbnRybykgdHJhbnNpdGlvbl9pbihjb21wb25lbnQuJCQuZnJhZ21lbnQpO1xuXHRcdG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIG9wdGlvbnMudGFyZ2V0LCBvcHRpb25zLmFuY2hvcik7XG5cdFx0ZW5kX2h5ZHJhdGluZygpO1xuXHRcdGZsdXNoKCk7XG5cdH1cblx0c2V0X2N1cnJlbnRfY29tcG9uZW50KHBhcmVudF9jb21wb25lbnQpO1xufVxuXG5leHBvcnQgbGV0IFN2ZWx0ZUVsZW1lbnQ7XG5cbmlmICh0eXBlb2YgSFRNTEVsZW1lbnQgPT09ICdmdW5jdGlvbicpIHtcblx0U3ZlbHRlRWxlbWVudCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuXHRcdC8qKiBUaGUgU3ZlbHRlIGNvbXBvbmVudCBjb25zdHJ1Y3RvciAqL1xuXHRcdCQkY3Rvcjtcblx0XHQvKiogU2xvdHMgKi9cblx0XHQkJHM7XG5cdFx0LyoqIFRoZSBTdmVsdGUgY29tcG9uZW50IGluc3RhbmNlICovXG5cdFx0JCRjO1xuXHRcdC8qKiBXaGV0aGVyIG9yIG5vdCB0aGUgY3VzdG9tIGVsZW1lbnQgaXMgY29ubmVjdGVkICovXG5cdFx0JCRjbiA9IGZhbHNlO1xuXHRcdC8qKiBDb21wb25lbnQgcHJvcHMgZGF0YSAqL1xuXHRcdCQkZCA9IHt9O1xuXHRcdC8qKiBgdHJ1ZWAgaWYgY3VycmVudGx5IGluIHRoZSBwcm9jZXNzIG9mIHJlZmxlY3RpbmcgY29tcG9uZW50IHByb3BzIGJhY2sgdG8gYXR0cmlidXRlcyAqL1xuXHRcdCQkciA9IGZhbHNlO1xuXHRcdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gUHJvcHMgZGVmaW5pdGlvbiAobmFtZSwgcmVmbGVjdGVkLCB0eXBlIGV0YykgKi9cblx0XHQkJHBfZCA9IHt9O1xuXHRcdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgRnVuY3Rpb25bXT59IEV2ZW50IGxpc3RlbmVycyAqL1xuXHRcdCQkbCA9IHt9O1xuXHRcdC8qKiBAdHlwZSB7TWFwPEZ1bmN0aW9uLCBGdW5jdGlvbj59IEV2ZW50IGxpc3RlbmVyIHVuc3Vic2NyaWJlIGZ1bmN0aW9ucyAqL1xuXHRcdCQkbF91ID0gbmV3IE1hcCgpO1xuXG5cdFx0Y29uc3RydWN0b3IoJCRjb21wb25lbnRDdG9yLCAkJHNsb3RzLCB1c2Vfc2hhZG93X2RvbSkge1xuXHRcdFx0c3VwZXIoKTtcblx0XHRcdHRoaXMuJCRjdG9yID0gJCRjb21wb25lbnRDdG9yO1xuXHRcdFx0dGhpcy4kJHMgPSAkJHNsb3RzO1xuXHRcdFx0aWYgKHVzZV9zaGFkb3dfZG9tKSB7XG5cdFx0XHRcdHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcblx0XHRcdC8vIFdlIGNhbid0IGRldGVybWluZSB1cGZyb250IGlmIHRoZSBldmVudCBpcyBhIGN1c3RvbSBldmVudCBvciBub3QsIHNvIHdlIGhhdmUgdG9cblx0XHRcdC8vIGxpc3RlbiB0byBib3RoLiBJZiBzb21lb25lIHVzZXMgYSBjdXN0b20gZXZlbnQgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIGEgcmVndWxhclxuXHRcdFx0Ly8gYnJvd3NlciBldmVudCwgdGhpcyBmaXJlcyB0d2ljZSAtIHdlIGNhbid0IGF2b2lkIHRoYXQuXG5cdFx0XHR0aGlzLiQkbFt0eXBlXSA9IHRoaXMuJCRsW3R5cGVdIHx8IFtdO1xuXHRcdFx0dGhpcy4kJGxbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG5cdFx0XHRpZiAodGhpcy4kJGMpIHtcblx0XHRcdFx0Y29uc3QgdW5zdWIgPSB0aGlzLiQkYy4kb24odHlwZSwgbGlzdGVuZXIpO1xuXHRcdFx0XHR0aGlzLiQkbF91LnNldChsaXN0ZW5lciwgdW5zdWIpO1xuXHRcdFx0fVxuXHRcdFx0c3VwZXIuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0cmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuXHRcdFx0c3VwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG5cdFx0XHRpZiAodGhpcy4kJGMpIHtcblx0XHRcdFx0Y29uc3QgdW5zdWIgPSB0aGlzLiQkbF91LmdldChsaXN0ZW5lcik7XG5cdFx0XHRcdGlmICh1bnN1Yikge1xuXHRcdFx0XHRcdHVuc3ViKCk7XG5cdFx0XHRcdFx0dGhpcy4kJGxfdS5kZWxldGUobGlzdGVuZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0YXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG5cdFx0XHR0aGlzLiQkY24gPSB0cnVlO1xuXHRcdFx0aWYgKCF0aGlzLiQkYykge1xuXHRcdFx0XHQvLyBXZSB3YWl0IG9uZSB0aWNrIHRvIGxldCBwb3NzaWJsZSBjaGlsZCBzbG90IGVsZW1lbnRzIGJlIGNyZWF0ZWQvbW91bnRlZFxuXHRcdFx0XHRhd2FpdCBQcm9taXNlLnJlc29sdmUoKTtcblx0XHRcdFx0aWYgKCF0aGlzLiQkY24gfHwgdGhpcy4kJGMpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0ZnVuY3Rpb24gY3JlYXRlX3Nsb3QobmFtZSkge1xuXHRcdFx0XHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRcdFx0XHRsZXQgbm9kZTtcblx0XHRcdFx0XHRcdGNvbnN0IG9iaiA9IHtcblx0XHRcdFx0XHRcdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtZW50KCdzbG90Jyk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKG5hbWUgIT09ICdkZWZhdWx0Jykge1xuXHRcdFx0XHRcdFx0XHRcdFx0YXR0cihub2RlLCAnbmFtZScsIG5hbWUpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0LyoqXG5cdFx0XHRcdFx0XHRcdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldFxuXHRcdFx0XHRcdFx0XHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbYW5jaG9yXVxuXHRcdFx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRcdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdFx0XHRcdFx0XHRpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpO1xuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGRldGFjaChub2RlKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRyZXR1cm4gb2JqO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3QgJCRzbG90cyA9IHt9O1xuXHRcdFx0XHRjb25zdCBleGlzdGluZ19zbG90cyA9IGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHModGhpcyk7XG5cdFx0XHRcdGZvciAoY29uc3QgbmFtZSBvZiB0aGlzLiQkcykge1xuXHRcdFx0XHRcdGlmIChuYW1lIGluIGV4aXN0aW5nX3Nsb3RzKSB7XG5cdFx0XHRcdFx0XHQkJHNsb3RzW25hbWVdID0gW2NyZWF0ZV9zbG90KG5hbWUpXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Zm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgdGhpcy5hdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdFx0Ly8gdGhpcy4kJGRhdGEgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIHRoaXMuYXR0cmlidXRlc1xuXHRcdFx0XHRcdGNvbnN0IG5hbWUgPSB0aGlzLiQkZ19wKGF0dHJpYnV0ZS5uYW1lKTtcblx0XHRcdFx0XHRpZiAoIShuYW1lIGluIHRoaXMuJCRkKSkge1xuXHRcdFx0XHRcdFx0dGhpcy4kJGRbbmFtZV0gPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUobmFtZSwgYXR0cmlidXRlLnZhbHVlLCB0aGlzLiQkcF9kLCAndG9Qcm9wJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIFBvcnQgb3ZlciBwcm9wcyB0aGF0IHdlcmUgc2V0IHByb2dyYW1tYXRpY2FsbHkgYmVmb3JlIGNlIHdhcyBpbml0aWFsaXplZFxuXHRcdFx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLiQkcF9kKSB7XG5cdFx0XHRcdFx0aWYgKCEoa2V5IGluIHRoaXMuJCRkKSAmJiB0aGlzW2tleV0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0dGhpcy4kJGRba2V5XSA9IHRoaXNba2V5XTsgLy8gZG9uJ3QgdHJhbnNmb3JtLCB0aGVzZSB3ZXJlIHNldCB0aHJvdWdoIEphdmFTY3JpcHRcblx0XHRcdFx0XHRcdGRlbGV0ZSB0aGlzW2tleV07IC8vIHJlbW92ZSB0aGUgcHJvcGVydHkgdGhhdCBzaGFkb3dzIHRoZSBnZXR0ZXIvc2V0dGVyXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuJCRjID0gbmV3IHRoaXMuJCRjdG9yKHtcblx0XHRcdFx0XHR0YXJnZXQ6IHRoaXMuc2hhZG93Um9vdCB8fCB0aGlzLFxuXHRcdFx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdFx0XHQuLi50aGlzLiQkZCxcblx0XHRcdFx0XHRcdCQkc2xvdHMsXG5cdFx0XHRcdFx0XHQkJHNjb3BlOiB7XG5cdFx0XHRcdFx0XHRcdGN0eDogW11cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8vIFJlZmxlY3QgY29tcG9uZW50IHByb3BzIGFzIGF0dHJpYnV0ZXNcblx0XHRcdFx0Y29uc3QgcmVmbGVjdF9hdHRyaWJ1dGVzID0gKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuJCRyID0gdHJ1ZTtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLiQkcF9kKSB7XG5cdFx0XHRcdFx0XHR0aGlzLiQkZFtrZXldID0gdGhpcy4kJGMuJCQuY3R4W3RoaXMuJCRjLiQkLnByb3BzW2tleV1dO1xuXHRcdFx0XHRcdFx0aWYgKHRoaXMuJCRwX2Rba2V5XS5yZWZsZWN0KSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGF0dHJpYnV0ZV92YWx1ZSA9IGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShcblx0XHRcdFx0XHRcdFx0XHRrZXksXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy4kJGRba2V5XSxcblx0XHRcdFx0XHRcdFx0XHR0aGlzLiQkcF9kLFxuXHRcdFx0XHRcdFx0XHRcdCd0b0F0dHJpYnV0ZSdcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0aWYgKGF0dHJpYnV0ZV92YWx1ZSA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5yZW1vdmVBdHRyaWJ1dGUodGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSB8fCBrZXkpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc2V0QXR0cmlidXRlKHRoaXMuJCRwX2Rba2V5XS5hdHRyaWJ1dGUgfHwga2V5LCBhdHRyaWJ1dGVfdmFsdWUpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoaXMuJCRyID0gZmFsc2U7XG5cdFx0XHRcdH07XG5cdFx0XHRcdHRoaXMuJCRjLiQkLmFmdGVyX3VwZGF0ZS5wdXNoKHJlZmxlY3RfYXR0cmlidXRlcyk7XG5cdFx0XHRcdHJlZmxlY3RfYXR0cmlidXRlcygpOyAvLyBvbmNlIGluaXRpYWxseSBiZWNhdXNlIGFmdGVyX3VwZGF0ZSBpcyBhZGRlZCB0b28gbGF0ZSBmb3IgZmlyc3QgcmVuZGVyXG5cblx0XHRcdFx0Zm9yIChjb25zdCB0eXBlIGluIHRoaXMuJCRsKSB7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLiQkbFt0eXBlXSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgdW5zdWIgPSB0aGlzLiQkYy4kb24odHlwZSwgbGlzdGVuZXIpO1xuXHRcdFx0XHRcdFx0dGhpcy4kJGxfdS5zZXQobGlzdGVuZXIsIHVuc3ViKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy4kJGwgPSB7fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBXZSBkb24ndCBuZWVkIHRoaXMgd2hlbiB3b3JraW5nIHdpdGhpbiBTdmVsdGUgY29kZSwgYnV0IGZvciBjb21wYXRpYmlsaXR5IG9mIHBlb3BsZSB1c2luZyB0aGlzIG91dHNpZGUgb2YgU3ZlbHRlXG5cdFx0Ly8gYW5kIHNldHRpbmcgYXR0cmlidXRlcyB0aHJvdWdoIHNldEF0dHJpYnV0ZSBldGMsIHRoaXMgaXMgaGVscGZ1bFxuXHRcdGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyLCBfb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG5cdFx0XHRpZiAodGhpcy4kJHIpIHJldHVybjtcblx0XHRcdGF0dHIgPSB0aGlzLiQkZ19wKGF0dHIpO1xuXHRcdFx0dGhpcy4kJGRbYXR0cl0gPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUoYXR0ciwgbmV3VmFsdWUsIHRoaXMuJCRwX2QsICd0b1Byb3AnKTtcblx0XHRcdHRoaXMuJCRjPy4kc2V0KHsgW2F0dHJdOiB0aGlzLiQkZFthdHRyXSB9KTtcblx0XHR9XG5cblx0XHRkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcblx0XHRcdHRoaXMuJCRjbiA9IGZhbHNlO1xuXHRcdFx0Ly8gSW4gYSBtaWNyb3Rhc2ssIGJlY2F1c2UgdGhpcyBjb3VsZCBiZSBhIG1vdmUgd2l0aGluIHRoZSBET01cblx0XHRcdFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRpZiAoIXRoaXMuJCRjbikge1xuXHRcdFx0XHRcdHRoaXMuJCRjLiRkZXN0cm95KCk7XG5cdFx0XHRcdFx0dGhpcy4kJGMgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdCQkZ19wKGF0dHJpYnV0ZV9uYW1lKSB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRPYmplY3Qua2V5cyh0aGlzLiQkcF9kKS5maW5kKFxuXHRcdFx0XHRcdChrZXkpID0+XG5cdFx0XHRcdFx0XHR0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlID09PSBhdHRyaWJ1dGVfbmFtZSB8fFxuXHRcdFx0XHRcdFx0KCF0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSBhdHRyaWJ1dGVfbmFtZSlcblx0XHRcdFx0KSB8fCBhdHRyaWJ1dGVfbmFtZVxuXHRcdFx0KTtcblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb24+fSBwcm9wc19kZWZpbml0aW9uXG4gKiBAcGFyYW0geyd0b0F0dHJpYnV0ZScgfCAndG9Qcm9wJ30gW3RyYW5zZm9ybV1cbiAqL1xuZnVuY3Rpb24gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKHByb3AsIHZhbHVlLCBwcm9wc19kZWZpbml0aW9uLCB0cmFuc2Zvcm0pIHtcblx0Y29uc3QgdHlwZSA9IHByb3BzX2RlZmluaXRpb25bcHJvcF0/LnR5cGU7XG5cdHZhbHVlID0gdHlwZSA9PT0gJ0Jvb2xlYW4nICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nID8gdmFsdWUgIT0gbnVsbCA6IHZhbHVlO1xuXHRpZiAoIXRyYW5zZm9ybSB8fCAhcHJvcHNfZGVmaW5pdGlvbltwcm9wXSkge1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fSBlbHNlIGlmICh0cmFuc2Zvcm0gPT09ICd0b0F0dHJpYnV0ZScpIHtcblx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdGNhc2UgJ09iamVjdCc6XG5cdFx0XHRjYXNlICdBcnJheSc6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gbnVsbCA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcblx0XHRcdGNhc2UgJ0Jvb2xlYW4nOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPyAnJyA6IG51bGw7XG5cdFx0XHRjYXNlICdOdW1iZXInOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IG51bGwgOiB2YWx1ZTtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRjYXNlICdPYmplY3QnOlxuXHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgJiYgSlNPTi5wYXJzZSh2YWx1ZSk7XG5cdFx0XHRjYXNlICdCb29sZWFuJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlOyAvLyBjb252ZXJzaW9uIGFscmVhZHkgaGFuZGxlZCBhYm92ZVxuXHRcdFx0Y2FzZSAnTnVtYmVyJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlICE9IG51bGwgPyArdmFsdWUgOiB2YWx1ZTtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqXG4gKiBUdXJuIGEgU3ZlbHRlIGNvbXBvbmVudCBpbnRvIGEgY3VzdG9tIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5Db21wb25lbnRUeXBlfSBDb21wb25lbnQgIEEgU3ZlbHRlIGNvbXBvbmVudCBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb24+fSBwcm9wc19kZWZpbml0aW9uICBUaGUgcHJvcHMgdG8gb2JzZXJ2ZVxuICogQHBhcmFtIHtzdHJpbmdbXX0gc2xvdHMgIFRoZSBzbG90cyB0byBjcmVhdGVcbiAqIEBwYXJhbSB7c3RyaW5nW119IGFjY2Vzc29ycyAgT3RoZXIgYWNjZXNzb3JzIGJlc2lkZXMgdGhlIG9uZXMgZm9yIHByb3BzIHRoZSBjb21wb25lbnQgaGFzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVzZV9zaGFkb3dfZG9tICBXaGV0aGVyIHRvIHVzZSBzaGFkb3cgRE9NXG4gKiBAcGFyYW0geyhjZTogbmV3ICgpID0+IEhUTUxFbGVtZW50KSA9PiBuZXcgKCkgPT4gSFRNTEVsZW1lbnR9IFtleHRlbmRdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfY3VzdG9tX2VsZW1lbnQoXG5cdENvbXBvbmVudCxcblx0cHJvcHNfZGVmaW5pdGlvbixcblx0c2xvdHMsXG5cdGFjY2Vzc29ycyxcblx0dXNlX3NoYWRvd19kb20sXG5cdGV4dGVuZFxuKSB7XG5cdGxldCBDbGFzcyA9IGNsYXNzIGV4dGVuZHMgU3ZlbHRlRWxlbWVudCB7XG5cdFx0Y29uc3RydWN0b3IoKSB7XG5cdFx0XHRzdXBlcihDb21wb25lbnQsIHNsb3RzLCB1c2Vfc2hhZG93X2RvbSk7XG5cdFx0XHR0aGlzLiQkcF9kID0gcHJvcHNfZGVmaW5pdGlvbjtcblx0XHR9XG5cdFx0c3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG5cdFx0XHRyZXR1cm4gT2JqZWN0LmtleXMocHJvcHNfZGVmaW5pdGlvbikubWFwKChrZXkpID0+XG5cdFx0XHRcdChwcm9wc19kZWZpbml0aW9uW2tleV0uYXR0cmlidXRlIHx8IGtleSkudG9Mb3dlckNhc2UoKVxuXHRcdFx0KTtcblx0XHR9XG5cdH07XG5cdE9iamVjdC5rZXlzKHByb3BzX2RlZmluaXRpb24pLmZvckVhY2goKHByb3ApID0+IHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2xhc3MucHJvdG90eXBlLCBwcm9wLCB7XG5cdFx0XHRnZXQoKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLiQkYyAmJiBwcm9wIGluIHRoaXMuJCRjID8gdGhpcy4kJGNbcHJvcF0gOiB0aGlzLiQkZFtwcm9wXTtcblx0XHRcdH0sXG5cdFx0XHRzZXQodmFsdWUpIHtcblx0XHRcdFx0dmFsdWUgPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUocHJvcCwgdmFsdWUsIHByb3BzX2RlZmluaXRpb24pO1xuXHRcdFx0XHR0aGlzLiQkZFtwcm9wXSA9IHZhbHVlO1xuXHRcdFx0XHR0aGlzLiQkYz8uJHNldCh7IFtwcm9wXTogdmFsdWUgfSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXHRhY2Nlc3NvcnMuZm9yRWFjaCgoYWNjZXNzb3IpID0+IHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2xhc3MucHJvdG90eXBlLCBhY2Nlc3Nvciwge1xuXHRcdFx0Z2V0KCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy4kJGM/LlthY2Nlc3Nvcl07XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXHRpZiAoZXh0ZW5kKSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciAtIGFzc2lnbmluZyBoZXJlIGlzIGZpbmVcblx0XHRDbGFzcyA9IGV4dGVuZChDbGFzcyk7XG5cdH1cblx0Q29tcG9uZW50LmVsZW1lbnQgPSAvKiogQHR5cGUge2FueX0gKi8gKENsYXNzKTtcblx0cmV0dXJuIENsYXNzO1xufVxuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIFN2ZWx0ZSBjb21wb25lbnRzLiBVc2VkIHdoZW4gZGV2PWZhbHNlLlxuICpcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gW1Byb3BzPWFueV1cbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gW0V2ZW50cz1hbnldXG4gKi9cbmV4cG9ydCBjbGFzcyBTdmVsdGVDb21wb25lbnQge1xuXHQvKipcblx0ICogIyMjIFBSSVZBVEUgQVBJXG5cdCAqXG5cdCAqIERvIG5vdCB1c2UsIG1heSBjaGFuZ2UgYXQgYW55IHRpbWVcblx0ICpcblx0ICogQHR5cGUge2FueX1cblx0ICovXG5cdCQkID0gdW5kZWZpbmVkO1xuXHQvKipcblx0ICogIyMjIFBSSVZBVEUgQVBJXG5cdCAqXG5cdCAqIERvIG5vdCB1c2UsIG1heSBjaGFuZ2UgYXQgYW55IHRpbWVcblx0ICpcblx0ICogQHR5cGUge2FueX1cblx0ICovXG5cdCQkc2V0ID0gdW5kZWZpbmVkO1xuXG5cdC8qKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0JGRlc3Ryb3koKSB7XG5cdFx0ZGVzdHJveV9jb21wb25lbnQodGhpcywgMSk7XG5cdFx0dGhpcy4kZGVzdHJveSA9IG5vb3A7XG5cdH1cblxuXHQvKipcblx0ICogQHRlbXBsYXRlIHtFeHRyYWN0PGtleW9mIEV2ZW50cywgc3RyaW5nPn0gS1xuXHQgKiBAcGFyYW0ge0t9IHR5cGVcblx0ICogQHBhcmFtIHsoKGU6IEV2ZW50c1tLXSkgPT4gdm9pZCkgfCBudWxsIHwgdW5kZWZpbmVkfSBjYWxsYmFja1xuXHQgKiBAcmV0dXJucyB7KCkgPT4gdm9pZH1cblx0ICovXG5cdCRvbih0eXBlLCBjYWxsYmFjaykge1xuXHRcdGlmICghaXNfZnVuY3Rpb24oY2FsbGJhY2spKSB7XG5cdFx0XHRyZXR1cm4gbm9vcDtcblx0XHR9XG5cdFx0Y29uc3QgY2FsbGJhY2tzID0gdGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gfHwgKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdID0gW10pO1xuXHRcdGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0Y29uc3QgaW5kZXggPSBjYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG5cdFx0XHRpZiAoaW5kZXggIT09IC0xKSBjYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7UGFydGlhbDxQcm9wcz59IHByb3BzXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0JHNldChwcm9wcykge1xuXHRcdGlmICh0aGlzLiQkc2V0ICYmICFpc19lbXB0eShwcm9wcykpIHtcblx0XHRcdHRoaXMuJCQuc2tpcF9ib3VuZCA9IHRydWU7XG5cdFx0XHR0aGlzLiQkc2V0KHByb3BzKTtcblx0XHRcdHRoaXMuJCQuc2tpcF9ib3VuZCA9IGZhbHNlO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvblxuICogQHByb3BlcnR5IHtzdHJpbmd9IFthdHRyaWJ1dGVdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyZWZsZWN0XVxuICogQHByb3BlcnR5IHsnU3RyaW5nJ3wnQm9vbGVhbid8J051bWJlcid8J0FycmF5J3wnT2JqZWN0J30gW3R5cGVdXG4gKi9cbiIsIi8vIGdlbmVyYXRlZCBkdXJpbmcgcmVsZWFzZSwgZG8gbm90IG1vZGlmeVxuXG4vKipcbiAqIFRoZSBjdXJyZW50IHZlcnNpb24sIGFzIHNldCBpbiBwYWNrYWdlLmpzb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLWNvbXBpbGVyI3N2ZWx0ZS12ZXJzaW9uXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9ICc0LjIuMTUnO1xuZXhwb3J0IGNvbnN0IFBVQkxJQ19WRVJTSU9OID0gJzQnO1xuIiwiaW1wb3J0IHsgUFVCTElDX1ZFUlNJT04gfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdmVyc2lvbi5qcyc7XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylcblx0Ly8gQHRzLWlnbm9yZVxuXHQod2luZG93Ll9fc3ZlbHRlIHx8ICh3aW5kb3cuX19zdmVsdGUgPSB7IHY6IG5ldyBTZXQoKSB9KSkudi5hZGQoUFVCTElDX1ZFUlNJT04pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUkJUcmVlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSQlRyZWUoKSB7XG4gICAgICAgIHRoaXMucm9vdCA9IG51bGw7XG4gICAgfVxuICAgIFJCVHJlZS5wcm90b3R5cGUuaW5zZXJ0U3VjY2Vzc29yID0gZnVuY3Rpb24gKG5vZGUsIHN1Y2Nlc3Nvcikge1xuICAgICAgICB2YXIgcGFyZW50O1xuICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgc3VjY2Vzc29yLnByZXYgPSBub2RlO1xuICAgICAgICAgICAgc3VjY2Vzc29yLm5leHQgPSBub2RlLm5leHQ7XG4gICAgICAgICAgICBpZiAobm9kZS5uZXh0KSB7XG4gICAgICAgICAgICAgICAgbm9kZS5uZXh0LnByZXYgPSBzdWNjZXNzb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLm5leHQgPSBzdWNjZXNzb3I7XG4gICAgICAgICAgICBpZiAobm9kZS5yaWdodCkge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgICAgIHdoaWxlIChub2RlLmxlZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUubGVmdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZS5sZWZ0ID0gc3VjY2Vzc29yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZS5yaWdodCA9IHN1Y2Nlc3NvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudCA9IG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5yb290KSB7XG4gICAgICAgICAgICBub2RlID0gdGhpcy5maXJzdCh0aGlzLnJvb3QpO1xuICAgICAgICAgICAgc3VjY2Vzc29yLnByZXYgPSBudWxsO1xuICAgICAgICAgICAgc3VjY2Vzc29yLm5leHQgPSBub2RlO1xuICAgICAgICAgICAgbm9kZS5wcmV2ID0gc3VjY2Vzc29yO1xuICAgICAgICAgICAgbm9kZS5sZWZ0ID0gc3VjY2Vzc29yO1xuICAgICAgICAgICAgcGFyZW50ID0gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1Y2Nlc3Nvci5wcmV2ID0gc3VjY2Vzc29yLm5leHQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5yb290ID0gc3VjY2Vzc29yO1xuICAgICAgICAgICAgcGFyZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBzdWNjZXNzb3IubGVmdCA9IHN1Y2Nlc3Nvci5yaWdodCA9IG51bGw7XG4gICAgICAgIHN1Y2Nlc3Nvci5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHN1Y2Nlc3Nvci5yZWQgPSB0cnVlO1xuICAgICAgICB2YXIgZ3JhbmRwYSwgdW5jbGU7XG4gICAgICAgIG5vZGUgPSBzdWNjZXNzb3I7XG4gICAgICAgIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50LnJlZCkge1xuICAgICAgICAgICAgZ3JhbmRwYSA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAocGFyZW50ID09PSBncmFuZHBhLmxlZnQpIHtcbiAgICAgICAgICAgICAgICB1bmNsZSA9IGdyYW5kcGEucmlnaHQ7XG4gICAgICAgICAgICAgICAgaWYgKHVuY2xlICYmIHVuY2xlLnJlZCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnQucmVkID0gdW5jbGUucmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGdyYW5kcGEucmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGdyYW5kcGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSA9PT0gcGFyZW50LnJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUxlZnQocGFyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBub2RlLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQucmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGdyYW5kcGEucmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVSaWdodChncmFuZHBhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1bmNsZSA9IGdyYW5kcGEubGVmdDtcbiAgICAgICAgICAgICAgICBpZiAodW5jbGUgJiYgdW5jbGUucmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZWQgPSB1bmNsZS5yZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZ3JhbmRwYS5yZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gZ3JhbmRwYTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlID09PSBwYXJlbnQubGVmdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVSaWdodChwYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IG5vZGUucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZ3JhbmRwYS5yZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUxlZnQoZ3JhbmRwYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yb290LnJlZCA9IGZhbHNlO1xuICAgIH07XG4gICAgUkJUcmVlLnByb3RvdHlwZS5yZW1vdmVOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubmV4dCkge1xuICAgICAgICAgICAgbm9kZS5uZXh0LnByZXYgPSBub2RlLnByZXY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUucHJldikge1xuICAgICAgICAgICAgbm9kZS5wcmV2Lm5leHQgPSBub2RlLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5uZXh0ID0gbm9kZS5wcmV2ID0gbnVsbDtcbiAgICAgICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50O1xuICAgICAgICB2YXIgbGVmdCA9IG5vZGUubGVmdDtcbiAgICAgICAgdmFyIHJpZ2h0ID0gbm9kZS5yaWdodDtcbiAgICAgICAgdmFyIG5leHQgPSBudWxsO1xuICAgICAgICBpZiAoIWxlZnQpIHtcbiAgICAgICAgICAgIG5leHQgPSByaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghcmlnaHQpIHtcbiAgICAgICAgICAgIG5leHQgPSBsZWZ0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV4dCA9IHRoaXMuZmlyc3QocmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQubGVmdCA9PT0gbm9kZSkge1xuICAgICAgICAgICAgICAgIHBhcmVudC5sZWZ0ID0gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudC5yaWdodCA9IG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc1JlZDtcbiAgICAgICAgaWYgKGxlZnQgJiYgcmlnaHQpIHtcbiAgICAgICAgICAgIGlzUmVkID0gbmV4dC5yZWQ7XG4gICAgICAgICAgICBuZXh0LnJlZCA9IG5vZGUucmVkO1xuICAgICAgICAgICAgbmV4dC5sZWZ0ID0gbGVmdDtcbiAgICAgICAgICAgIGxlZnQucGFyZW50ID0gbmV4dDtcbiAgICAgICAgICAgIGlmIChuZXh0ICE9PSByaWdodCkge1xuICAgICAgICAgICAgICAgIHBhcmVudCA9IG5leHQucGFyZW50O1xuICAgICAgICAgICAgICAgIG5leHQucGFyZW50ID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5leHQucmlnaHQ7XG4gICAgICAgICAgICAgICAgcGFyZW50LmxlZnQgPSBub2RlO1xuICAgICAgICAgICAgICAgIG5leHQucmlnaHQgPSByaWdodDtcbiAgICAgICAgICAgICAgICByaWdodC5wYXJlbnQgPSBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV4dC5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gbmV4dDtcbiAgICAgICAgICAgICAgICBub2RlID0gbmV4dC5yaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlzUmVkID0gbm9kZS5yZWQ7XG4gICAgICAgICAgICBub2RlID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgbm9kZS5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS5yZWQpIHtcbiAgICAgICAgICAgIG5vZGUucmVkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNpYmxpbmc7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChub2RlID09PSB0aGlzLnJvb3QpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlID09PSBwYXJlbnQubGVmdCkge1xuICAgICAgICAgICAgICAgIHNpYmxpbmcgPSBwYXJlbnQucmlnaHQ7XG4gICAgICAgICAgICAgICAgaWYgKHNpYmxpbmcucmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNpYmxpbmcucmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUxlZnQocGFyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgc2libGluZyA9IHBhcmVudC5yaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChzaWJsaW5nLmxlZnQgJiYgc2libGluZy5sZWZ0LnJlZCkgfHwgKHNpYmxpbmcucmlnaHQgJiYgc2libGluZy5yaWdodC5yZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2libGluZy5yaWdodCB8fCAhc2libGluZy5yaWdodC5yZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpYmxpbmcubGVmdC5yZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpYmxpbmcucmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm90YXRlUmlnaHQoc2libGluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWJsaW5nID0gcGFyZW50LnJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNpYmxpbmcucmVkID0gcGFyZW50LnJlZDtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlZCA9IHNpYmxpbmcucmlnaHQucmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm90YXRlTGVmdChwYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gdGhpcy5yb290O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaWJsaW5nID0gcGFyZW50LmxlZnQ7XG4gICAgICAgICAgICAgICAgaWYgKHNpYmxpbmcucmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNpYmxpbmcucmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVJpZ2h0KHBhcmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHNpYmxpbmcgPSBwYXJlbnQubGVmdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChzaWJsaW5nLmxlZnQgJiYgc2libGluZy5sZWZ0LnJlZCkgfHwgKHNpYmxpbmcucmlnaHQgJiYgc2libGluZy5yaWdodC5yZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2libGluZy5sZWZ0IHx8ICFzaWJsaW5nLmxlZnQucmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWJsaW5nLnJpZ2h0LnJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2libGluZy5yZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVMZWZ0KHNpYmxpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2libGluZyA9IHBhcmVudC5sZWZ0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNpYmxpbmcucmVkID0gcGFyZW50LnJlZDtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlZCA9IHNpYmxpbmcubGVmdC5yZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVSaWdodChwYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gdGhpcy5yb290O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaWJsaW5nLnJlZCA9IHRydWU7XG4gICAgICAgICAgICBub2RlID0gcGFyZW50O1xuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICAgICAgfSB3aGlsZSAoIW5vZGUucmVkKTtcbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUucmVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJCVHJlZS5wcm90b3R5cGUucm90YXRlTGVmdCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHZhciBwID0gbm9kZTtcbiAgICAgICAgdmFyIHEgPSBub2RlLnJpZ2h0O1xuICAgICAgICB2YXIgcGFyZW50ID0gcC5wYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQubGVmdCA9PT0gcCkge1xuICAgICAgICAgICAgICAgIHBhcmVudC5sZWZ0ID0gcTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudC5yaWdodCA9IHE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBxO1xuICAgICAgICB9XG4gICAgICAgIHEucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBwLnBhcmVudCA9IHE7XG4gICAgICAgIHAucmlnaHQgPSBxLmxlZnQ7XG4gICAgICAgIGlmIChwLnJpZ2h0KSB7XG4gICAgICAgICAgICBwLnJpZ2h0LnBhcmVudCA9IHA7XG4gICAgICAgIH1cbiAgICAgICAgcS5sZWZ0ID0gcDtcbiAgICB9O1xuICAgIFJCVHJlZS5wcm90b3R5cGUucm90YXRlUmlnaHQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB2YXIgcCA9IG5vZGU7XG4gICAgICAgIHZhciBxID0gbm9kZS5sZWZ0O1xuICAgICAgICB2YXIgcGFyZW50ID0gcC5wYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQubGVmdCA9PT0gcCkge1xuICAgICAgICAgICAgICAgIHBhcmVudC5sZWZ0ID0gcTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudC5yaWdodCA9IHE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBxO1xuICAgICAgICB9XG4gICAgICAgIHEucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBwLnBhcmVudCA9IHE7XG4gICAgICAgIHAubGVmdCA9IHEucmlnaHQ7XG4gICAgICAgIGlmIChwLmxlZnQpIHtcbiAgICAgICAgICAgIHAubGVmdC5wYXJlbnQgPSBwO1xuICAgICAgICB9XG4gICAgICAgIHEucmlnaHQgPSBwO1xuICAgIH07XG4gICAgUkJUcmVlLnByb3RvdHlwZS5maXJzdCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHdoaWxlIChub2RlLmxlZnQpIHtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfTtcbiAgICBSQlRyZWUucHJvdG90eXBlLmxhc3QgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB3aGlsZSAobm9kZS5yaWdodCkge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUucmlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfTtcbiAgICByZXR1cm4gUkJUcmVlO1xufSgpKTtcbmV4cG9ydHMuUkJUcmVlID0gUkJUcmVlO1xudmFyIFJCVHJlZU5vZGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJCVHJlZU5vZGUoKSB7XG4gICAgfVxuICAgIHJldHVybiBSQlRyZWVOb2RlO1xufSgpKTtcbmV4cG9ydHMuUkJUcmVlTm9kZSA9IFJCVHJlZU5vZGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yYnRyZWUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgVmVydGV4ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWZXJ0ZXgoeCwgeSkge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgIH1cbiAgICByZXR1cm4gVmVydGV4O1xufSgpKTtcbmV4cG9ydHMuVmVydGV4ID0gVmVydGV4O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVydGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEVkZ2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVkZ2UobFNpdGUsIHJTaXRlKSB7XG4gICAgICAgIHRoaXMubFNpdGUgPSBsU2l0ZTtcbiAgICAgICAgdGhpcy5yU2l0ZSA9IHJTaXRlO1xuICAgICAgICB0aGlzLnZhID0gdGhpcy52YiA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBFZGdlO1xufSgpKTtcbmV4cG9ydHMuRWRnZSA9IEVkZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lZGdlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENlbGwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENlbGwoc2l0ZSkge1xuICAgICAgICB0aGlzLnNpdGUgPSBzaXRlO1xuICAgICAgICB0aGlzLmhhbGZlZGdlcyA9IFtdO1xuICAgICAgICB0aGlzLmNsb3NlTWUgPSBmYWxzZTtcbiAgICB9XG4gICAgQ2VsbC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uIChzaXRlKSB7XG4gICAgICAgIHRoaXMuc2l0ZSA9IHNpdGU7XG4gICAgICAgIHRoaXMuaGFsZmVkZ2VzID0gW107XG4gICAgICAgIHRoaXMuY2xvc2VNZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIENlbGwucHJvdG90eXBlLnByZXBhcmVIYWxmZWRnZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBoYWxmZWRnZXMgPSB0aGlzLmhhbGZlZGdlcztcbiAgICAgICAgdmFyIGlIYWxmZWRnZSA9IGhhbGZlZGdlcy5sZW5ndGg7XG4gICAgICAgIHZhciBlZGdlO1xuICAgICAgICB3aGlsZSAoaUhhbGZlZGdlLS0pIHtcbiAgICAgICAgICAgIGVkZ2UgPSBoYWxmZWRnZXNbaUhhbGZlZGdlXS5lZGdlO1xuICAgICAgICAgICAgaWYgKCFlZGdlLnZiIHx8ICFlZGdlLnZhKSB7XG4gICAgICAgICAgICAgICAgaGFsZmVkZ2VzLnNwbGljZShpSGFsZmVkZ2UsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGhhbGZlZGdlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5hbmdsZSAtIGEuYW5nbGU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaGFsZmVkZ2VzLmxlbmd0aDtcbiAgICB9O1xuICAgIENlbGwucHJvdG90eXBlLmdldE5laWdoYm9ySWRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbmVpZ2hib3JzID0gW107XG4gICAgICAgIHZhciBpSGFsZmVkZ2UgPSB0aGlzLmhhbGZlZGdlcy5sZW5ndGg7XG4gICAgICAgIHZhciBlZGdlO1xuICAgICAgICB3aGlsZSAoaUhhbGZlZGdlLS0pIHtcbiAgICAgICAgICAgIGVkZ2UgPSB0aGlzLmhhbGZlZGdlc1tpSGFsZmVkZ2VdLmVkZ2U7XG4gICAgICAgICAgICBpZiAoZWRnZS5sU2l0ZSAhPT0gbnVsbCAmJiBlZGdlLmxTaXRlLmlkICE9IHRoaXMuc2l0ZS5pZCkge1xuICAgICAgICAgICAgICAgIG5laWdoYm9ycy5wdXNoKGVkZ2UubFNpdGUuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZWRnZS5yU2l0ZSAhPT0gbnVsbCAmJiBlZGdlLnJTaXRlLmlkICE9IHRoaXMuc2l0ZS5pZCkge1xuICAgICAgICAgICAgICAgIG5laWdoYm9ycy5wdXNoKGVkZ2UuclNpdGUuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZWlnaGJvcnM7XG4gICAgfTtcbiAgICA7XG4gICAgQ2VsbC5wcm90b3R5cGUuZ2V0QmJveCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGhhbGZlZGdlcyA9IHRoaXMuaGFsZmVkZ2VzO1xuICAgICAgICB2YXIgaUhhbGZlZGdlID0gaGFsZmVkZ2VzLmxlbmd0aDtcbiAgICAgICAgdmFyIHhtaW4gPSBJbmZpbml0eTtcbiAgICAgICAgdmFyIHltaW4gPSBJbmZpbml0eTtcbiAgICAgICAgdmFyIHhtYXggPSAtSW5maW5pdHk7XG4gICAgICAgIHZhciB5bWF4ID0gLUluZmluaXR5O1xuICAgICAgICB2YXIgdiwgdngsIHZ5O1xuICAgICAgICB3aGlsZSAoaUhhbGZlZGdlLS0pIHtcbiAgICAgICAgICAgIHYgPSBoYWxmZWRnZXNbaUhhbGZlZGdlXS5nZXRTdGFydHBvaW50KCk7XG4gICAgICAgICAgICB2eCA9IHYueDtcbiAgICAgICAgICAgIHZ5ID0gdi55O1xuICAgICAgICAgICAgaWYgKHZ4IDwgeG1pbikge1xuICAgICAgICAgICAgICAgIHhtaW4gPSB2eDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2eSA8IHltaW4pIHtcbiAgICAgICAgICAgICAgICB5bWluID0gdnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodnggPiB4bWF4KSB7XG4gICAgICAgICAgICAgICAgeG1heCA9IHZ4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZ5ID4geW1heCkge1xuICAgICAgICAgICAgICAgIHltYXggPSB2eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeG1pbixcbiAgICAgICAgICAgIHk6IHltaW4sXG4gICAgICAgICAgICB3aWR0aDogeG1heCAtIHhtaW4sXG4gICAgICAgICAgICBoZWlnaHQ6IHltYXggLSB5bWluXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBDZWxsLnByb3RvdHlwZS5wb2ludEludGVyc2VjdGlvbiA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHZhciBoYWxmZWRnZXMgPSB0aGlzLmhhbGZlZGdlcztcbiAgICAgICAgdmFyIGlIYWxmZWRnZSA9IGhhbGZlZGdlcy5sZW5ndGg7XG4gICAgICAgIHZhciBoYWxmZWRnZTtcbiAgICAgICAgdmFyIHAwLCBwMTtcbiAgICAgICAgdmFyIHI7XG4gICAgICAgIHdoaWxlIChpSGFsZmVkZ2UtLSkge1xuICAgICAgICAgICAgaGFsZmVkZ2UgPSBoYWxmZWRnZXNbaUhhbGZlZGdlXTtcbiAgICAgICAgICAgIHAwID0gaGFsZmVkZ2UuZ2V0U3RhcnRwb2ludCgpO1xuICAgICAgICAgICAgcDEgPSBoYWxmZWRnZS5nZXRFbmRwb2ludCgpO1xuICAgICAgICAgICAgciA9ICh5IC0gcDAueSkgKiAocDEueCAtIHAwLngpIC0gKHggLSBwMC54KSAqIChwMS55IC0gcDAueSk7XG4gICAgICAgICAgICBpZiAoIXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMTtcbiAgICB9O1xuICAgIHJldHVybiBDZWxsO1xufSgpKTtcbmV4cG9ydHMuQ2VsbCA9IENlbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jZWxsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIERpYWdyYW0gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERpYWdyYW0oc2l0ZSkge1xuICAgICAgICB0aGlzLnNpdGUgPSBzaXRlO1xuICAgIH1cbiAgICByZXR1cm4gRGlhZ3JhbTtcbn0oKSk7XG5leHBvcnRzLkRpYWdyYW0gPSBEaWFncmFtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlhZ3JhbS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBIYWxmZWRnZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSGFsZmVkZ2UoZWRnZSwgbFNpdGUsIHJTaXRlKSB7XG4gICAgICAgIHRoaXMuc2l0ZSA9IGxTaXRlO1xuICAgICAgICB0aGlzLmVkZ2UgPSBlZGdlO1xuICAgICAgICBpZiAoclNpdGUpIHtcbiAgICAgICAgICAgIHRoaXMuYW5nbGUgPSBNYXRoLmF0YW4yKHJTaXRlLnkgLSBsU2l0ZS55LCByU2l0ZS54IC0gbFNpdGUueCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgdmEgPSBlZGdlLnZhO1xuICAgICAgICAgICAgdmFyIHZiID0gZWRnZS52YjtcbiAgICAgICAgICAgIHRoaXMuYW5nbGUgPSBlZGdlLmxTaXRlID09PSBsU2l0ZSA/XG4gICAgICAgICAgICAgICAgTWF0aC5hdGFuMih2Yi54IC0gdmEueCwgdmEueSAtIHZiLnkpIDpcbiAgICAgICAgICAgICAgICBNYXRoLmF0YW4yKHZhLnggLSB2Yi54LCB2Yi55IC0gdmEueSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgSGFsZmVkZ2UucHJvdG90eXBlLmdldFN0YXJ0cG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVkZ2UubFNpdGUgPT09IHRoaXMuc2l0ZSA/IHRoaXMuZWRnZS52YSA6IHRoaXMuZWRnZS52YjtcbiAgICB9O1xuICAgIDtcbiAgICBIYWxmZWRnZS5wcm90b3R5cGUuZ2V0RW5kcG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVkZ2UubFNpdGUgPT09IHRoaXMuc2l0ZSA/IHRoaXMuZWRnZS52YiA6IHRoaXMuZWRnZS52YTtcbiAgICB9O1xuICAgIDtcbiAgICByZXR1cm4gSGFsZmVkZ2U7XG59KCkpO1xuZXhwb3J0cy5IYWxmZWRnZSA9IEhhbGZlZGdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGFsZmVkZ2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcmJ0cmVlXzEgPSByZXF1aXJlKFwiLi9yYnRyZWVcIik7XG52YXIgdmVydGV4XzEgPSByZXF1aXJlKFwiLi92ZXJ0ZXhcIik7XG52YXIgZWRnZV8xID0gcmVxdWlyZShcIi4vZWRnZVwiKTtcbnZhciBjZWxsXzEgPSByZXF1aXJlKFwiLi9jZWxsXCIpO1xudmFyIGRpYWdyYW1fMSA9IHJlcXVpcmUoXCIuL2RpYWdyYW1cIik7XG52YXIgaGFsZmVkZ2VfMSA9IHJlcXVpcmUoXCIuL2hhbGZlZGdlXCIpO1xudmFyIFZvcm9ub2kgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZvcm9ub2koKSB7XG4gICAgICAgIHRoaXMudmVydGljZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmVkZ2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5jZWxscyA9IG51bGw7XG4gICAgICAgIHRoaXMudG9SZWN5Y2xlID0gbnVsbDtcbiAgICAgICAgdGhpcy5iZWFjaHNlY3Rpb25KdW5reWFyZCA9IFtdO1xuICAgICAgICB0aGlzLmNpcmNsZUV2ZW50SnVua3lhcmQgPSBbXTtcbiAgICAgICAgdGhpcy52ZXJ0ZXhKdW5reWFyZCA9IFtdO1xuICAgICAgICB0aGlzLmVkZ2VKdW5reWFyZCA9IFtdO1xuICAgICAgICB0aGlzLmNlbGxKdW5reWFyZCA9IFtdO1xuICAgIH1cbiAgICBWb3Jvbm9pLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24gKHNpdGVzLCBiYm94KSB7XG4gICAgICAgIHZhciBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIGlmICh0aGlzLnRvUmVjeWNsZSkge1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhKdW5reWFyZCA9IHRoaXMudmVydGV4SnVua3lhcmQuY29uY2F0KHRoaXMudG9SZWN5Y2xlLnZlcnRpY2VzKTtcbiAgICAgICAgICAgIHRoaXMuZWRnZUp1bmt5YXJkID0gdGhpcy5lZGdlSnVua3lhcmQuY29uY2F0KHRoaXMudG9SZWN5Y2xlLmVkZ2VzKTtcbiAgICAgICAgICAgIHRoaXMuY2VsbEp1bmt5YXJkID0gdGhpcy5jZWxsSnVua3lhcmQuY29uY2F0KHRoaXMudG9SZWN5Y2xlLmNlbGxzKTtcbiAgICAgICAgICAgIHRoaXMudG9SZWN5Y2xlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2l0ZUV2ZW50cyA9IHNpdGVzLnNsaWNlKDApO1xuICAgICAgICBzaXRlRXZlbnRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHZhciByID0gYi55IC0gYS55O1xuICAgICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBiLnggLSBhLng7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgc2l0ZSA9IHNpdGVFdmVudHMucG9wKCksIHNpdGVpZCA9IDAsIHhzaXRleCwgeHNpdGV5LCBjZWxscyA9IHRoaXMuY2VsbHMsIGNpcmNsZTtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgY2lyY2xlID0gdGhpcy5maXJzdENpcmNsZUV2ZW50O1xuICAgICAgICAgICAgaWYgKHNpdGUgJiYgKCFjaXJjbGUgfHwgc2l0ZS55IDwgY2lyY2xlLnkgfHwgKHNpdGUueSA9PT0gY2lyY2xlLnkgJiYgc2l0ZS54IDwgY2lyY2xlLngpKSkge1xuICAgICAgICAgICAgICAgIGlmIChzaXRlLnggIT09IHhzaXRleCB8fCBzaXRlLnkgIT09IHhzaXRleSkge1xuICAgICAgICAgICAgICAgICAgICBjZWxsc1tzaXRlaWRdID0gdGhpcy5jcmVhdGVDZWxsKHNpdGUpO1xuICAgICAgICAgICAgICAgICAgICBzaXRlLmlkID0gc2l0ZWlkKys7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQmVhY2hzZWN0aW9uKHNpdGUpO1xuICAgICAgICAgICAgICAgICAgICB4c2l0ZXkgPSBzaXRlLnk7XG4gICAgICAgICAgICAgICAgICAgIHhzaXRleCA9IHNpdGUueDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2l0ZSA9IHNpdGVFdmVudHMucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaXJjbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUJlYWNoc2VjdGlvbihjaXJjbGUuYXJjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xpcEVkZ2VzKGJib3gpO1xuICAgICAgICB0aGlzLmNsb3NlQ2VsbHMoYmJveCk7XG4gICAgICAgIHZhciBzdG9wVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHZhciBkaWFncmFtID0gbmV3IGRpYWdyYW1fMS5EaWFncmFtKCk7XG4gICAgICAgIGRpYWdyYW0uY2VsbHMgPSB0aGlzLmNlbGxzO1xuICAgICAgICBkaWFncmFtLmVkZ2VzID0gdGhpcy5lZGdlcztcbiAgICAgICAgZGlhZ3JhbS52ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgICAgIGRpYWdyYW0uZXhlY1RpbWUgPSBzdG9wVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHJldHVybiBkaWFncmFtO1xuICAgIH07XG4gICAgVm9yb25vaS5wcm90b3R5cGUuc3FydCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoeCk7XG4gICAgfTtcbiAgICBWb3Jvbm9pLnByb3RvdHlwZS5hYnMgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMoeCk7XG4gICAgfTtcbiAgICBWb3Jvbm9pLnByb3RvdHlwZS5lcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAxZS05O1xuICAgIH07XG4gICAgVm9yb25vaS5wcm90b3R5cGUuaW52ZXBzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gMS4wIC8gdGhpcy5lcHMoKTtcbiAgICB9O1xuICAgIFZvcm9ub2kucHJvdG90eXBlLmVxdWFsV2l0aEVwc2lsb24gPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gdGhpcy5hYnMoYSAtIGIpIDwgdGhpcy5lcHMoKTtcbiAgICB9O1xuICAgIFZvcm9ub2kucHJvdG90eXBlLmdyZWF0ZXJUaGFuV2l0aEVwc2lsb24gPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gKGEgLSBiKSA+IHRoaXMuZXBzKCk7XG4gICAgfTtcbiAgICA7XG4gICAgVm9yb25vaS5wcm90b3R5cGUuZ3JlYXRlclRoYW5PckVxdWFsV2l0aEVwc2lsb24gPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gKGIgLSBhKSA8IHRoaXMuZXBzKCk7XG4gICAgfTtcbiAgICBWb3Jvbm9pLnByb3RvdHlwZS5sZXNzVGhhbldpdGhFcHNpbG9uID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIChiIC0gYSkgPiB0aGlzLmVwcygpO1xuICAgIH07XG4gICAgVm9yb25vaS5wcm90b3R5cGUubGVzc1RoYW5PckVxdWFsV2l0aEVwc2lsb24gPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gKGEgLSBiKSA8IHRoaXMuZXBzKCk7XG4gICAgfTtcbiAgICBWb3Jvbm9pLnByb3RvdHlwZS5xdWFudGl6ZVNpdGVzID0gZnVuY3Rpb24gKHNpdGVzKSB7XG4gICAgICAgIHZhciBlcHMgPSB0aGlzLmVwcygpLCBuID0gc2l0ZXMubGVuZ3RoLCBzaXRlO1xuICAgICAgICB3aGlsZSAobi0tKSB7XG4gICAgICAgICAgICBzaXRlID0gc2l0ZXNbbl07XG4gICAgICAgICAgICBzaXRlLnggPSBNYXRoLmZsb29yKHNpdGUueCAvIGVwcykgKiBlcHM7XG4gICAgICAgICAgICBzaXRlLnkgPSBNYXRoLmZsb29yKHNpdGUueSAvIGVwcykgKiBlcHM7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZvcm9ub2kucHJvdG90eXBlLnJlY3ljbGUgPSBmdW5jdGlvbiAoZGlhZ3JhbSkge1xuICAgICAgICBpZiAoZGlhZ3JhbSkge1xuICAgICAgICAgICAgaWYgKGRpYWdyYW0gaW5zdGFuY2VvZiBkaWFncmFtXzEuRGlhZ3JhbSkge1xuICAgICAgICAgICAgICAgIHRoaXMudG9SZWN5Y2xlID0gZGlhZ3JhbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93ICdWb3Jvbm9pLnJlY3ljbGVEaWFncmFtKCkgPiBOZWVkIGEgRGlhZ3JhbSBvYmplY3QuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVm9yb25vaS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5iZWFjaGxpbmUpIHtcbiAgICAgICAgICAgIHRoaXMuYmVhY2hsaW5lID0gbmV3IHJidHJlZV8xLlJCVHJlZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJlYWNobGluZS5yb290KSB7XG4gICAgICAgICAgICB2YXIgYmVhY2hzZWN0aW9uID0gdGhpcy5iZWFjaGxpbmUuZmlyc3QodGhpcy5iZWFjaGxpbmUucm9vdCk7XG4gICAgICAgICAgICB3aGlsZSAoYmVhY2hzZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iZWFjaHNlY3Rpb25KdW5reWFyZC5wdXNoKGJlYWNoc2VjdGlvbik7XG4gICAgICAgICAgICAgICAgYmVhY2hzZWN0aW9uID0gYmVhY2hzZWN0aW9uLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iZWFjaGxpbmUucm9vdCA9IG51bGw7XG4gICAgICAgIGlmICghdGhpcy5jaXJjbGVFdmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuY2lyY2xlRXZlbnRzID0gbmV3IHJidHJlZV8xLlJCVHJlZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2lyY2xlRXZlbnRzLnJvb3QgPSB0aGlzLmZpcnN0Q2lyY2xlRXZlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnZlcnRpY2VzID0gW107XG4gICAgICAgIHRoaXMuZWRnZXMgPSBbXTtcbiAgICAgICAgdGhpcy5jZWxscyA9IFtdO1xuICAgIH07XG4gICAgVm9yb25vaS5wcm90b3R5cGUuY3JlYXRlQ2VsbCA9IGZ1bmN0aW9uIChzaXRlKSB7XG4gICAgICAgIHZhciBjZWxsID0gdGhpcy5jZWxsSnVua3lhcmQucG9wKCk7XG4gICAgICAgIGlmIChjZWxsKSB7XG4gICAgICAgICAgICBjZWxsLmluaXQoc2l0ZSk7XG4gICAgICAgICAgICByZXR1cm4gY2VsbC5pbml0KHNpdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgY2VsbF8xLkNlbGwoc2l0ZSk7XG4gICAgfTtcbiAgICA7XG4gICAgVm9yb25vaS5wcm90b3R5cGUuY3JlYXRlSGFsZmVkZ2UgPSBmdW5jdGlvbiAoZWRnZSwgbFNpdGUsIHJTaXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgaGFsZmVkZ2VfMS5IYWxmZWRnZShlZGdlLCBsU2l0ZSwgclNpdGUpO1xuICAgIH07XG4gICAgO1xuICAgIFZvcm9ub2kucHJvdG90eXBlLmNyZWF0ZVZlcnRleCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHZhciB2ID0gdGhpcy52ZXJ0ZXhKdW5reWFyZC5wb3AoKTtcbiAgICAgICAgaWYgKCF2KSB7XG4gICAgICAgICAgICB2ID0gbmV3IHZlcnRleF8xLlZlcnRleCh4LCB5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHYueCA9IHg7XG4gICAgICAgICAgICB2LnkgPSB5O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmVydGljZXMucHVzaCh2KTtcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgfTtcbiAgICBWb3Jvbm9pLnByb3RvdHlwZS5jcmVhdGVFZGdlID0gZnVuY3Rpb24gKGxTaXRlLCByU2l0ZSwgdmEsIHZiKSB7XG4gICAgICAgIGlmICh2YSA9PT0gdm9pZCAwKSB7IHZhID0gbnVsbDsgfVxuICAgICAgICBpZiAodmIgPT09IHZvaWQgMCkgeyB2YiA9IG51bGw7IH1cbiAgICAgICAgdmFyIGVkZ2UgPSB0aGlzLmVkZ2VKdW5reWFyZC5wb3AoKTtcbiAgICAgICAgaWYgKCFlZGdlKSB7XG4gICAgICAgICAgICBlZGdlID0gbmV3IGVkZ2VfMS5FZGdlKGxTaXRlLCByU2l0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlZGdlLmxTaXRlID0gbFNpdGU7XG4gICAgICAgICAgICBlZGdlLnJTaXRlID0gclNpdGU7XG4gICAgICAgICAgICBlZGdlLnZhID0gZWRnZS52YiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lZGdlcy5wdXNoKGVkZ2UpO1xuICAgICAgICBpZiAodmEpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RWRnZVN0YXJ0cG9pbnQoZWRnZSwgbFNpdGUsIHJTaXRlLCB2YSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZiKSB7XG4gICAgICAgICAgICB0aGlzLnNldEVkZ2VFbmRwb2ludChlZGdlLCBsU2l0ZSwgclNpdGUsIHZiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNlbGxzW2xTaXRlLmlkXS5oYWxmZWRnZXMucHVzaCh0aGlzLmNyZWF0ZUhhbGZlZGdlKGVkZ2UsIGxTaXRlLCByU2l0ZSkpO1xuICAgICAgICB0aGlzLmNlbGxzW3JTaXRlLmlkXS5oYWxmZWRnZXMucHVzaCh0aGlzLmNyZWF0ZUhhbGZlZGdlKGVkZ2UsIHJTaXRlLCBsU2l0ZSkpO1xuICAgICAgICByZXR1cm4gZWRnZTtcbiAgICB9O1xuICAgIFZvcm9ub2kucHJvdG90eXBlLmNyZWF0ZUJvcmRlckVkZ2UgPSBmdW5jdGlvbiAobFNpdGUsIHZhLCB2Yikge1xuICAgICAgICB2YXIgZWRnZSA9IHRoaXMuZWRnZUp1bmt5YXJkLnBvcCgpO1xuICAgICAgICBpZiAoIWVkZ2UpIHtcbiAgICAgICAgICAgIGVkZ2UgPSBuZXcgZWRnZV8xLkVkZ2UobFNpdGUsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWRnZS5sU2l0ZSA9IGxTaXRlO1xuICAgICAgICAgICAgZWRnZS5yU2l0ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWRnZS52YSA9IHZhO1xuICAgICAgICBlZGdlLnZiID0gdmI7XG4gICAgICAgIHRoaXMuZWRnZXMucHVzaChlZGdlKTtcbiAgICAgICAgcmV0dXJuIGVkZ2U7XG4gICAgfTtcbiAgICA7XG4gICAgVm9yb25vaS5wcm90b3R5cGUuc2V0RWRnZVN0YXJ0cG9pbnQgPSBmdW5jdGlvbiAoZWRnZSwgbFNpdGUsIHJTaXRlLCB2ZXJ0ZXgpIHtcbiAgICAgICAgaWYgKCFlZGdlLnZhICYmICFlZGdlLnZiKSB7XG4gICAgICAgICAgICBlZGdlLnZhID0gdmVydGV4O1xuICAgICAgICAgICAgZWRnZS5sU2l0ZSA9IGxTaXRlO1xuICAgICAgICAgICAgZWRnZS5yU2l0ZSA9IHJTaXRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVkZ2UubFNpdGUgPT09IHJTaXRlKSB7XG4gICAgICAgICAgICBlZGdlLnZiID0gdmVydGV4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWRnZS52YSA9IHZlcnRleDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVm9yb25vaS5wcm90b3R5cGUuc2V0RWRnZUVuZHBvaW50ID0gZnVuY3Rpb24gKGVkZ2UsIGxTaXRlLCByU2l0ZSwgdmVydGV4KSB7XG4gICAgICAgIHRoaXMuc2V0RWRnZVN0YXJ0cG9pbnQoZWRnZSwgclNpdGUsIGxTaXRlLCB2ZXJ0ZXgpO1xuICAgIH07XG4gICAgVm9yb25vaS5wcm90b3R5cGUuY3JlYXRlQmVhY2hzZWN0aW9uID0gZnVuY3Rpb24gKHNpdGUpIHtcbiAgICAgICAgdmFyIGJlYWNoc2VjdGlvbiA9IHRoaXMuYmVhY2hzZWN0aW9uSnVua3lhcmQucG9wKCk7XG4gICAgICAgIGlmICghYmVhY2hzZWN0aW9uKSB7XG4gICAgICAgICAgICBiZWFjaHNlY3Rpb24gPSBuZXcgcmJ0cmVlXzEuUkJUcmVlTm9kZSgpO1xuICAgICAgICB9XG4gICAgICAgIGJlYWNoc2VjdGlvbi5zaXRlID0gc2l0ZTtcbiAgICAgICAgcmV0dXJuIGJlYWNoc2VjdGlvbjtcbiAgICB9O1xuICAgIFZvcm9ub2kucHJvdG90eXBlLmxlZnRCcmVha1BvaW50ID0gZnVuY3Rpb24gKGFyYywgZGlyZWN0cml4KSB7XG4gICAgICAgIHZhciBzaXRlID0gYXJjLnNpdGUsIHJmb2N4ID0gc2l0ZS54LCByZm9jeSA9IHNpdGUueSwgcGJ5MiA9IHJmb2N5IC0gZGlyZWN0cml4O1xuICAgICAgICBpZiAoIXBieTIpIHtcbiAgICAgICAgICAgIHJldHVybiByZm9jeDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbEFyYyA9IGFyYy5wcmV2O1xuICAgICAgICBpZiAoIWxBcmMpIHtcbiAgICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7XG4gICAgICAgIH1cbiAgICAgICAgc2l0ZSA9IGxBcmMuc2l0ZTtcbiAgICAgICAgdmFyIGxmb2N4ID0gc2l0ZS54LCBsZm9jeSA9IHNpdGUueSwgcGxieTIgPSBsZm9jeSAtIGRpcmVjdHJpeDtcbiAgICAgICAgaWYgKCFwbGJ5Mikge1xuICAgICAgICAgICAgcmV0dXJuIGxmb2N4O1xuICAgICAgICB9XG4gICAgICAgIHZhciBobCA9IGxmb2N4IC0gcmZvY3gsIGFieTIgPSAxIC8gcGJ5MiAtIDEgLyBwbGJ5MiwgYiA9IGhsIC8gcGxieTI7XG4gICAgICAgIGlmIChhYnkyKSB7XG4gICAgICAgICAgICByZXR1cm4gKC1iICsgdGhpcy5zcXJ0KGIgKiBiIC0gMiAqIGFieTIgKiAoaGwgKiBobCAvICgtMiAqIHBsYnkyKSAtIGxmb2N5ICsgcGxieTIgLyAyICsgcmZvY3kgLSBwYnkyIC8gMikpKSAvIGFieTIgKyByZm9jeDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHJmb2N4ICsgbGZvY3gpIC8gMjtcbiAgICB9O1xuICAgIFZvcm9ub2kucHJvdG90eXBlLnJpZ2h0QnJlYWtQb2ludCA9IGZ1bmN0aW9uIChhcmMsIGRpcmVjdHJpeCkge1xuICAgICAgICB2YXIgckFyYyA9IGFyYy5uZXh0O1xuICAgICAgICBpZiAockFyYykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVmdEJyZWFrUG9pbnQockFyYywgZGlyZWN0cml4KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2l0ZSA9IGFyYy5zaXRlO1xuICAgICAgICByZXR1cm4gc2l0ZS55ID09PSBkaXJlY3RyaXggPyBzaXRlLnggOiBJbmZpbml0eTtcbiAgICB9O1xuICAgIFZvcm9ub2kucHJvdG90eXBlLmRldGFjaEJlYWNoc2VjdGlvbiA9IGZ1bmN0aW9uIChiZWFjaHNlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5kZXRhY2hDaXJjbGVFdmVudChiZWFjaHNlY3Rpb24pO1xuICAgICAgICB0aGlzLmJlYWNobGluZS5yZW1vdmVOb2RlKGJlYWNoc2VjdGlvbik7XG4gICAgICAgIHRoaXMuYmVhY2hzZWN0aW9uSnVua3lhcmQucHVzaChiZWFjaHNlY3Rpb24pO1xuICAgIH07XG4gICAgVm9yb25vaS5wcm90b3R5cGUucmVtb3ZlQmVhY2hzZWN0aW9uID0gZnVuY3Rpb24gKGJlYWNoc2VjdGlvbikge1xuICAgICAgICB2YXIgY2lyY2xlID0gYmVhY2hzZWN0aW9uLmNpcmNsZUV2ZW50LCB4ID0gY2lyY2xlLngsIHkgPSBjaXJjbGUueWNlbnRlciwgdmVydGV4ID0gdGhpcy5jcmVhdGVWZXJ0ZXgoeCwgeSksIHByZXZpb3VzID0gYmVhY2hzZWN0aW9uLnByZXYsIG5leHQgPSBiZWFjaHNlY3Rpb24ubmV4dCwgZGlzYXBwZWFyaW5nVHJhbnNpdGlvbnMgPSBbYmVhY2hzZWN0aW9uXSwgYWJzX2ZuID0gTWF0aC5hYnM7XG4gICAgICAgIHRoaXMuZGV0YWNoQmVhY2hzZWN0aW9uKGJlYWNoc2VjdGlvbik7XG4gICAgICAgIHZhciBsQXJjID0gcHJldmlvdXM7XG4gICAgICAgIHdoaWxlIChsQXJjLmNpcmNsZUV2ZW50ICYmXG4gICAgICAgICAgICBhYnNfZm4oeCAtIGxBcmMuY2lyY2xlRXZlbnQueCkgPCB0aGlzLmVwcygpICYmXG4gICAgICAgICAgICBhYnNfZm4oeSAtIGxBcmMuY2lyY2xlRXZlbnQueWNlbnRlcikgPCB0aGlzLmVwcygpKSB7XG4gICAgICAgICAgICBwcmV2aW91cyA9IGxBcmMucHJldjtcbiAgICAgICAgICAgIGRpc2FwcGVhcmluZ1RyYW5zaXRpb25zLnVuc2hpZnQobEFyYyk7XG4gICAgICAgICAgICB0aGlzLmRldGFjaEJlYWNoc2VjdGlvbihsQXJjKTtcbiAgICAgICAgICAgIGxBcmMgPSBwcmV2aW91cztcbiAgICAgICAgfVxuICAgICAgICBkaXNhcHBlYXJpbmdUcmFuc2l0aW9ucy51bnNoaWZ0KGxBcmMpO1xuICAgICAgICB0aGlzLmRldGFjaENpcmNsZUV2ZW50KGxBcmMpO1xuICAgICAgICB2YXIgckFyYyA9IG5leHQ7XG4gICAgICAgIHdoaWxlIChyQXJjLmNpcmNsZUV2ZW50ICYmXG4gICAgICAgICAgICBhYnNfZm4oeCAtIHJBcmMuY2lyY2xlRXZlbnQueCkgPCB0aGlzLmVwcygpICYmXG4gICAgICAgICAgICBhYnNfZm4oeSAtIHJBcmMuY2lyY2xlRXZlbnQueWNlbnRlcikgPCB0aGlzLmVwcygpKSB7XG4gICAgICAgICAgICBuZXh0ID0gckFyYy5uZXh0O1xuICAgICAgICAgICAgZGlzYXBwZWFyaW5nVHJhbnNpdGlvbnMucHVzaChyQXJjKTtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoQmVhY2hzZWN0aW9uKHJBcmMpO1xuICAgICAgICAgICAgckFyYyA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZGlzYXBwZWFyaW5nVHJhbnNpdGlvbnMucHVzaChyQXJjKTtcbiAgICAgICAgdGhpcy5kZXRhY2hDaXJjbGVFdmVudChyQXJjKTtcbiAgICAgICAgdmFyIG5BcmNzID0gZGlzYXBwZWFyaW5nVHJhbnNpdGlvbnMubGVuZ3RoLCBpQXJjO1xuICAgICAgICBmb3IgKGlBcmMgPSAxOyBpQXJjIDwgbkFyY3M7IGlBcmMrKykge1xuICAgICAgICAgICAgckFyYyA9IGRpc2FwcGVhcmluZ1RyYW5zaXRpb25zW2lBcmNdO1xuICAgICAgICAgICAgbEFyYyA9IGRpc2FwcGVhcmluZ1RyYW5zaXRpb25zW2lBcmMgLSAxXTtcbiAgICAgICAgICAgIHRoaXMuc2V0RWRnZVN0YXJ0cG9pbnQockFyYy5lZGdlLCBsQXJjLnNpdGUsIHJBcmMuc2l0ZSwgdmVydGV4KTtcbiAgICAgICAgfVxuICAgICAgICBsQXJjID0gZGlzYXBwZWFyaW5nVHJhbnNpdGlvbnNbMF07XG4gICAgICAgIHJBcmMgPSBkaXNhcHBlYXJpbmdUcmFuc2l0aW9uc1tuQXJjcyAtIDFdO1xuICAgICAgICByQXJjLmVkZ2UgPSB0aGlzLmNyZWF0ZUVkZ2UobEFyYy5zaXRlLCByQXJjLnNpdGUsIHVuZGVmaW5lZCwgdmVydGV4KTtcbiAgICAgICAgdGhpcy5hdHRhY2hDaXJjbGVFdmVudChsQXJjKTtcbiAgICAgICAgdGhpcy5hdHRhY2hDaXJjbGVFdmVudChyQXJjKTtcbiAgICB9O1xuICAgIFZvcm9ub2kucHJvdG90eXBlLmFkZEJlYWNoc2VjdGlvbiA9IGZ1bmN0aW9uIChzaXRlKSB7XG4gICAgICAgIHZhciB4ID0gc2l0ZS54LCBkaXJlY3RyaXggPSBzaXRlLnk7XG4gICAgICAgIHZhciBsQXJjLCByQXJjLCBkeGwsIGR4ciwgbm9kZSA9IHRoaXMuYmVhY2hsaW5lLnJvb3Q7XG4gICAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgICAgICBkeGwgPSB0aGlzLmxlZnRCcmVha1BvaW50KG5vZGUsIGRpcmVjdHJpeCkgLSB4O1xuICAgICAgICAgICAgaWYgKGR4bCA+IHRoaXMuZXBzKCkpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZHhyID0geCAtIHRoaXMucmlnaHRCcmVha1BvaW50KG5vZGUsIGRpcmVjdHJpeCk7XG4gICAgICAgICAgICAgICAgaWYgKGR4ciA+IHRoaXMuZXBzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFub2RlLnJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsQXJjID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGR4bCA+IC10aGlzLmVwcygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsQXJjID0gbm9kZS5wcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgckFyYyA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZHhyID4gLXRoaXMuZXBzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxBcmMgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgckFyYyA9IG5vZGUubmV4dDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxBcmMgPSByQXJjID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5ld0FyYyA9IHRoaXMuY3JlYXRlQmVhY2hzZWN0aW9uKHNpdGUpO1xuICAgICAgICB0aGlzLmJlYWNobGluZS5pbnNlcnRTdWNjZXNzb3IobEFyYywgbmV3QXJjKTtcbiAgICAgICAgaWYgKCFsQXJjICYmICFyQXJjKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxBcmMgPT09IHJBcmMpIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoQ2lyY2xlRXZlbnQobEFyYyk7XG4gICAgICAgICAgICByQXJjID0gdGhpcy5jcmVhdGVCZWFjaHNlY3Rpb24obEFyYy5zaXRlKTtcbiAgICAgICAgICAgIHRoaXMuYmVhY2hsaW5lLmluc2VydFN1Y2Nlc3NvcihuZXdBcmMsIHJBcmMpO1xuICAgICAgICAgICAgbmV3QXJjLmVkZ2UgPSByQXJjLmVkZ2UgPSB0aGlzLmNyZWF0ZUVkZ2UobEFyYy5zaXRlLCBuZXdBcmMuc2l0ZSk7XG4gICAgICAgICAgICB0aGlzLmF0dGFjaENpcmNsZUV2ZW50KGxBcmMpO1xuICAgICAgICAgICAgdGhpcy5hdHRhY2hDaXJjbGVFdmVudChyQXJjKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobEFyYyAmJiAhckFyYykge1xuICAgICAgICAgICAgbmV3QXJjLmVkZ2UgPSB0aGlzLmNyZWF0ZUVkZ2UobEFyYy5zaXRlLCBuZXdBcmMuc2l0ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxBcmMgIT09IHJBcmMpIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoQ2lyY2xlRXZlbnQobEFyYyk7XG4gICAgICAgICAgICB0aGlzLmRldGFjaENpcmNsZUV2ZW50KHJBcmMpO1xuICAgICAgICAgICAgdmFyIGxTaXRlID0gbEFyYy5zaXRlLCBheCA9IGxTaXRlLngsIGF5ID0gbFNpdGUueSwgYnggPSBzaXRlLnggLSBheCwgYnkgPSBzaXRlLnkgLSBheSwgclNpdGUgPSByQXJjLnNpdGUsIGN4ID0gclNpdGUueCAtIGF4LCBjeSA9IHJTaXRlLnkgLSBheSwgZCA9IDIgKiAoYnggKiBjeSAtIGJ5ICogY3gpLCBoYiA9IGJ4ICogYnggKyBieSAqIGJ5LCBoYyA9IGN4ICogY3ggKyBjeSAqIGN5LCB2ZXJ0ZXggPSB0aGlzLmNyZWF0ZVZlcnRleCgoY3kgKiBoYiAtIGJ5ICogaGMpIC8gZCArIGF4LCAoYnggKiBoYyAtIGN4ICogaGIpIC8gZCArIGF5KTtcbiAgICAgICAgICAgIHRoaXMuc2V0RWRnZVN0YXJ0cG9pbnQockFyYy5lZGdlLCBsU2l0ZSwgclNpdGUsIHZlcnRleCk7XG4gICAgICAgICAgICBuZXdBcmMuZWRnZSA9IHRoaXMuY3JlYXRlRWRnZShsU2l0ZSwgc2l0ZSwgdW5kZWZpbmVkLCB2ZXJ0ZXgpO1xuICAgICAgICAgICAgckFyYy5lZGdlID0gdGhpcy5jcmVhdGVFZGdlKHNpdGUsIHJTaXRlLCB1bmRlZmluZWQsIHZlcnRleCk7XG4gICAgICAgICAgICB0aGlzLmF0dGFjaENpcmNsZUV2ZW50KGxBcmMpO1xuICAgICAgICAgICAgdGhpcy5hdHRhY2hDaXJjbGVFdmVudChyQXJjKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVm9yb25vaS5wcm90b3R5cGUuYXR0YWNoQ2lyY2xlRXZlbnQgPSBmdW5jdGlvbiAoYXJjKSB7XG4gICAgICAgIHZhciBsQXJjID0gYXJjLnByZXYsIHJBcmMgPSBhcmMubmV4dDtcbiAgICAgICAgaWYgKCFsQXJjIHx8ICFyQXJjKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxTaXRlID0gbEFyYy5zaXRlLCBjU2l0ZSA9IGFyYy5zaXRlLCByU2l0ZSA9IHJBcmMuc2l0ZTtcbiAgICAgICAgaWYgKGxTaXRlID09PSByU2l0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBieCA9IGNTaXRlLngsIGJ5ID0gY1NpdGUueSwgYXggPSBsU2l0ZS54IC0gYngsIGF5ID0gbFNpdGUueSAtIGJ5LCBjeCA9IHJTaXRlLnggLSBieCwgY3kgPSByU2l0ZS55IC0gYnk7XG4gICAgICAgIHZhciBkID0gMiAqIChheCAqIGN5IC0gYXkgKiBjeCk7XG4gICAgICAgIGlmIChkID49IC0yZS0xMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoYSA9IGF4ICogYXggKyBheSAqIGF5LCBoYyA9IGN4ICogY3ggKyBjeSAqIGN5LCB4ID0gKGN5ICogaGEgLSBheSAqIGhjKSAvIGQsIHkgPSAoYXggKiBoYyAtIGN4ICogaGEpIC8gZCwgeWNlbnRlciA9IHkgKyBieTtcbiAgICAgICAgdmFyIGNpcmNsZUV2ZW50ID0gdGhpcy5jaXJjbGVFdmVudEp1bmt5YXJkLnBvcCgpO1xuICAgICAgICBpZiAoIWNpcmNsZUV2ZW50KSB7XG4gICAgICAgICAgICBjaXJjbGVFdmVudCA9IG5ldyByYnRyZWVfMS5SQlRyZWVOb2RlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2lyY2xlRXZlbnQuYXJjID0gYXJjO1xuICAgICAgICBjaXJjbGVFdmVudC5zaXRlID0gY1NpdGU7XG4gICAgICAgIGNpcmNsZUV2ZW50LnggPSB4ICsgYng7XG4gICAgICAgIGNpcmNsZUV2ZW50LnkgPSB5Y2VudGVyICsgdGhpcy5zcXJ0KHggKiB4ICsgeSAqIHkpO1xuICAgICAgICBjaXJjbGVFdmVudC55Y2VudGVyID0geWNlbnRlcjtcbiAgICAgICAgYXJjLmNpcmNsZUV2ZW50ID0gY2lyY2xlRXZlbnQ7XG4gICAgICAgIHZhciBwcmVkZWNlc3NvciA9IG51bGwsIG5vZGUgPSB0aGlzLmNpcmNsZUV2ZW50cy5yb290O1xuICAgICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICAgICAgaWYgKGNpcmNsZUV2ZW50LnkgPCBub2RlLnkgfHwgKGNpcmNsZUV2ZW50LnkgPT09IG5vZGUueSAmJiBjaXJjbGVFdmVudC54IDw9IG5vZGUueCkpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5sZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcmVkZWNlc3NvciA9IG5vZGUucHJldjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUucmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcmVkZWNlc3NvciA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNpcmNsZUV2ZW50cy5pbnNlcnRTdWNjZXNzb3IocHJlZGVjZXNzb3IsIGNpcmNsZUV2ZW50KTtcbiAgICAgICAgaWYgKCFwcmVkZWNlc3Nvcikge1xuICAgICAgICAgICAgdGhpcy5maXJzdENpcmNsZUV2ZW50ID0gY2lyY2xlRXZlbnQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZvcm9ub2kucHJvdG90eXBlLmRldGFjaENpcmNsZUV2ZW50ID0gZnVuY3Rpb24gKGFyYykge1xuICAgICAgICB2YXIgY2lyY2xlRXZlbnQgPSBhcmMuY2lyY2xlRXZlbnQ7XG4gICAgICAgIGlmIChjaXJjbGVFdmVudCkge1xuICAgICAgICAgICAgaWYgKCFjaXJjbGVFdmVudC5wcmV2KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdENpcmNsZUV2ZW50ID0gY2lyY2xlRXZlbnQubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2lyY2xlRXZlbnRzLnJlbW92ZU5vZGUoY2lyY2xlRXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5jaXJjbGVFdmVudEp1bmt5YXJkLnB1c2goY2lyY2xlRXZlbnQpO1xuICAgICAgICAgICAgYXJjLmNpcmNsZUV2ZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVm9yb25vaS5wcm90b3R5cGUuY29ubmVjdEVkZ2UgPSBmdW5jdGlvbiAoZWRnZSwgYmJveCkge1xuICAgICAgICB2YXIgdmIgPSBlZGdlLnZiO1xuICAgICAgICBpZiAoISF2Yikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhID0gZWRnZS52YSwgeGwgPSBiYm94LnhsLCB4ciA9IGJib3gueHIsIHl0ID0gYmJveC55dCwgeWIgPSBiYm94LnliLCBsU2l0ZSA9IGVkZ2UubFNpdGUsIHJTaXRlID0gZWRnZS5yU2l0ZSwgbHggPSBsU2l0ZS54LCBseSA9IGxTaXRlLnksIHJ4ID0gclNpdGUueCwgcnkgPSByU2l0ZS55LCBmeCA9IChseCArIHJ4KSAvIDIsIGZ5ID0gKGx5ICsgcnkpIC8gMiwgZm0sIGZiO1xuICAgICAgICB0aGlzLmNlbGxzW2xTaXRlLmlkXS5jbG9zZU1lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jZWxsc1tyU2l0ZS5pZF0uY2xvc2VNZSA9IHRydWU7XG4gICAgICAgIGlmIChyeSAhPT0gbHkpIHtcbiAgICAgICAgICAgIGZtID0gKGx4IC0gcngpIC8gKHJ5IC0gbHkpO1xuICAgICAgICAgICAgZmIgPSBmeSAtIGZtICogZng7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZtID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChmeCA8IHhsIHx8IGZ4ID49IHhyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGx4ID4gcngpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXZhIHx8IHZhLnkgPCB5dCkge1xuICAgICAgICAgICAgICAgICAgICB2YSA9IHRoaXMuY3JlYXRlVmVydGV4KGZ4LCB5dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhLnkgPj0geWIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YiA9IHRoaXMuY3JlYXRlVmVydGV4KGZ4LCB5Yik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIXZhIHx8IHZhLnkgPiB5Yikge1xuICAgICAgICAgICAgICAgICAgICB2YSA9IHRoaXMuY3JlYXRlVmVydGV4KGZ4LCB5Yik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhLnkgPCB5dCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZiID0gdGhpcy5jcmVhdGVWZXJ0ZXgoZngsIHl0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmbSA8IC0xIHx8IGZtID4gMSkge1xuICAgICAgICAgICAgaWYgKGx4ID4gcngpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXZhIHx8IHZhLnkgPCB5dCkge1xuICAgICAgICAgICAgICAgICAgICB2YSA9IHRoaXMuY3JlYXRlVmVydGV4KCh5dCAtIGZiKSAvIGZtLCB5dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhLnkgPj0geWIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YiA9IHRoaXMuY3JlYXRlVmVydGV4KCh5YiAtIGZiKSAvIGZtLCB5Yik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIXZhIHx8IHZhLnkgPiB5Yikge1xuICAgICAgICAgICAgICAgICAgICB2YSA9IHRoaXMuY3JlYXRlVmVydGV4KCh5YiAtIGZiKSAvIGZtLCB5Yik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhLnkgPCB5dCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZiID0gdGhpcy5jcmVhdGVWZXJ0ZXgoKHl0IC0gZmIpIC8gZm0sIHl0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChseSA8IHJ5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2YSB8fCB2YS54IDwgeGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmEgPSB0aGlzLmNyZWF0ZVZlcnRleCh4bCwgZm0gKiB4bCArIGZiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmEueCA+PSB4cikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZiID0gdGhpcy5jcmVhdGVWZXJ0ZXgoeHIsIGZtICogeHIgKyBmYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIXZhIHx8IHZhLnggPiB4cikge1xuICAgICAgICAgICAgICAgICAgICB2YSA9IHRoaXMuY3JlYXRlVmVydGV4KHhyLCBmbSAqIHhyICsgZmIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YS54IDwgeGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YiA9IHRoaXMuY3JlYXRlVmVydGV4KHhsLCBmbSAqIHhsICsgZmIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVkZ2UudmEgPSB2YTtcbiAgICAgICAgZWRnZS52YiA9IHZiO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFZvcm9ub2kucHJvdG90eXBlLmNsaXBFZGdlID0gZnVuY3Rpb24gKGVkZ2UsIGJib3gpIHtcbiAgICAgICAgdmFyIGF4ID0gZWRnZS52YS54LCBheSA9IGVkZ2UudmEueSwgYnggPSBlZGdlLnZiLngsIGJ5ID0gZWRnZS52Yi55LCB0MCA9IDAsIHQxID0gMSwgZHggPSBieCAtIGF4LCBkeSA9IGJ5IC0gYXk7XG4gICAgICAgIHZhciBxID0gYXggLSBiYm94LnhsO1xuICAgICAgICBpZiAoZHggPT09IDAgJiYgcSA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgciA9IC1xIC8gZHg7XG4gICAgICAgIGlmIChkeCA8IDApIHtcbiAgICAgICAgICAgIGlmIChyIDwgdDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAociA8IHQxKSB7XG4gICAgICAgICAgICAgICAgdDEgPSByO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGR4ID4gMCkge1xuICAgICAgICAgICAgaWYgKHIgPiB0MSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyID4gdDApIHtcbiAgICAgICAgICAgICAgICB0MCA9IHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcSA9IGJib3gueHIgLSBheDtcbiAgICAgICAgaWYgKGR4ID09PSAwICYmIHEgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgciA9IHEgLyBkeDtcbiAgICAgICAgaWYgKGR4IDwgMCkge1xuICAgICAgICAgICAgaWYgKHIgPiB0MSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyID4gdDApIHtcbiAgICAgICAgICAgICAgICB0MCA9IHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgICBpZiAociA8IHQwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHIgPCB0MSkge1xuICAgICAgICAgICAgICAgIHQxID0gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxID0gYXkgLSBiYm94Lnl0O1xuICAgICAgICBpZiAoZHkgPT09IDAgJiYgcSA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByID0gLXEgLyBkeTtcbiAgICAgICAgaWYgKGR5IDwgMCkge1xuICAgICAgICAgICAgaWYgKHIgPCB0MCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyIDwgdDEpIHtcbiAgICAgICAgICAgICAgICB0MSA9IHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHkgPiAwKSB7XG4gICAgICAgICAgICBpZiAociA+IHQxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHIgPiB0MCkge1xuICAgICAgICAgICAgICAgIHQwID0gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxID0gYmJveC55YiAtIGF5O1xuICAgICAgICBpZiAoZHkgPT09IDAgJiYgcSA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByID0gcSAvIGR5O1xuICAgICAgICBpZiAoZHkgPCAwKSB7XG4gICAgICAgICAgICBpZiAociA+IHQxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHIgPiB0MCkge1xuICAgICAgICAgICAgICAgIHQwID0gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkeSA+IDApIHtcbiAgICAgICAgICAgIGlmIChyIDwgdDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAociA8IHQxKSB7XG4gICAgICAgICAgICAgICAgdDEgPSByO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0MCA+IDApIHtcbiAgICAgICAgICAgIGVkZ2UudmEgPSB0aGlzLmNyZWF0ZVZlcnRleChheCArIHQwICogZHgsIGF5ICsgdDAgKiBkeSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHQxIDwgMSkge1xuICAgICAgICAgICAgZWRnZS52YiA9IHRoaXMuY3JlYXRlVmVydGV4KGF4ICsgdDEgKiBkeCwgYXkgKyB0MSAqIGR5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodDAgPiAwIHx8IHQxIDwgMSkge1xuICAgICAgICAgICAgdGhpcy5jZWxsc1tlZGdlLmxTaXRlLmlkXS5jbG9zZU1lID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY2VsbHNbZWRnZS5yU2l0ZS5pZF0uY2xvc2VNZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBWb3Jvbm9pLnByb3RvdHlwZS5jbGlwRWRnZXMgPSBmdW5jdGlvbiAoYmJveCkge1xuICAgICAgICB2YXIgZWRnZXMgPSB0aGlzLmVkZ2VzLCBpRWRnZSA9IGVkZ2VzLmxlbmd0aCwgZWRnZSwgYWJzX2ZuID0gTWF0aC5hYnM7XG4gICAgICAgIHdoaWxlIChpRWRnZS0tKSB7XG4gICAgICAgICAgICBlZGdlID0gZWRnZXNbaUVkZ2VdO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3RFZGdlKGVkZ2UsIGJib3gpIHx8XG4gICAgICAgICAgICAgICAgIXRoaXMuY2xpcEVkZ2UoZWRnZSwgYmJveCkgfHxcbiAgICAgICAgICAgICAgICAoYWJzX2ZuKGVkZ2UudmEueCAtIGVkZ2UudmIueCkgPCB0aGlzLmVwcygpICYmIGFic19mbihlZGdlLnZhLnkgLSBlZGdlLnZiLnkpIDwgdGhpcy5lcHMoKSkpIHtcbiAgICAgICAgICAgICAgICBlZGdlLnZhID0gZWRnZS52YiA9IG51bGw7XG4gICAgICAgICAgICAgICAgZWRnZXMuc3BsaWNlKGlFZGdlLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVm9yb25vaS5wcm90b3R5cGUuY2xvc2VDZWxscyA9IGZ1bmN0aW9uIChiYm94KSB7XG4gICAgICAgIHZhciB4bCA9IGJib3gueGwsIHhyID0gYmJveC54ciwgeXQgPSBiYm94Lnl0LCB5YiA9IGJib3gueWIsIGNlbGxzID0gdGhpcy5jZWxscywgaUNlbGwgPSBjZWxscy5sZW5ndGgsIGNlbGwsIGlMZWZ0LCBoYWxmZWRnZXMsIG5IYWxmZWRnZXMsIGVkZ2UsIHZhLCB2YiwgdnosIGxhc3RCb3JkZXJTZWdtZW50LCBhYnNfZm4gPSBNYXRoLmFicztcbiAgICAgICAgd2hpbGUgKGlDZWxsLS0pIHtcbiAgICAgICAgICAgIGNlbGwgPSBjZWxsc1tpQ2VsbF07XG4gICAgICAgICAgICBpZiAoIWNlbGwucHJlcGFyZUhhbGZlZGdlcygpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWNlbGwuY2xvc2VNZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFsZmVkZ2VzID0gY2VsbC5oYWxmZWRnZXM7XG4gICAgICAgICAgICBuSGFsZmVkZ2VzID0gaGFsZmVkZ2VzLmxlbmd0aDtcbiAgICAgICAgICAgIGlMZWZ0ID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChpTGVmdCA8IG5IYWxmZWRnZXMpIHtcbiAgICAgICAgICAgICAgICB2YSA9IGhhbGZlZGdlc1tpTGVmdF0uZ2V0RW5kcG9pbnQoKTtcbiAgICAgICAgICAgICAgICB2eiA9IGhhbGZlZGdlc1soaUxlZnQgKyAxKSAlIG5IYWxmZWRnZXNdLmdldFN0YXJ0cG9pbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAoYWJzX2ZuKHZhLnggLSB2ei54KSA+PSB0aGlzLmVwcygpIHx8IGFic19mbih2YS55IC0gdnoueSkgPj0gdGhpcy5lcHMoKSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5lcXVhbFdpdGhFcHNpbG9uKHZhLngsIHhsKSAmJiB0aGlzLmxlc3NUaGFuV2l0aEVwc2lsb24odmEueSwgeWIpOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RCb3JkZXJTZWdtZW50ID0gdGhpcy5lcXVhbFdpdGhFcHNpbG9uKHZ6LngsIHhsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YiA9IHRoaXMuY3JlYXRlVmVydGV4KHhsLCBsYXN0Qm9yZGVyU2VnbWVudCA/IHZ6LnkgOiB5Yik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRnZSA9IHRoaXMuY3JlYXRlQm9yZGVyRWRnZShjZWxsLnNpdGUsIHZhLCB2Yik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaUxlZnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYWxmZWRnZXMuc3BsaWNlKGlMZWZ0LCAwLCB0aGlzLmNyZWF0ZUhhbGZlZGdlKGVkZ2UsIGNlbGwuc2l0ZSwgbnVsbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5IYWxmZWRnZXMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdEJvcmRlclNlZ21lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhID0gdmI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHRoaXMuZXF1YWxXaXRoRXBzaWxvbih2YS55LCB5YikgJiYgdGhpcy5sZXNzVGhhbldpdGhFcHNpbG9uKHZhLngsIHhyKTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0Qm9yZGVyU2VnbWVudCA9IHRoaXMuZXF1YWxXaXRoRXBzaWxvbih2ei55LCB5Yik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmIgPSB0aGlzLmNyZWF0ZVZlcnRleChsYXN0Qm9yZGVyU2VnbWVudCA/IHZ6LnggOiB4ciwgeWIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2UgPSB0aGlzLmNyZWF0ZUJvcmRlckVkZ2UoY2VsbC5zaXRlLCB2YSwgdmIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlMZWZ0Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFsZmVkZ2VzLnNwbGljZShpTGVmdCwgMCwgdGhpcy5jcmVhdGVIYWxmZWRnZShlZGdlLCBjZWxsLnNpdGUsIG51bGwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuSGFsZmVkZ2VzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RCb3JkZXJTZWdtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YSA9IHZiO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSB0aGlzLmVxdWFsV2l0aEVwc2lsb24odmEueCwgeHIpICYmIHRoaXMuZ3JlYXRlclRoYW5XaXRoRXBzaWxvbih2YS55LCB5dCk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEJvcmRlclNlZ21lbnQgPSB0aGlzLmVxdWFsV2l0aEVwc2lsb24odnoueCwgeHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZiID0gdGhpcy5jcmVhdGVWZXJ0ZXgoeHIsIGxhc3RCb3JkZXJTZWdtZW50ID8gdnoueSA6IHl0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGdlID0gdGhpcy5jcmVhdGVCb3JkZXJFZGdlKGNlbGwuc2l0ZSwgdmEsIHZiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpTGVmdCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbGZlZGdlcy5zcGxpY2UoaUxlZnQsIDAsIHRoaXMuY3JlYXRlSGFsZmVkZ2UoZWRnZSwgY2VsbC5zaXRlLCBudWxsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbkhhbGZlZGdlcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0Qm9yZGVyU2VnbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmEgPSB2YjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5lcXVhbFdpdGhFcHNpbG9uKHZhLnksIHl0KSAmJiB0aGlzLmdyZWF0ZXJUaGFuV2l0aEVwc2lsb24odmEueCwgeGwpOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RCb3JkZXJTZWdtZW50ID0gdGhpcy5lcXVhbFdpdGhFcHNpbG9uKHZ6LnksIHl0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YiA9IHRoaXMuY3JlYXRlVmVydGV4KGxhc3RCb3JkZXJTZWdtZW50ID8gdnoueCA6IHhsLCB5dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRnZSA9IHRoaXMuY3JlYXRlQm9yZGVyRWRnZShjZWxsLnNpdGUsIHZhLCB2Yik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaUxlZnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYWxmZWRnZXMuc3BsaWNlKGlMZWZ0LCAwLCB0aGlzLmNyZWF0ZUhhbGZlZGdlKGVkZ2UsIGNlbGwuc2l0ZSwgbnVsbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5IYWxmZWRnZXMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdEJvcmRlclNlZ21lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhID0gdmI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEJvcmRlclNlZ21lbnQgPSB0aGlzLmVxdWFsV2l0aEVwc2lsb24odnoueCwgeGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZiID0gdGhpcy5jcmVhdGVWZXJ0ZXgoeGwsIGxhc3RCb3JkZXJTZWdtZW50ID8gdnoueSA6IHliKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGdlID0gdGhpcy5jcmVhdGVCb3JkZXJFZGdlKGNlbGwuc2l0ZSwgdmEsIHZiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpTGVmdCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbGZlZGdlcy5zcGxpY2UoaUxlZnQsIDAsIHRoaXMuY3JlYXRlSGFsZmVkZ2UoZWRnZSwgY2VsbC5zaXRlLCBudWxsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbkhhbGZlZGdlcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0Qm9yZGVyU2VnbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmEgPSB2YjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0Qm9yZGVyU2VnbWVudCA9IHRoaXMuZXF1YWxXaXRoRXBzaWxvbih2ei55LCB5Yik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmIgPSB0aGlzLmNyZWF0ZVZlcnRleChsYXN0Qm9yZGVyU2VnbWVudCA/IHZ6LnggOiB4ciwgeWIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2UgPSB0aGlzLmNyZWF0ZUJvcmRlckVkZ2UoY2VsbC5zaXRlLCB2YSwgdmIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlMZWZ0Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFsZmVkZ2VzLnNwbGljZShpTGVmdCwgMCwgdGhpcy5jcmVhdGVIYWxmZWRnZShlZGdlLCBjZWxsLnNpdGUsIG51bGwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuSGFsZmVkZ2VzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RCb3JkZXJTZWdtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YSA9IHZiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RCb3JkZXJTZWdtZW50ID0gdGhpcy5lcXVhbFdpdGhFcHNpbG9uKHZ6LngsIHhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YiA9IHRoaXMuY3JlYXRlVmVydGV4KHhyLCBsYXN0Qm9yZGVyU2VnbWVudCA/IHZ6LnkgOiB5dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRnZSA9IHRoaXMuY3JlYXRlQm9yZGVyRWRnZShjZWxsLnNpdGUsIHZhLCB2Yik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaUxlZnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYWxmZWRnZXMuc3BsaWNlKGlMZWZ0LCAwLCB0aGlzLmNyZWF0ZUhhbGZlZGdlKGVkZ2UsIGNlbGwuc2l0ZSwgbnVsbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5IYWxmZWRnZXMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdEJvcmRlclNlZ21lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIlZvcm9ub2kuY2xvc2VDZWxscygpID4gdGhpcyBtYWtlcyBubyBzZW5zZSFcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpTGVmdCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2VsbC5jbG9zZU1lID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBWb3Jvbm9pO1xufSgpKTtcbmV4cG9ydHMuVm9yb25vaSA9IFZvcm9ub2k7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12b3Jvbm9pLmpzLm1hcCIsImltcG9ydCAqIGFzIHBrZyBmcm9tIFwidm9yb25vaWpzXCI7XG5leHBvcnQgY29uc3QgY2FsY1Zvcm9ub2kgPSAocG9pbnRzKSA9PiB7XG4gICAgY29uc3Qgdm9yb25vaSA9IG5ldyBwa2cuVm9yb25vaSgpO1xuICAgIGxldCBtaW5feCA9IDA7XG4gICAgbGV0IG1heF94ID0gMDtcbiAgICBsZXQgbWluX3kgPSAwO1xuICAgIGxldCBtYXhfeSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICBpZiAocG9pbnQueCA8IG1pbl94KVxuICAgICAgICAgICAgbWluX3ggPSBwb2ludC54O1xuICAgICAgICBpZiAocG9pbnQueCA+IG1heF94KVxuICAgICAgICAgICAgbWF4X3ggPSBwb2ludC54O1xuICAgICAgICBpZiAocG9pbnQueSA8IG1pbl95KVxuICAgICAgICAgICAgbWluX3kgPSBwb2ludC55O1xuICAgICAgICBpZiAocG9pbnQueSA+IG1heF95KVxuICAgICAgICAgICAgbWF4X3kgPSBwb2ludC55O1xuICAgIH1cbiAgICBsZXQgYmJveCA9IHsgeGw6IG1pbl94LCB4cjogbWF4X3gsIHl0OiBtaW5feSwgeWI6IG1heF95IH07XG4gICAgcmV0dXJuIHZvcm9ub2kuY29tcHV0ZShwb2ludHMsIGJib3gpO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBzaGFwZUZyb21FZGdlcyhlZGdlcykge1xuICAgIGlmICghZWRnZXMgfHwgZWRnZXMubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgY29uc3QgZmlyc3RfZWRnZSA9IGVkZ2VzLnNoaWZ0KCk7XG4gICAgbGV0IHN0YXJ0ID0gZmlyc3RfZWRnZS5nZXRTdGFydHBvaW50KCk7XG4gICAgbGV0IGVuZCA9IGZpcnN0X2VkZ2UuZ2V0RW5kcG9pbnQoKTtcbiAgICByZXN1bHQucHVzaChgTSAke3N0YXJ0Lnh9ICR7c3RhcnQueX1gKTtcbiAgICByZXN1bHQucHVzaChgTCAke2VuZC54fSAke2VuZC55fWApO1xuICAgIGZvciAobGV0IGVkZ2Ugb2YgZWRnZXMpIHtcbiAgICAgICAgbGV0IGVuZCA9IGVkZ2UuZ2V0RW5kcG9pbnQoKTtcbiAgICAgICAgcmVzdWx0LnB1c2goYEwgJHtlbmQueH0gJHtlbmQueX1gKTtcbiAgICB9XG4gICAgcmVzdWx0LnB1c2goXCJaXCIpO1xuICAgIHJldHVybiByZXN1bHQuam9pbihcIiBcIik7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gaGVtaWN5Y2xlKHJhZGl1cywgcm93cywgcG9pbnRzLCBhbmdsZSkge1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBsZXQgdG90YWxBcmNMZW5ndGggPSAwO1xuICAgIC8vIENhbGN1bGF0ZSB0aGUgdG90YWwgYXJjIGxlbmd0aFxuICAgIGZvciAobGV0IGkgPSByb3dzOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCByID0gcmFkaXVzIC0gaSAqIHJhZGl1cyAvIHJvd3M7XG4gICAgICAgIGNvbnN0IGFyY0xlbmd0aCA9IGFuZ2xlIC8gMTgwICogTWF0aC5QSSAqIHI7XG4gICAgICAgIHRvdGFsQXJjTGVuZ3RoICs9IGFyY0xlbmd0aDtcbiAgICB9XG4gICAgY29uc3QgZGlzdGFuY2VCZXR3ZWVuUG9pbnRzID0gdG90YWxBcmNMZW5ndGggLyBwb2ludHM7XG4gICAgLy8gY29uc29sZS5sb2coe3RvdGFsQXJjTGVuZ3RoLCBkaXN0YW5jZUJldHdlZW5Qb2ludHN9KVxuICAgIGxldCB0b3RhbF9wb2ludHMgPSAwO1xuICAgIC8vIENhbGN1bGF0ZSB0aGUgcG9pbnRzXG4gICAgbGV0IGEgPSAwO1xuICAgIGZvciAobGV0IGkgPSByb3dzOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCByID0gcmFkaXVzIC0gaSAqIHJhZGl1cyAvIHJvd3M7XG4gICAgICAgIGNvbnN0IGFyY0xlbmd0aCA9IGFuZ2xlIC8gMTgwICogTWF0aC5QSSAqIHI7XG4gICAgICAgIGxldCBwb2ludHNJbkFyYyA9IE1hdGguY2VpbChhcmNMZW5ndGggLyBkaXN0YW5jZUJldHdlZW5Qb2ludHMpO1xuICAgICAgICBpZiAodG90YWxfcG9pbnRzICsgcG9pbnRzSW5BcmMgPiBwb2ludHMpIHtcbiAgICAgICAgICAgIHBvaW50c0luQXJjID0gcG9pbnRzIC0gdG90YWxfcG9pbnRzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvY2FsRGlzdGFuY2VCZXR3ZWVuUG9pbnRzID0gYXJjTGVuZ3RoIC8gcG9pbnRzSW5BcmM7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IChhbmdsZSAtIDE4MCkgLyAxODAgKiBNYXRoLlBJIC8gMjtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwb2ludHNJbkFyYzsgaisrKSB7XG4gICAgICAgICAgICB0b3RhbF9wb2ludHMrKztcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gKGogKiBsb2NhbERpc3RhbmNlQmV0d2VlblBvaW50cyAvIHIpICsgKGxvY2FsRGlzdGFuY2VCZXR3ZWVuUG9pbnRzIC8gciAvIDIpO1xuICAgICAgICAgICAgY29uc3QgeCA9IC1yICogTWF0aC5jb3MoYW5nbGUgLSBvZmZzZXQpO1xuICAgICAgICAgICAgY29uc3QgeSA9IC1yICogTWF0aC5zaW4oYW5nbGUgLSBvZmZzZXQpO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBpZDogaSwgeCwgeSwgYSwgYW5nbGUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYSsrO1xuICAgIH1cbiAgICByZXN1bHQuc29ydCgoYSwgYikgPT4gYS5hbmdsZSAtIGIuYW5nbGUpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4iLCI8c2NyaXB0PmltcG9ydCB7IGNhbGNWb3Jvbm9pLCBzaGFwZUZyb21FZGdlcyB9IGZyb20gXCIuL2xpYnMvdm9yb25vaVwiO1xuaW1wb3J0IHsgaGVtaWN5Y2xlIH0gZnJvbSBcIi4vbGlicy9oZW1pY3ljbGVcIjtcbmV4cG9ydCBsZXQgZGF0YSA9IFtdO1xuZXhwb3J0IGxldCByID0gMzAwO1xuZXhwb3J0IGxldCByb3dzID0gMTI7XG5leHBvcnQgbGV0IGRvdHNpemUgPSA1O1xuZXhwb3J0IGxldCBwYWRkaW5nID0gMTA7XG5leHBvcnQgbGV0IHRvdGFsX3NlYXRzO1xuZXhwb3J0IGxldCBjb2xvciA9IFwid2hpdGVcIjtcbmV4cG9ydCBsZXQgZm9udF9zaXplID0gMTI7XG5leHBvcnQgbGV0IGFyYyA9IDE4MDtcbmV4cG9ydCBsZXQgdGV4dF9wb3NpdGlvbiA9IG51bGw7XG5leHBvcnQgbGV0IHNlbGVjdGVkU2hhcGUgPSBcImNpcmNsZVwiO1xuZXhwb3J0IGxldCBkaXNwbGF5ID0gW1wicG9pbnRzXCIsIFwidGV4dFwiXTtcbmV4cG9ydCBsZXQgY3VycmVudF9wYXJ0eSA9IG51bGw7XG5sZXQgdG90YWxfb2NjdXBpZWRfc2VhdHMgPSAwO1xubGV0IHBvaW50cyA9IFtdO1xubGV0IHZvcm9ub2kgPSBudWxsO1xubGV0IGNsaWNrZWQgPSBmYWxzZTtcbmxldCB0b3BfcGFkZGluZyA9IDA7XG5sZXQgYm90dG9tX3BhZGRpbmcgPSAwO1xubGV0IGxlZnRfcGFkZGluZyA9IDA7XG5sZXQgcmlnaHRfcGFkZGluZyA9IDA7XG5sZXQgc3ZnV2lkdGggPSAwO1xubGV0IHN2Z0hlaWdodCA9IDA7XG5sZXQgaGV4YWdvblNoYXBlID0gXCJNODYuNjAyNTQwMzc4NDQzODYgMTJMMTczLjIwNTA4MDc1Njg4NzcyIDUwTDE3My4yMDUwODA3NTY4ODc3MiAxNTBMODYuNjAyNTQwMzc4NDQzODYgMjAwTDAgMTUwTDAgNTBaXCI7XG4kOiB7XG4gIGlmIChhcmMgPCAxMClcbiAgICBhcmMgPSAxMDtcbiAgaWYgKGFyYyA+IDM2MClcbiAgICBhcmMgPSAzNjA7XG4gIGNhbGNQYWRkaW5nKCk7XG4gIGRhdGEuc29ydCgoYSwgYikgPT4gYi5jb3VudCAtIGEuY291bnQpO1xuICB0b3RhbF9vY2N1cGllZF9zZWF0cyA9IGRhdGEucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjICsgY3VyLmNvdW50LCAwKTtcbiAgcG9pbnRzID0gaGVtaWN5Y2xlKHIsIHJvd3MsIHRvdGFsX3NlYXRzLCBhcmMpO1xuICBsZXQgeCA9IDA7XG4gIGZvciAobGV0IGkgaW4gZGF0YSkge1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgZGF0YVtpXS5jb3VudDsgaisrKSB7XG4gICAgICBwb2ludHNbeF0uZGF0YSA9IGRhdGFbaV07XG4gICAgICB4Kys7XG4gICAgfVxuICB9XG4gIHZvcm9ub2kgPSBjYWxjVm9yb25vaShwb2ludHMpO1xuICBzdmdXaWR0aCA9IHIgKiAyICsgbGVmdF9wYWRkaW5nICsgcmlnaHRfcGFkZGluZztcbiAgc3ZnSGVpZ2h0ID0gciAqIDIgKyB0b3BfcGFkZGluZyArIGJvdHRvbV9wYWRkaW5nO1xufVxuZnVuY3Rpb24gY2FsY1BhZGRpbmcoKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHBhZGRpbmcpKSB7XG4gICAgaWYgKHBhZGRpbmcubGVuZ3RoID09PSAyKSB7XG4gICAgICB0b3BfcGFkZGluZyA9IHBhZGRpbmdbMF07XG4gICAgICBib3R0b21fcGFkZGluZyA9IHBhZGRpbmdbMF07XG4gICAgICBsZWZ0X3BhZGRpbmcgPSBwYWRkaW5nWzFdO1xuICAgICAgcmlnaHRfcGFkZGluZyA9IHBhZGRpbmdbMV07XG4gICAgfSBlbHNlIGlmIChwYWRkaW5nLmxlbmd0aCA9PT0gNCkge1xuICAgICAgdG9wX3BhZGRpbmcgPSBwYWRkaW5nWzBdO1xuICAgICAgYm90dG9tX3BhZGRpbmcgPSBwYWRkaW5nWzFdO1xuICAgICAgbGVmdF9wYWRkaW5nID0gcGFkZGluZ1syXTtcbiAgICAgIHJpZ2h0X3BhZGRpbmcgPSBwYWRkaW5nWzNdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0b3BfcGFkZGluZyA9IHBhZGRpbmc7XG4gICAgYm90dG9tX3BhZGRpbmcgPSBwYWRkaW5nO1xuICAgIGxlZnRfcGFkZGluZyA9IHBhZGRpbmc7XG4gICAgcmlnaHRfcGFkZGluZyA9IHBhZGRpbmc7XG4gIH1cbn1cbmZ1bmN0aW9uIHNlbGVjdFBhcnR5KHBvaW50KSB7XG4gIGlmIChwb2ludC5kYXRhICYmICFjbGlja2VkKVxuICAgIGN1cnJlbnRfcGFydHkgPSBwb2ludC5kYXRhO1xufVxuZnVuY3Rpb24gY2xpY2tQYXJ0eShwb2ludCkge1xuICBpZiAoIXBvaW50LmRhdGEpXG4gICAgcmV0dXJuO1xuICBpZiAoIWN1cnJlbnRfcGFydHkpIHtcbiAgICBjdXJyZW50X3BhcnR5ID0gcG9pbnQuZGF0YTtcbiAgICBjbGlja2VkID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChjbGlja2VkICYmIGN1cnJlbnRfcGFydHkuaWQgPT09IHBvaW50LmRhdGEuaWQpIHtcbiAgICBjdXJyZW50X3BhcnR5ID0gbnVsbDtcbiAgICBjbGlja2VkID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgY3VycmVudF9wYXJ0eSA9IHBvaW50LmRhdGE7XG4gICAgY2xpY2tlZCA9IHRydWU7XG4gIH1cbn1cbmZ1bmN0aW9uIHVuc2VsZWN0UGFydHkoKSB7XG4gIGlmICghY2xpY2tlZClcbiAgICBjdXJyZW50X3BhcnR5ID0gbnVsbDtcbn1cbjwvc2NyaXB0PlxuXG48bWFpbj5cbiAgICA8c3ZnIHdpZHRoPXtzdmdXaWR0aH0gaGVpZ2h0PXtzdmdIZWlnaHR9PlxuICAgICAgICA8ZyBpZD1cImFyY3NcIiB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHtyICsgKGxlZnRfcGFkZGluZyl9LCAke3IgKyAodG9wX3BhZGRpbmcpfSlgfSBjbGFzczpoaWRlPXshZGlzcGxheS5pbmNsdWRlcyhcImFyY3NcIil9PlxuICAgICAgICAgICAgeyNlYWNoIEFycmF5KHJvd3MpIGFzIF8sIGl9XG4gICAgICAgICAgICAgICAgPCEtLSBEcmF3IGEgc2VtaWNpcmNsZSBmb3IgZWFjaCByb3cgLS0+XG4gICAgICAgICAgICAgICAgPHBhdGggZD17YE0gJHtyIC0gKGkgKiAociAvIHJvd3MpKX0sMCBBICR7ciAtIChpICogKHIgLyByb3dzKSl9LCR7ciAtIChpICogKHIgLyByb3dzKSl9IDAgMCwwICR7LShyIC0gKGkgKiAociAvIHJvd3MpKSl9LDBgfSBmaWxsPVwidHJhbnNwYXJlbnRcIiBzdHJva2U9XCJ3aGl0ZVwiIHN0cm9rZS13aWR0aD1cIjFcIiBvcGFjaXR5PVwiMC40XCIgLz5cbiAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgPC9nPlxuICAgICAgICA8ZyBpZD1cInBvaW50c1wiIHRyYW5zZm9ybT17YHRyYW5zbGF0ZSgke3IgKyAobGVmdF9wYWRkaW5nKX0sICR7ciArICh0b3BfcGFkZGluZyl9KWB9IGNsYXNzOmhpZGU9eyFkaXNwbGF5LmluY2x1ZGVzKFwicG9pbnRzXCIpfT5cbiAgICAgICAgICAgIHsjZWFjaCBwb2ludHMgYXMgcG9pbnR9XG4gICAgICAgICAgICAgICAgeyNpZiBzZWxlY3RlZFNoYXBlID09PSAnaGV4YWdvbid9XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICBkPXtoZXhhZ29uU2hhcGV9XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHtwb2ludC54fSwke3BvaW50Lnl9KSByb3RhdGUoLTUpIHNjYWxlKDAuMDcpYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtcGFydHk9e3BvaW50LmRhdGE/LmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD17cG9pbnQuZGF0YT8uY29sb3J9XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5PXtjdXJyZW50X3BhcnR5Py5pZCA/IHBvaW50LmRhdGE/LmlkID09PSBjdXJyZW50X3BhcnR5Py5pZCA/IDEgOiAwLjUgOiAxfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZVxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1wYXJ0eT17cG9pbnQuZGF0YT8uaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBjeD17cG9pbnQueH0gY3k9e3BvaW50Lnl9XG4gICAgICAgICAgICAgICAgICAgICAgICByPXtkb3RzaXplfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD17cG9pbnQuZGF0YT8uY29sb3J9XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5PXtjdXJyZW50X3BhcnR5Py5pZCA/IHBvaW50LmRhdGE/LmlkID09PSBjdXJyZW50X3BhcnR5Py5pZCA/IDEgOiAwLjUgOiAxfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgIDwvZz5cbiAgICAgICAgPGcgaWQ9XCJudW1iZXJzXCIgdHJhbnNmb3JtPXtgdHJhbnNsYXRlKCR7ciArIChsZWZ0X3BhZGRpbmcpfSwgJHtyICsgKHRvcF9wYWRkaW5nKX0pYH0gY2xhc3M6aGlkZT17IWRpc3BsYXkuaW5jbHVkZXMoXCJudW1iZXJzXCIpfT5cbiAgICAgICAgICAgIHsjZWFjaCBwb2ludHMgYXMgcG9pbnQsIGl9XG4gICAgICAgICAgICAgICAgPHRleHQgeD17cG9pbnQueH0geT17cG9pbnQueX0gdGV4dC1hbmNob3I9XCJtaWRkbGVcIiBhbGlnbm1lbnQtYmFzZWxpbmU9XCJtaWRkbGVcIiBmaWxsPVwid2hpdGVcIiBmb250LXNpemU9XCI4XCI+eyBgJHtpfWAgfTwvdGV4dD5cbiAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgPC9nPlxuICAgICAgICA8ZyBpZD1cInZvcm9ub2lcIiB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHtyICsgbGVmdF9wYWRkaW5nfSwgJHtyICsgdG9wX3BhZGRpbmd9KWB9PlxuICAgICAgICAgICAgPCEtLSBEcmF3IFZvcm9ub2kgLS0+XG4gICAgICAgICAgICB7I2VhY2ggdm9yb25vaS5jZWxscyBhcyBjZWxsLCBpfVxuICAgICAgICAgICAgICAgIHsjaWYgKGNlbGwuaGFsZmVkZ2VzPy5sZW5ndGggPiAwKX1cbiAgICAgICAgICAgICAgICA8cGF0aCBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ2b3Jvbm9pX3BhdGhcIiBcbiAgICAgICAgICAgICAgICAgICAgZD17c2hhcGVGcm9tRWRnZXMoY2VsbC5oYWxmZWRnZXMpLnRvU3RyaW5nKCl9IFxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwidHJhbnNwYXJlbnRcIiBcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPXtkaXNwbGF5LmluY2x1ZGVzKFwidm9yb25vaVwiKSA/IFwid2hpdGVcIiA6IFwidHJhbnNwYXJlbnRcIn1cbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLXdpZHRoPXtkaXNwbGF5LmluY2x1ZGVzKFwidm9yb25vaVwiKSA/IDEgOiAwfVxuICAgICAgICAgICAgICAgICAgICBvbjptb3VzZW92ZXI9eygpID0+IHtzZWxlY3RQYXJ0eShjZWxsLnNpdGUpO319IFxuICAgICAgICAgICAgICAgICAgICBvbjpmb2N1cz17KCkgPT4gc2VsZWN0UGFydHkoY2VsbC5zaXRlKX0gb246bW91c2VvdXQ9eygpID0+IHVuc2VsZWN0UGFydHkoKX0gXG4gICAgICAgICAgICAgICAgICAgIG9uOmJsdXI9eygpID0+IHVuc2VsZWN0UGFydHkoKX0gcm9sZT1cImJ1dHRvblwiIHRhYmluZGV4PXtpfVxuICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4geyBjbGlja1BhcnR5KGNlbGwuc2l0ZSl9fVxuICAgICAgICAgICAgICAgICAgICBvbjprZXlwcmVzcz17KGUpID0+IHtpZiAoZS5rZXkgPT09IFwiRW50ZXJcIikge2NsaWNrUGFydHkoY2VsbC5zaXRlKTt9fX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgIDwvZz5cbiAgICAgICAgPGcgaWQ9XCJ0ZXh0XCIgdHJhbnNmb3JtPXtgdHJhbnNsYXRlKCR7dGV4dF9wb3NpdGlvbj8ueCB8fCByICsgbGVmdF9wYWRkaW5nfSwgJHt0ZXh0X3Bvc2l0aW9uPy55IHx8IHIgKyB0b3BfcGFkZGluZyArIDIwfSlgfSBjbGFzczpoaWRlPXshZGlzcGxheS5pbmNsdWRlcyhcInRleHRcIil9PlxuICAgICAgICAgICAgPCEtLSBJbnB1dCB0ZXh0IGRhdGEgLS0+XG4gICAgICAgICAgICB7I2lmIChjdXJyZW50X3BhcnR5KX1cbiAgICAgICAgICAgIDx0ZXh0IHg9ezB9IHk9ezB9IHRleHQtYW5jaG9yPVwibWlkZGxlXCIgYWxpZ25tZW50LWJhc2VsaW5lPVwibWlkZGxlXCIgZmlsbD17Y29sb3J9IGZvbnQtc2l6ZT17Zm9udF9zaXplfT57YCR7Y3VycmVudF9wYXJ0eS50ZXh0fWB9PC90ZXh0PlxuICAgICAgICAgICAgey9pZn1cbiAgICAgICAgPC9nPlxuICAgICAgICA8ZyBpZD1cInJlZmVyZW5jZVBvaW50c1wiIHRyYW5zZm9ybT17YHRyYW5zbGF0ZSgke3IgKyAobGVmdF9wYWRkaW5nKX0sICR7ciArICh0b3BfcGFkZGluZyl9KWB9IGNsYXNzOmhpZGU9eyFkaXNwbGF5LmluY2x1ZGVzKFwicmVmZXJlbmNlUG9pbnRzXCIpfT5cbiAgICAgICAgICAgIDxnIGNsYXNzPVwicmVmZXJlbmNlX3BvaW50c1wiPlxuICAgICAgICAgICAgICAgIDx0ZXh0IHg9MCB5PTEwIHRleHQtYW5jaG9yPVwibWlkZGxlXCIgYWxpZ25tZW50LWJhc2VsaW5lPVwibWlkZGxlXCIgZmlsbD1cIndoaXRlXCIgZm9udC1zaXplPVwiOFwiPjAsIDA8L3RleHQ+XG4gICAgICAgICAgICAgICAgPGNpcmNsZSBjeD0wIGN5PTAgcj0yIGZpbGw9XCJ3aGl0ZVwiIC8+XG4gICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICA8ZyBjbGFzcz1cInJlZmVyZW5jZV9wb2ludHNcIj5cbiAgICAgICAgICAgICAgICA8dGV4dCB4PXtyfSB5PTEwIHRleHQtYW5jaG9yPVwibWlkZGxlXCIgYWxpZ25tZW50LWJhc2VsaW5lPVwibWlkZGxlXCIgZmlsbD1cIndoaXRlXCIgZm9udC1zaXplPVwiOFwiPntgJHtyfSwgJHswfWB9PC90ZXh0PlxuICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9e3J9IGN5PXswfSByPTIgZmlsbD1cIndoaXRlXCIgLz5cbiAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgIDxnIGNsYXNzPVwicmVmZXJlbmNlX3BvaW50c1wiPlxuICAgICAgICAgICAgICAgIDx0ZXh0IHg9e3IgLSAxMH0geT17LXIgKyAxMH0gdGV4dC1hbmNob3I9XCJtaWRkbGVcIiBhbGlnbm1lbnQtYmFzZWxpbmU9XCJtaWRkbGVcIiBmaWxsPVwid2hpdGVcIiBmb250LXNpemU9XCI4XCI+e2Ake3J9LCAkey1yfWB9PC90ZXh0PlxuICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9e3J9IGN5PXstcn0gcj0yIGZpbGw9XCJ3aGl0ZVwiIC8+XG4gICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICA8ZyBjbGFzcz1cInJlZmVyZW5jZV9wb2ludHNcIj5cbiAgICAgICAgICAgICAgICA8dGV4dCB4PXstciArIDEwfSB5PXstciArIDEwfSB0ZXh0LWFuY2hvcj1cIm1pZGRsZVwiIGFsaWdubWVudC1iYXNlbGluZT1cIm1pZGRsZVwiIGZpbGw9XCJ3aGl0ZVwiIGZvbnQtc2l6ZT1cIjhcIj57YC0ke3J9LCAkey1yfWB9PC90ZXh0PlxuICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9ey1yfSBjeT17LXJ9IHI9MiBmaWxsPVwid2hpdGVcIiAvPlxuICAgICAgICAgICAgPC9nPlxuICAgICAgICAgICAgPGcgY2xhc3M9XCJyZWZlcmVuY2VfcG9pbnRzXCI+XG4gICAgICAgICAgICAgICAgPHRleHQgeD17LXJ9IHk9ezEwfSB0ZXh0LWFuY2hvcj1cIm1pZGRsZVwiIGFsaWdubWVudC1iYXNlbGluZT1cIm1pZGRsZVwiIGZpbGw9XCJ3aGl0ZVwiIGZvbnQtc2l6ZT1cIjhcIj57YC0ke3J9LCAkezB9YH08L3RleHQ+XG4gICAgICAgICAgICAgICAgPGNpcmNsZSBjeD17LXJ9IGN5PXswfSByPTIgZmlsbD1cIndoaXRlXCIgLz5cbiAgICAgICAgICAgIDwvZz5cbiAgICAgICAgPC9nPlxuICAgIDwvc3ZnPlxuPC9tYWluPlxuXG48c3R5bGU+XG5cbiAgICAuaGlkZSB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgIFxuPC9zdHlsZT5cbiIsIjxzY3JpcHQ+XG5cdGV4cG9ydCBsZXQgc2VsZWN0ZWRfeWVhciA9IDIwMjQ7IC8vIDIwMjQsIDIwMTksIDIwMTRcblx0ZXhwb3J0IGxldCBzZWxlY3RlZF9lbGVjdGlvbiA9ICdOYXRpb25hbCBBc3NlbWJseSc7IC8vIE5hdGlvbmFsIEFzc2VtYmx5LCBQcm92aW5jaWFsIExlZ2lzbGF0dXJlXG5cdGV4cG9ydCBsZXQgc2VsZWN0ZWRfcmVnaW9uID0gJ05hdGlvbmFsJzsgLy8gTmF0aW9uYWwsIEdhdXRlbmcsIFdlc3Rlcm4gQ2FwZSwgZXRjLlxuXHRleHBvcnQgbGV0IHNlbGVjdGVkX2ZpZWxkcyA9IFsnUGFydHknLCAnVm90ZXMnLCAnU2VhdHMnXTsgLy8gb25seSBmb3IgdGFibGVcbjwvc2NyaXB0PlxuXG48dGFibGU+XG5cdDx0aGVhZD5cblx0XHQ8dHI+XG5cdFx0XHR7I2VhY2ggc2VsZWN0ZWRfZmllbGRzIGFzIGZpZWxkfVxuXHRcdFx0XHQ8dGg+e2ZpZWxkfTwvdGg+XG5cdFx0XHR7L2VhY2h9XG5cdFx0PC90cj5cblx0PC90aGVhZD5cblx0PHRib2R5PlxuXHRcdDx0cj5cblx0XHRcdDx0ZD5BTkM8L3RkPlxuXHRcdFx0PHRkPjEwLDAwMCwwMDA8L3RkPlxuXHRcdFx0PHRkPjIwMDwvdGQ+XG5cdFx0PC90cj5cblx0XHQ8dHI+XG5cdFx0XHQ8dGQ+REE8L3RkPlxuXHRcdFx0PHRkPjUsMDAwLDAwMDwvdGQ+XG5cdFx0XHQ8dGQ+MTAwPC90ZD5cblx0XHQ8L3RyPlxuXHRcdDx0cj5cblx0XHRcdDx0ZD5FRkY8L3RkPlxuXHRcdFx0PHRkPjIsMDAwLDAwMDwvdGQ+XG5cdFx0XHQ8dGQ+NDA8L3RkPlxuXHRcdDwvdHI+XG5cdDwvdGJvZHk+XG48L3RhYmxlPlxuIiwiPHNjcmlwdD5cblx0aW1wb3J0IHsgb25Nb3VudCB9IGZyb20gJ3N2ZWx0ZSc7XG5cdGltcG9ydCBIZW1pY3ljbGUgZnJvbSAnc3ZlbHRlLWhlbWljeWNsZSc7XG5cdGltcG9ydCBUYWJsZSBmcm9tIFwiQGVsZWN0aW9uLWVuZ2luZS93b3JkcHJlc3MtYmxvY2svc3JjL3N2ZWx0ZS9jb21wb25lbnRzL1RhYmxlLnN2ZWx0ZVwiO1xuXG5cdGV4cG9ydCBsZXQgdmlzdWFsaXNhdGlvbiA9ICdoZW1pY3ljbGUnO1xuXHRleHBvcnQgbGV0IHNlbGVjdGVkX3llYXIgPSAyMDI0O1xuXHRleHBvcnQgbGV0IHNlbGVjdGVkX2VsZWN0aW9uID0gJ05hdGlvbmFsIEFzc2VtYmx5Jztcblx0ZXhwb3J0IGxldCBzZWxlY3RlZF9yZWdpb24gPSAnR2F1dGVuZyc7XG5cdGV4cG9ydCBsZXQgc2VsZWN0ZWRfZmllbGRzID0gWydQYXJ0eScsICdWb3RlcycsICdTZWF0cyddO1xuXG5cdGxldCBkYXRhID0gW11cblx0Y29uc3QgY29sb3VycyA9IFtcblx0XHRcIiNGRjAwMDBcIixcblx0XHRcIiMwMDAwRkZcIixcblx0XHRcIiMwMDgwMDBcIixcblx0XHRcIiNGRkE1MDBcIixcblx0XHRcIiNGRkZGMDBcIixcblx0XHRcIiM4MDAwODBcIixcblx0XHRcIiNGRkMwQ0JcIixcblx0XHRcIiMwMEZGRkZcIixcblx0XHRcIiNGRjAwRkZcIixcblx0XHRcIiMwMDAwMDBcIixcblx0XHRcIiM4MDgwODBcIixcblx0XHRcIiM4MDAwMDBcIixcblx0XHRcIiMwMDgwODBcIixcblx0XHRcIiM4MDAwODBcIixcblx0XHRcIiMwMDAwODBcIixcblx0XHRcIiM4MDgwMDBcIixcblx0XHRcIiMwMDgwMDBcIlxuXHRdXG5cdGNvbnN0IHRvdGFsX3NlYXRzID0gNDAwO1xuXHRjb25zdCByb3dzPSAxMjtcblx0b25Nb3VudChhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgbGl2ZV9yZXN1bHRzID0gYXdhaXQgZmV0Y2goXCJodHRwczovL2llYy1hcGkucmV2ZW5naW5lLmRhaWx5bWF2ZXJpY2suY28uemEvcmVzdWx0cy9zZWF0cy9uYXRpb25hbC8yMDE5XCIpO1xuXHRcdGNvbnN0IGxpdmVfcmVzdWx0c19qc29uID0gYXdhaXQgbGl2ZV9yZXN1bHRzLmpzb24oKTtcblx0XHRkYXRhID0gbGl2ZV9yZXN1bHRzX2pzb24ucGFydHlSZXN1bHRzLm1hcCgocGFydHksIGlkKSA9PiB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRpZDogaWQsXG5cdFx0XHRcdHRleHQ6IHBhcnR5LkFiYnJldmlhdGlvbixcblx0XHRcdFx0Y291bnQ6IHBhcnR5LlNlYXRzLFxuXHRcdFx0XHRjb2xvcjogY29sb3Vyc1tpZF0sXG5cdFx0XHR9O1xuXHRcdH0pO1xuXHR9KTtcbjwvc2NyaXB0PlxueyNpZiB2aXN1YWxpc2F0aW9uID09PSBcImhlbWljeWNsZVwifVxuXHQ8SGVtaWN5Y2xlIHtkYXRhfSB7dG90YWxfc2VhdHN9IHtyb3dzfSAvPlxuey9pZn1cbnsjaWYgdmlzdWFsaXNhdGlvbiA9PT0gXCJjYXJ0b1wifVxuXHQ8aDE+Q2FydG88L2gxPlxuXHQ8dWw+XG5cdFx0PGxpPlllYXI6IHtzZWxlY3RlZF95ZWFyfTwvbGk+XG5cdFx0PGxpPkVsZWN0aW9uOiB7c2VsZWN0ZWRfZWxlY3Rpb259PC9saT5cblx0XHQ8bGk+UmVnaW9uOiB7c2VsZWN0ZWRfcmVnaW9ufTwvbGk+XG5cdDwvdWw+XG57L2lmfVxueyNpZiB2aXN1YWxpc2F0aW9uID09PSBcInRhYmxlXCJ9XG5cdDxoMT5UYWJsZTwvaDE+XG5cdDxUYWJsZSB7c2VsZWN0ZWRfeWVhcn0ge3NlbGVjdGVkX2VsZWN0aW9ufSB7c2VsZWN0ZWRfcmVnaW9ufSB7c2VsZWN0ZWRfZmllbGRzfSAvPlxuey9pZn1cblxuIiwiLy8gaW1wb3J0ICcuL2FwcC5jc3MnXG5pbXBvcnQgQXBwIGZyb20gJy4vQXBwLnN2ZWx0ZSdcbmNvbnNvbGUubG9nKFwiQXBwXCIpXG4vLyBHZXQgXCJpZFwiIGF0dHJpYnV0ZSBmcm9tIHRoZSBkaXYgZWxlbWVudCBpbiB0aGUgYmxvY2tcbmpRdWVyeSgoKSA9PiB7XG5cdGNvbnN0IHRhcmdldHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcud3AtYmxvY2stdGVubGF5ZXItZWxlY3Rpb24tZW5naW5lJyk7XG5cdHRhcmdldHMuZm9yRWFjaCh0YXJnZXQgPT4ge1xuXHRcdGxldCBwcm9wcyA9IHtcblx0XHRcdGlkOiB0YXJnZXQuaWQsXG5cdFx0XHR2aXN1YWxpc2F0aW9uOiBqUXVlcnkodGFyZ2V0KS5kYXRhKFwidmlzdWFsaXNhdGlvblwiKSxcblx0XHRcdHNlbGVjdGVkX3llYXI6IGpRdWVyeSh0YXJnZXQpLmRhdGEoXCJzZWxlY3RlZF95ZWFyXCIpLFxuXHRcdFx0c2VsZWN0ZWRfZWxlY3Rpb246IGpRdWVyeSh0YXJnZXQpLmRhdGEoXCJzZWxlY3RlZF9lbGVjdGlvblwiKSxcblx0XHRcdHNlbGVjdGVkX3JlZ2lvbjogalF1ZXJ5KHRhcmdldCkuZGF0YShcInNlbGVjdGVkX3JlZ2lvblwiKSxcblx0XHRcdHNlbGVjdGVkX2ZpZWxkczogalF1ZXJ5KHRhcmdldCkuZGF0YShcInNlbGVjdGVkX2ZpZWxkc1wiKT8uc3BsaXQoXCIsXCIpLm1hcChzID0+IHMudHJpbSgpKSxcblx0XHR9XG5cdFx0bmV3IEFwcCh7XG5cdFx0XHR0YXJnZXQsXG5cdFx0XHRwcm9wc1xuXHRcdH0pXG5cdH0pXG59KVxuLy8gZXhwb3J0IGRlZmF1bHQgYXBwXG4iXSwibmFtZXMiOlsibm9vcCIsInJ1biIsImZuIiwiYmxhbmtfb2JqZWN0IiwicnVuX2FsbCIsImZucyIsImlzX2Z1bmN0aW9uIiwidGhpbmciLCJzYWZlX25vdF9lcXVhbCIsImEiLCJiIiwiaXNfZW1wdHkiLCJvYmoiLCJhcHBlbmQiLCJ0YXJnZXQiLCJub2RlIiwiaW5zZXJ0IiwiYW5jaG9yIiwiZGV0YWNoIiwiZGVzdHJveV9lYWNoIiwiaXRlcmF0aW9ucyIsImRldGFjaGluZyIsImkiLCJlbGVtZW50IiwibmFtZSIsInN2Z19lbGVtZW50IiwidGV4dCIsImRhdGEiLCJzcGFjZSIsImVtcHR5IiwibGlzdGVuIiwiZXZlbnQiLCJoYW5kbGVyIiwib3B0aW9ucyIsImF0dHIiLCJhdHRyaWJ1dGUiLCJ2YWx1ZSIsImNoaWxkcmVuIiwic2V0X2RhdGEiLCJ0b2dnbGVfY2xhc3MiLCJ0b2dnbGUiLCJjdXJyZW50X2NvbXBvbmVudCIsInNldF9jdXJyZW50X2NvbXBvbmVudCIsImNvbXBvbmVudCIsImdldF9jdXJyZW50X2NvbXBvbmVudCIsIm9uTW91bnQiLCJkaXJ0eV9jb21wb25lbnRzIiwiYmluZGluZ19jYWxsYmFja3MiLCJyZW5kZXJfY2FsbGJhY2tzIiwiZmx1c2hfY2FsbGJhY2tzIiwicmVzb2x2ZWRfcHJvbWlzZSIsInVwZGF0ZV9zY2hlZHVsZWQiLCJzY2hlZHVsZV91cGRhdGUiLCJmbHVzaCIsImFkZF9yZW5kZXJfY2FsbGJhY2siLCJzZWVuX2NhbGxiYWNrcyIsImZsdXNoaWR4Iiwic2F2ZWRfY29tcG9uZW50IiwidXBkYXRlIiwiY2FsbGJhY2siLCIkJCIsImRpcnR5IiwiZmx1c2hfcmVuZGVyX2NhbGxiYWNrcyIsImZpbHRlcmVkIiwidGFyZ2V0cyIsImMiLCJvdXRyb2luZyIsIm91dHJvcyIsImdyb3VwX291dHJvcyIsImNoZWNrX291dHJvcyIsInRyYW5zaXRpb25faW4iLCJibG9jayIsImxvY2FsIiwidHJhbnNpdGlvbl9vdXQiLCJlbnN1cmVfYXJyYXlfbGlrZSIsImFycmF5X2xpa2Vfb3JfaXRlcmF0b3IiLCJjcmVhdGVfY29tcG9uZW50IiwibW91bnRfY29tcG9uZW50IiwiZnJhZ21lbnQiLCJhZnRlcl91cGRhdGUiLCJuZXdfb25fZGVzdHJveSIsImRlc3Ryb3lfY29tcG9uZW50IiwibWFrZV9kaXJ0eSIsImluaXQiLCJpbnN0YW5jZSIsImNyZWF0ZV9mcmFnbWVudCIsIm5vdF9lcXVhbCIsInByb3BzIiwiYXBwZW5kX3N0eWxlcyIsInBhcmVudF9jb21wb25lbnQiLCJyZWFkeSIsInJldCIsInJlc3QiLCJub2RlcyIsIlN2ZWx0ZUNvbXBvbmVudCIsIl9fcHVibGljRmllbGQiLCJ0eXBlIiwiY2FsbGJhY2tzIiwiaW5kZXgiLCJQVUJMSUNfVkVSU0lPTiIsInJidHJlZSIsIlJCVHJlZSIsInN1Y2Nlc3NvciIsInBhcmVudCIsImdyYW5kcGEiLCJ1bmNsZSIsImxlZnQiLCJyaWdodCIsIm5leHQiLCJpc1JlZCIsInNpYmxpbmciLCJwIiwicSIsIlJCVHJlZU5vZGUiLCJ2ZXJ0ZXgiLCJWZXJ0ZXgiLCJ4IiwieSIsImVkZ2UiLCJFZGdlIiwibFNpdGUiLCJyU2l0ZSIsImNlbGwiLCJDZWxsIiwic2l0ZSIsImhhbGZlZGdlcyIsImlIYWxmZWRnZSIsIm5laWdoYm9ycyIsInhtaW4iLCJ5bWluIiwieG1heCIsInltYXgiLCJ2IiwidngiLCJ2eSIsImhhbGZlZGdlIiwicDAiLCJwMSIsInIiLCJkaWFncmFtIiwiRGlhZ3JhbSIsIkhhbGZlZGdlIiwidmEiLCJ2YiIsInZvcm9ub2kiLCJyYnRyZWVfMSIsInJlcXVpcmUkJDAiLCJ2ZXJ0ZXhfMSIsInJlcXVpcmUkJDEiLCJlZGdlXzEiLCJyZXF1aXJlJCQyIiwiY2VsbF8xIiwicmVxdWlyZSQkMyIsImRpYWdyYW1fMSIsInJlcXVpcmUkJDQiLCJoYWxmZWRnZV8xIiwicmVxdWlyZSQkNSIsIlZvcm9ub2kiLCJzaXRlcyIsImJib3giLCJzdGFydFRpbWUiLCJzaXRlRXZlbnRzIiwic2l0ZWlkIiwieHNpdGV4IiwieHNpdGV5IiwiY2VsbHMiLCJjaXJjbGUiLCJzdG9wVGltZSIsImVwcyIsIm4iLCJiZWFjaHNlY3Rpb24iLCJhcmMiLCJkaXJlY3RyaXgiLCJyZm9jeCIsInJmb2N5IiwicGJ5MiIsImxBcmMiLCJsZm9jeCIsImxmb2N5IiwicGxieTIiLCJobCIsImFieTIiLCJyQXJjIiwicHJldmlvdXMiLCJkaXNhcHBlYXJpbmdUcmFuc2l0aW9ucyIsImFic19mbiIsIm5BcmNzIiwiaUFyYyIsImR4bCIsImR4ciIsIm5ld0FyYyIsImF4IiwiYXkiLCJieCIsImJ5IiwiY3giLCJjeSIsImQiLCJoYiIsImhjIiwiY1NpdGUiLCJoYSIsInljZW50ZXIiLCJjaXJjbGVFdmVudCIsInByZWRlY2Vzc29yIiwieGwiLCJ4ciIsInl0IiwieWIiLCJseCIsImx5IiwicngiLCJyeSIsImZ4IiwiZnkiLCJmbSIsImZiIiwidDAiLCJ0MSIsImR4IiwiZHkiLCJlZGdlcyIsImlFZGdlIiwiaUNlbGwiLCJpTGVmdCIsIm5IYWxmZWRnZXMiLCJ2eiIsImxhc3RCb3JkZXJTZWdtZW50IiwiVm9yb25vaV8xIiwiY2FsY1Zvcm9ub2kiLCJwb2ludHMiLCJwa2cuVm9yb25vaSIsIm1pbl94IiwibWF4X3giLCJtaW5feSIsIm1heF95IiwicG9pbnQiLCJzaGFwZUZyb21FZGdlcyIsInJlc3VsdCIsImZpcnN0X2VkZ2UiLCJzdGFydCIsImVuZCIsImhlbWljeWNsZSIsInJhZGl1cyIsInJvd3MiLCJhbmdsZSIsInRvdGFsQXJjTGVuZ3RoIiwiYXJjTGVuZ3RoIiwiZGlzdGFuY2VCZXR3ZWVuUG9pbnRzIiwidG90YWxfcG9pbnRzIiwicG9pbnRzSW5BcmMiLCJsb2NhbERpc3RhbmNlQmV0d2VlblBvaW50cyIsIm9mZnNldCIsImoiLCJwYXRoIiwicGF0aF9kX3ZhbHVlIiwiY3R4IiwiX2EiLCJjaXJjbGVfY3hfdmFsdWUiLCJjaXJjbGVfY3lfdmFsdWUiLCJfYiIsImNpcmNsZV9vcGFjaXR5X3ZhbHVlIiwiX2MiLCJfZCIsIl9lIiwiaGV4YWdvblNoYXBlIiwicGF0aF90cmFuc2Zvcm1fdmFsdWUiLCJwYXRoX29wYWNpdHlfdmFsdWUiLCJjcmVhdGVfaWZfYmxvY2tfMiIsInRleHRfMSIsInRleHRfMV94X3ZhbHVlIiwidGV4dF8xX3lfdmFsdWUiLCJwYXRoX3N0cm9rZV93aWR0aF92YWx1ZSIsImlmX2Jsb2NrIiwiY3JlYXRlX2lmX2Jsb2NrXzEiLCJ0X3ZhbHVlIiwidCIsInQxX3ZhbHVlIiwidDJfdmFsdWUiLCJ0M192YWx1ZSIsInQ0X3ZhbHVlIiwiZWFjaF92YWx1ZV8zIiwiZWFjaF92YWx1ZSIsImNyZWF0ZV9pZl9ibG9jayIsImcwIiwiZzBfdHJhbnNmb3JtX3ZhbHVlIiwiZzEiLCJnMV90cmFuc2Zvcm1fdmFsdWUiLCJnMiIsImcyX3RyYW5zZm9ybV92YWx1ZSIsImczIiwiZzNfdHJhbnNmb3JtX3ZhbHVlIiwiZzQiLCJnNF90cmFuc2Zvcm1fdmFsdWUiLCJ0ZXh0MiIsInRleHQyX3hfdmFsdWUiLCJ0ZXh0Ml95X3ZhbHVlIiwidGV4dDMiLCJ0ZXh0M194X3ZhbHVlIiwidGV4dDNfeV92YWx1ZSIsImcxMCIsImcxMF90cmFuc2Zvcm1fdmFsdWUiLCJtYWluIiwic3ZnIiwiZzUiLCJ0ZXh0MCIsImNpcmNsZTAiLCJnNiIsInRleHQxIiwiY2lyY2xlMSIsImc3IiwiY2lyY2xlMiIsImc4IiwiY2lyY2xlMyIsImc5IiwidGV4dDQiLCJjaXJjbGU0IiwidDIiLCJ0MyIsInQ0IiwiJCRwcm9wcyIsImRvdHNpemUiLCJwYWRkaW5nIiwidG90YWxfc2VhdHMiLCJjb2xvciIsImZvbnRfc2l6ZSIsInRleHRfcG9zaXRpb24iLCJzZWxlY3RlZFNoYXBlIiwiZGlzcGxheSIsImN1cnJlbnRfcGFydHkiLCJjbGlja2VkIiwidG9wX3BhZGRpbmciLCJib3R0b21fcGFkZGluZyIsImxlZnRfcGFkZGluZyIsInJpZ2h0X3BhZGRpbmciLCJzdmdXaWR0aCIsInN2Z0hlaWdodCIsImNhbGNQYWRkaW5nIiwiJCRpbnZhbGlkYXRlIiwic2VsZWN0UGFydHkiLCJjbGlja1BhcnR5IiwidW5zZWxlY3RQYXJ0eSIsImUiLCJhY2MiLCJjdXIiLCJ0aCIsInRhYmxlIiwidGhlYWQiLCJ0cjAiLCJ0Ym9keSIsInNlbGVjdGVkX3llYXIiLCJzZWxlY3RlZF9lbGVjdGlvbiIsInNlbGVjdGVkX3JlZ2lvbiIsInNlbGVjdGVkX2ZpZWxkcyIsImgxIiwidWwiLCJsaTAiLCJsaTEiLCJsaTIiLCJpZl9ibG9jazAiLCJpZl9ibG9jazEiLCJpZl9ibG9jazIiLCJ2aXN1YWxpc2F0aW9uIiwiY29sb3VycyIsImxpdmVfcmVzdWx0c19qc29uIiwicGFydHkiLCJpZCIsInMiLCJBcHAiXSwibWFwcGluZ3MiOiJ3UUFDTyxTQUFTQSxHQUFPLENBQUUsQ0FzQ2xCLFNBQVNDLEVBQUlDLEVBQUksQ0FDdkIsT0FBT0EsRUFBRSxDQUNWLENBRU8sU0FBU0MsR0FBZSxDQUM5QixPQUFPLE9BQU8sT0FBTyxJQUFJLENBQzFCLENBTU8sU0FBU0MsR0FBUUMsRUFBSyxDQUM1QkEsRUFBSSxRQUFRSixDQUFHLENBQ2hCLENBTU8sU0FBU0ssR0FBWUMsRUFBTyxDQUNsQyxPQUFPLE9BQU9BLEdBQVUsVUFDekIsQ0FHTyxTQUFTQyxHQUFlQyxFQUFHQyxFQUFHLENBQ3BDLE9BQU9ELEdBQUtBLEVBQUlDLEdBQUtBLEVBQUlELElBQU1DLEdBQU1ELEdBQUssT0FBT0EsR0FBTSxVQUFhLE9BQU9BLEdBQU0sVUFDbEYsQ0FzRE8sU0FBU0UsR0FBU0MsRUFBSyxDQUM3QixPQUFPLE9BQU8sS0FBS0EsQ0FBRyxFQUFFLFNBQVcsQ0FDcEMsQ0NvQk8sU0FBU0MsRUFBT0MsRUFBUUMsRUFBTSxDQUNwQ0QsRUFBTyxZQUFZQyxDQUFJLENBQ3hCLENBOEZPLFNBQVNDLEVBQU9GLEVBQVFDLEVBQU1FLEVBQVEsQ0FDNUNILEVBQU8sYUFBYUMsRUFBTUUsR0FBVSxJQUFJLENBQ3pDLENBb0JPLFNBQVNDLEVBQU9ILEVBQU0sQ0FDeEJBLEVBQUssWUFDUkEsRUFBSyxXQUFXLFlBQVlBLENBQUksQ0FFbEMsQ0FJTyxTQUFTSSxHQUFhQyxFQUFZQyxFQUFXLENBQ25ELFFBQVNDLEVBQUksRUFBR0EsRUFB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QkEsT0FBa0IsMEVBUWxCQSxPQUFrQiw2TkExQmhCLE1BQUFtRSxHQUFjLElBQ2QvRSxHQUFNLHNCQTNCRCxHQUFBLENBQUEsY0FBQXNILEVBQWdCLFdBQVcsRUFBQTFDLEVBQzNCLENBQUEsY0FBQThCLEVBQWdCLElBQUksRUFBQTlCLEVBQ3BCLENBQUEsa0JBQUErQixFQUFvQixtQkFBbUIsRUFBQS9CLEVBQ3ZDLENBQUEsZ0JBQUFnQyxFQUFrQixTQUFTLEVBQUFoQyxFQUMzQixDQUFBLGdCQUFBaUMsRUFBbUIsQ0FBQSxRQUFTLFFBQVMsT0FBTyxDQUFBLEVBQUFqQyxFQUVuRHJTLEVBQUksQ0FBQSxRQUNGZ1YsRUFBTyxDQUNaLFVBQ0EsVUFDQSxVQUNBLFVBQ0EsVUFDQSxVQUNBLFVBQ0EsVUFDQSxVQUNBLFVBQ0EsVUFDQSxVQUNBLFVBQ0EsVUFDQSxVQUNBLFVBQ0EsV0FJRCxPQUFBOVQsR0FBTyxTQUFBLE9BRUErVCxFQUFpQixNQURMLE1BQVMsTUFBTSwyRUFBMkUsR0FDL0QsV0FDN0NqVixFQUFPaVYsRUFBa0IsYUFBYSxJQUFHLENBQUVDLEVBQU9DLE1BRTVDLEdBQUFBLEVBQ0osS0FBTUQsRUFBTSxhQUNaLE1BQU9BLEVBQU0sTUFDYixNQUFPRixFQUFRRyxDQUFFLHlhQ3ZDckIsUUFBUSxJQUFJLEtBQUssRUFFakIsT0FBTyxJQUFNLENBQ0ksU0FBUyxpQkFBaUIsb0NBQW9DLEVBQ3RFLFFBQVFoVyxHQUFVLE9BQ3pCLElBQUl5RSxFQUFRLENBQ1gsR0FBSXpFLEVBQU8sR0FDWCxjQUFlLE9BQU9BLENBQU0sRUFBRSxLQUFLLGVBQWUsRUFDbEQsY0FBZSxPQUFPQSxDQUFNLEVBQUUsS0FBSyxlQUFlLEVBQ2xELGtCQUFtQixPQUFPQSxDQUFNLEVBQUUsS0FBSyxtQkFBbUIsRUFDMUQsZ0JBQWlCLE9BQU9BLENBQU0sRUFBRSxLQUFLLGlCQUFpQixFQUN0RCxpQkFBaUJtUCxFQUFBLE9BQU9uUCxDQUFNLEVBQUUsS0FBSyxpQkFBaUIsSUFBckMsWUFBQW1QLEVBQXdDLE1BQU0sS0FBSyxJQUFJOEcsR0FBS0EsRUFBRSxLQUFJLEVBQ25GLEVBQ0QsSUFBSUMsR0FBSSxDQUNQLE9BQUFsVyxFQUNBLE1BQUF5RSxDQUNILENBQUcsQ0FDSCxDQUFFLENBQ0YsQ0FBQyIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswLDEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4XX0=
